(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var I2={exports:{}},_f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function M4(){if(j5)return _f;j5=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return _f.Fragment=t,_f.jsx=e,_f.jsxs=e,_f}var V5;function k4(){return V5||(V5=1,I2.exports=M4()),I2.exports}var G=k4(),R2={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function j4(){if(U5)return Qe;U5=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,V={};function H(B,pt,P){this.props=B,this.context=pt,this.refs=V,this.updater=P||A}H.prototype.isReactComponent={},H.prototype.setState=function(B,pt){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,pt,"setState")},H.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=H.prototype;function X(B,pt,P){this.props=B,this.context=pt,this.refs=V,this.updater=P||A}var nt=X.prototype=new j;nt.constructor=X,R(nt,H.prototype),nt.isPureReactComponent=!0;var At=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},kt=Object.prototype.hasOwnProperty;function W(B,pt,P,U,J,rt){return P=rt.ref,{$$typeof:i,type:B,key:pt,ref:P!==void 0?P:null,props:rt}}function L(B,pt){return W(B.type,pt,void 0,void 0,void 0,B.props)}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function Z(B){var pt={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(P){return pt[P]})}var I=/\/+/g;function C(B,pt){return typeof B=="object"&&B!==null&&B.key!=null?Z(""+B.key):pt.toString(36)}function O(){}function at(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(pt){B.status==="pending"&&(B.status="fulfilled",B.value=pt)},function(pt){B.status==="pending"&&(B.status="rejected",B.reason=pt)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Tt(B,pt,P,U,J){var rt=typeof B;(rt==="undefined"||rt==="boolean")&&(B=null);var lt=!1;if(B===null)lt=!0;else switch(rt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(B.$$typeof){case i:case t:lt=!0;break;case v:return lt=B._init,Tt(lt(B._payload),pt,P,U,J)}}if(lt)return J=J(B),lt=U===""?"."+C(B,0):U,At(J)?(P="",lt!=null&&(P=lt.replace(I,"$&/")+"/"),Tt(J,pt,P,"",function(Dt){return Dt})):J!=null&&(z(J)&&(J=L(J,P+(J.key==null||B&&B.key===J.key?"":(""+J.key).replace(I,"$&/")+"/")+lt)),pt.push(J)),1;lt=0;var Et=U===""?".":U+":";if(At(B))for(var St=0;St<B.length;St++)U=B[St],rt=Et+C(U,St),lt+=Tt(U,pt,P,rt,J);else if(St=T(B),typeof St=="function")for(B=St.call(B),St=0;!(U=B.next()).done;)U=U.value,rt=Et+C(U,St++),lt+=Tt(U,pt,P,rt,J);else if(rt==="object"){if(typeof B.then=="function")return Tt(at(B),pt,P,U,J);throw pt=String(B),Error("Objects are not valid as a React child (found: "+(pt==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":pt)+"). If you meant to render a collection of children, use an array instead.")}return lt}function et(B,pt,P){if(B==null)return B;var U=[],J=0;return Tt(B,U,"","",function(rt){return pt.call(P,rt,J++)}),U}function ht(B){if(B._status===-1){var pt=B._result;pt=pt(),pt.then(function(P){(B._status===0||B._status===-1)&&(B._status=1,B._result=P)},function(P){(B._status===0||B._status===-1)&&(B._status=2,B._result=P)}),B._status===-1&&(B._status=0,B._result=pt)}if(B._status===1)return B._result.default;throw B._result}var ut=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(pt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Nt(){}return Qe.Children={map:et,forEach:function(B,pt,P){et(B,function(){pt.apply(this,arguments)},P)},count:function(B){var pt=0;return et(B,function(){pt++}),pt},toArray:function(B){return et(B,function(pt){return pt})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Qe.Component=H,Qe.Fragment=e,Qe.Profiler=a,Qe.PureComponent=X,Qe.StrictMode=r,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return bt.H.useMemoCache(B)}},Qe.cache=function(B){return function(){return B.apply(null,arguments)}},Qe.cloneElement=function(B,pt,P){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var U=R({},B.props),J=B.key,rt=void 0;if(pt!=null)for(lt in pt.ref!==void 0&&(rt=void 0),pt.key!==void 0&&(J=""+pt.key),pt)!kt.call(pt,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&pt.ref===void 0||(U[lt]=pt[lt]);var lt=arguments.length-2;if(lt===1)U.children=P;else if(1<lt){for(var Et=Array(lt),St=0;St<lt;St++)Et[St]=arguments[St+2];U.children=Et}return W(B.type,J,void 0,void 0,rt,U)},Qe.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Qe.createElement=function(B,pt,P){var U,J={},rt=null;if(pt!=null)for(U in pt.key!==void 0&&(rt=""+pt.key),pt)kt.call(pt,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(J[U]=pt[U]);var lt=arguments.length-2;if(lt===1)J.children=P;else if(1<lt){for(var Et=Array(lt),St=0;St<lt;St++)Et[St]=arguments[St+2];J.children=Et}if(B&&B.defaultProps)for(U in lt=B.defaultProps,lt)J[U]===void 0&&(J[U]=lt[U]);return W(B,rt,void 0,void 0,null,J)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(B){return{$$typeof:f,render:B}},Qe.isValidElement=z,Qe.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ht}},Qe.memo=function(B,pt){return{$$typeof:y,type:B,compare:pt===void 0?null:pt}},Qe.startTransition=function(B){var pt=bt.T,P={};bt.T=P;try{var U=B(),J=bt.S;J!==null&&J(P,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Nt,ut)}catch(rt){ut(rt)}finally{bt.T=pt}},Qe.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},Qe.use=function(B){return bt.H.use(B)},Qe.useActionState=function(B,pt,P){return bt.H.useActionState(B,pt,P)},Qe.useCallback=function(B,pt){return bt.H.useCallback(B,pt)},Qe.useContext=function(B){return bt.H.useContext(B)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(B,pt){return bt.H.useDeferredValue(B,pt)},Qe.useEffect=function(B,pt,P){var U=bt.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(B,pt)},Qe.useId=function(){return bt.H.useId()},Qe.useImperativeHandle=function(B,pt,P){return bt.H.useImperativeHandle(B,pt,P)},Qe.useInsertionEffect=function(B,pt){return bt.H.useInsertionEffect(B,pt)},Qe.useLayoutEffect=function(B,pt){return bt.H.useLayoutEffect(B,pt)},Qe.useMemo=function(B,pt){return bt.H.useMemo(B,pt)},Qe.useOptimistic=function(B,pt){return bt.H.useOptimistic(B,pt)},Qe.useReducer=function(B,pt,P){return bt.H.useReducer(B,pt,P)},Qe.useRef=function(B){return bt.H.useRef(B)},Qe.useState=function(B){return bt.H.useState(B)},Qe.useSyncExternalStore=function(B,pt,P){return bt.H.useSyncExternalStore(B,pt,P)},Qe.useTransition=function(){return bt.H.useTransition()},Qe.version="19.1.1",Qe}var B5;function F0(){return B5||(B5=1,R2.exports=j4()),R2.exports}var me=F0(),C2={exports:{}},bf={},L2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function V4(){return F5||(F5=1,function(i){function t(et,ht){var ut=et.length;et.push(ht);t:for(;0<ut;){var Nt=ut-1>>>1,B=et[Nt];if(0<a(B,ht))et[Nt]=ht,et[ut]=B,ut=Nt;else break t}}function e(et){return et.length===0?null:et[0]}function r(et){if(et.length===0)return null;var ht=et[0],ut=et.pop();if(ut!==ht){et[0]=ut;t:for(var Nt=0,B=et.length,pt=B>>>1;Nt<pt;){var P=2*(Nt+1)-1,U=et[P],J=P+1,rt=et[J];if(0>a(U,ut))J<B&&0>a(rt,U)?(et[Nt]=rt,et[J]=ut,Nt=J):(et[Nt]=U,et[P]=ut,Nt=P);else if(J<B&&0>a(rt,ut))et[Nt]=rt,et[J]=ut,Nt=J;else break t}}return ht}function a(et,ht){var ut=et.sortIndex-ht.sortIndex;return ut!==0?ut:et.id-ht.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();i.unstable_now=function(){return c.now()-f}}var p=[],y=[],v=1,E=null,T=3,A=!1,R=!1,V=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function At(et){for(var ht=e(y);ht!==null;){if(ht.callback===null)r(y);else if(ht.startTime<=et)r(y),ht.sortIndex=ht.expirationTime,t(p,ht);else break;ht=e(y)}}function bt(et){if(V=!1,At(et),!R)if(e(p)!==null)R=!0,kt||(kt=!0,C());else{var ht=e(y);ht!==null&&Tt(bt,ht.startTime-et)}}var kt=!1,W=-1,L=5,z=-1;function Z(){return H?!0:!(i.unstable_now()-z<L)}function I(){if(H=!1,kt){var et=i.unstable_now();z=et;var ht=!0;try{t:{R=!1,V&&(V=!1,X(W),W=-1),A=!0;var ut=T;try{e:{for(At(et),E=e(p);E!==null&&!(E.expirationTime>et&&Z());){var Nt=E.callback;if(typeof Nt=="function"){E.callback=null,T=E.priorityLevel;var B=Nt(E.expirationTime<=et);if(et=i.unstable_now(),typeof B=="function"){E.callback=B,At(et),ht=!0;break e}E===e(p)&&r(p),At(et)}else r(p);E=e(p)}if(E!==null)ht=!0;else{var pt=e(y);pt!==null&&Tt(bt,pt.startTime-et),ht=!1}}break t}finally{E=null,T=ut,A=!1}ht=void 0}}finally{ht?C():kt=!1}}}var C;if(typeof nt=="function")C=function(){nt(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,at=O.port2;O.port1.onmessage=I,C=function(){at.postMessage(null)}}else C=function(){j(I,0)};function Tt(et,ht){W=j(function(){et(i.unstable_now())},ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(et){et.callback=null},i.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<et?Math.floor(1e3/et):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(et){switch(T){case 1:case 2:case 3:var ht=3;break;default:ht=T}var ut=T;T=ht;try{return et()}finally{T=ut}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(et,ht){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ut=T;T=et;try{return ht()}finally{T=ut}},i.unstable_scheduleCallback=function(et,ht,ut){var Nt=i.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Nt+ut:Nt):ut=Nt,et){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ut+B,et={id:v++,callback:ht,priorityLevel:et,startTime:ut,expirationTime:B,sortIndex:-1},ut>Nt?(et.sortIndex=ut,t(y,et),e(p)===null&&et===e(y)&&(V?(X(W),W=-1):V=!0,Tt(bt,ut-Nt))):(et.sortIndex=B,t(p,et),R||A||(R=!0,kt||(kt=!0,C()))),et},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(et){var ht=T;return function(){var ut=T;T=ht;try{return et.apply(this,arguments)}finally{T=ut}}}}(D2)),D2}var q5;function U4(){return q5||(q5=1,L2.exports=V4()),L2.exports}var P2={exports:{}},Ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function B4(){if(z5)return Ur;z5=1;var i=F0();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,y,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:y,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ur.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return l(p,y,null,v)},Ur.flushSync=function(p){var y=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=y,r.p=v,r.d.f()}},Ur.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Ur.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ur.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,E=f(v,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ur.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=f(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Ur.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,E=f(v,y.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ur.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=f(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Ur.requestFormReset=function(p){r.d.r(p)},Ur.unstable_batchedUpdates=function(p,y){return p(y)},Ur.useFormState=function(p,y,v){return c.H.useFormState(p,y,v)},Ur.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ur.version="19.1.1",Ur}var H5;function F4(){if(H5)return P2.exports;H5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),P2.exports=B4(),P2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5;function q4(){if(G5)return bf;G5=1;var i=U4(),t=F0(),e=F4();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var m=o.return;if(m===null)break;var _=m.alternate;if(_===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===o)return f(m),n;if(_===u)return f(m),s;_=_.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=_;else{for(var D=!1,Q=m.child;Q;){if(Q===o){D=!0,o=m,u=_;break}if(Q===u){D=!0,u=m,o=_;break}Q=Q.sibling}if(!D){for(Q=_.child;Q;){if(Q===o){D=!0,o=_,u=m;break}if(Q===u){D=!0,u=_,o=m;break}Q=Q.sibling}if(!D)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function at(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case H:return"Profiler";case V:return"StrictMode";case bt:return"Suspense";case kt:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case nt:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case At:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return s=n.displayName||null,s!==null?s:at(n.type)||"Memo";case L:s=n._payload,n=n._init;try{return at(n(s))}catch{}}return null}var Tt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Nt=[],B=-1;function pt(n){return{current:n}}function P(n){0>B||(n.current=Nt[B],Nt[B]=null,B--)}function U(n,s){B++,Nt[B]=n.current,n.current=s}var J=pt(null),rt=pt(null),lt=pt(null),Et=pt(null);function St(n,s){switch(U(lt,s),U(rt,n),U(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?h5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=h5(s),n=f5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}P(J),U(J,n)}function Dt(){P(J),P(rt),P(lt)}function Jt(n){n.memoizedState!==null&&U(Et,n);var s=J.current,o=f5(s,n.type);s!==o&&(U(rt,n),U(J,o))}function Wt(n){rt.current===n&&(P(J),P(rt)),Et.current===n&&(P(Et),pf._currentValue=ut)}var ne=Object.prototype.hasOwnProperty,te=i.unstable_scheduleCallback,we=i.unstable_cancelCallback,Vt=i.unstable_shouldYield,st=i.unstable_requestPaint,Se=i.unstable_now,he=i.unstable_getCurrentPriorityLevel,$t=i.unstable_ImmediatePriority,Zt=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,ae=i.unstable_LowPriority,ye=i.unstable_IdlePriority,De=i.log,Ue=i.unstable_setDisableYieldValue,_e=null,ge=null;function Ge(n){if(typeof De=="function"&&Ue(n),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(_e,n)}catch{}}var fe=Math.clz32?Math.clz32:ti,Ye=Math.log,oe=Math.LN2;function ti(n){return n>>>=0,n===0?32:31-(Ye(n)/oe|0)|0}var Xe=256,Ki=4194304;function $e(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xn(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,_=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~_,u!==0?m=$e(u):(D&=Q,D!==0?m=$e(D):o||(o=Q&~n,o!==0&&(m=$e(o))))):(Q=u&~_,Q!==0?m=$e(Q):D!==0?m=$e(D):o||(o=u&~n,o!==0&&(m=$e(o)))),m===0?0:s!==0&&s!==m&&(s&_)===0&&(_=m&-m,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:m}function ir(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function an(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(){var n=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),n}function jn(){var n=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),n}function Ei(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Qi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vn(n,s,o,u,m,_){var D=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var Q=n.entanglements,ot=n.expirationTimes,Lt=n.hiddenUpdates;for(o=D&~o;0<o;){var Bt=31-fe(o),Gt=1<<Bt;Q[Bt]=0,ot[Bt]=-1;var Pt=Lt[Bt];if(Pt!==null)for(Lt[Bt]=null,Bt=0;Bt<Pt.length;Bt++){var Ot=Pt[Bt];Ot!==null&&(Ot.lane&=-536870913)}o&=~Gt}u!==0&&Ee(n,u,0),_!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=_&~(D&~s))}function Ee(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-fe(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function on(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-fe(o),m=1<<u;m&s|n[u]&s&&(n[u]|=s),o&=~m}}function Nr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ei(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xi(){var n=ht.p;return n!==0?n:(n=window.event,n===void 0?32:L5(n.type))}function $r(n,s){var o=ht.p;try{return ht.p=n,s()}finally{ht.p=o}}var le=Math.random().toString(36).slice(2),Nn="__reactFiber$"+le,In="__reactProps$"+le,Hn="__reactContainer$"+le,Xn="__reactEvents$"+le,ni="__reactListeners$"+le,pi="__reactHandles$"+le,ba="__reactResources$"+le,mr="__reactMarker$"+le;function Ui(n){delete n[Nn],delete n[In],delete n[Xn],delete n[ni],delete n[pi]}function Ti(n){var s=n[Nn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Hn]||o[Nn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=g5(n);n!==null;){if(o=n[Nn])return o;n=g5(n)}return s}n=o,o=n.parentNode}return null}function mi(n){if(n=n[Nn]||n[Hn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function xi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Un(n){var s=n[ba];return s||(s=n[ba]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vn(n){n[mr]=!0}var xs=new Set,Ns={};function rr(n,s){Ir(n,s),Ir(n+"Capture",s)}function Ir(n,s){for(Ns[n]=s,n=0;n<s.length;n++)xs.add(s[n])}var wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Aa={};function Ol(n){return ne.call(Aa,n)?!0:ne.call(Yo,n)?!1:wa.test(n)?Aa[n]=!0:(Yo[n]=!0,!1)}function Jr(n,s,o){if(Ol(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Zr(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ni(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var Is,Ml;function rs(n){if(Is===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Is=s&&s[1]||"",Ml=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+Ml}var to=!1;function Rs(n,s){if(!n||to)return"";to=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Ot){var Pt=Ot}Reflect.construct(n,[],Gt)}else{try{Gt.call()}catch(Ot){Pt=Ot}n.call(Gt.prototype)}}else{try{throw Error()}catch(Ot){Pt=Ot}(Gt=n())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Ot){if(Ot&&Pt&&typeof Ot.stack=="string")return[Ot.stack,Pt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),D=_[0],Q=_[1];if(D&&Q){var ot=D.split(`
`),Lt=Q.split(`
`);for(m=u=0;u<ot.length&&!ot[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Lt.length&&!Lt[m].includes("DetermineComponentFrameRoot");)m++;if(u===ot.length||m===Lt.length)for(u=ot.length-1,m=Lt.length-1;1<=u&&0<=m&&ot[u]!==Lt[m];)m--;for(;1<=u&&0<=m;u--,m--)if(ot[u]!==Lt[m]){if(u!==1||m!==1)do if(u--,m--,0>m||ot[u]!==Lt[m]){var Bt=`
`+ot[u].replace(" at new "," at ");return n.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",n.displayName)),Bt}while(1<=u&&0<=m);break}}}finally{to=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?rs(o):""}function Ko(n){switch(n.tag){case 26:case 27:case 5:return rs(n.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return rs("Activity");default:return""}}function Bn(n){try{var s="";do s+=Ko(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Bi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eo(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kl(n){var s=eo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,_=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(D){u=""+D,_.call(this,D)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(D){u=""+D},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Xs(n){n._valueTracker||(n._valueTracker=kl(n))}function Qo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=eo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var no=/[\n"\\]/g;function hn(n){return n.replace(no,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $i(n,s,o,u,m,_,D,Q){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),s!=null?D==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Bi(s)):n.value!==""+Bi(s)&&(n.value=""+Bi(s)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),s!=null?$s(n,D,Bi(s)):o!=null?$s(n,D,Bi(o)):u!=null&&n.removeAttribute("value"),m==null&&_!=null&&(n.defaultChecked=!!_),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?n.name=""+Bi(Q):n.removeAttribute("name")}function Ws(n,s,o,u,m,_,D,Q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+Bi(o):"",s=s!=null?""+Bi(s):o,Q||s===n.value||(n.value=s),n.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=Q?n.checked:!!u,n.defaultChecked=!!u,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function $s(n,s,o){s==="number"&&Wi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ss(n,s,o,u){if(n=n.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=s.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Bi(o),s=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function _n(n,s,o){if(s!=null&&(s=""+Bi(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Bi(o):""}function Js(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Tt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Bi(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Rr(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Cs.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Xo(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&jl(n,m,u)}else for(var _ in s)s.hasOwnProperty(_)&&jl(n,_,s[_])}function Wo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(n){return io.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var as=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ps=null,os=null;function Ne(n){var s=mi(n);if(s&&(n=s.stateNode)){var o=n[In]||null;t:switch(n=s.stateNode,s.type){case"input":if($i(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var m=u[In]||null;if(!m)throw Error(r(90));$i(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Qo(u)}break t;case"textarea":_n(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ss(n,!!o.multiple,s,!1)}}}var ls=!1;function Vl(n,s,o){if(ls)return n(s,o);ls=!0;try{var u=n(s);return u}finally{if(ls=!1,(Ps!==null||os!==null)&&(Od(),Ps&&(s=Ps,n=os,os=Ps=null,Ne(s),n)))for(s=0;s<n.length;s++)Ne(n[s])}}function sr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[In]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Cr)try{var us={};Object.defineProperty(us,"passive",{get:function(){gr=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{gr=!1}var Lr=null,Zs=null,Os=null;function $o(){if(Os)return Os;var n,s=Zs,o=s.length,u,m="value"in Lr?Lr.value:Lr.textContent,_=m.length;for(n=0;n<o&&s[n]===m[n];n++);var D=o-n;for(u=1;u<=D&&s[o-u]===m[_-u];u++);return Os=m.slice(n,1<u?1-u:void 0)}function Dr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ar(){return!0}function cs(){return!1}function gi(n){function s(o,u,m,_,D){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var Q in n)n.hasOwnProperty(Q)&&(o=n[Q],this[Q]=o?o(_):_[Q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ar:cs,this.isPropagationStopped=cs,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=gi(tn),hs=v({},tn,{view:0,detail:0}),Jo=gi(hs),Sa,Ea,ts,or=v({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ts&&(ts&&n.type==="mousemove"?(Sa=n.screenX-ts.screenX,Ea=n.screenY-ts.screenY):Ea=Sa=0,ts=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:Ea}}),yi=gi(or),Ul=v({},or,{dataTransfer:0}),ea=gi(Ul),Ji=v({},hs,{relatedTarget:0}),na=gi(Ji),Ms=v({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=gi(Ms),Ta=v({},tn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),so=gi(Ta),Zo=v({},tn,{data:0}),xa=gi(Zo),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ia(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ao[n])?!!s[n]:!1}function ra(){return Ia}var Bl=v({},hs,{key:function(n){if(n.key){var s=ia[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Dr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Na[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(n){return n.type==="keypress"?Dr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Dr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ks=gi(Bl),sa=v({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=gi(sa),lr=v({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),oo=gi(lr),b=v({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=gi(b),it=v({},or,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=gi(it),vt=v({},tn,{newState:0,oldState:0}),jt=gi(vt),Kt=[9,13,27,32],ie=Cr&&"CompositionEvent"in window,d=null;Cr&&"documentMode"in document&&(d=document.documentMode);var S=Cr&&"TextEvent"in window&&!d,N=Cr&&(!ie||d&&8<d&&11>=d),K=" ",yt=!1;function Ct(n,s){switch(n){case"keyup":return Kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ie=!1;function en(n,s){switch(n){case"compositionend":return Xt(s);case"keypress":return s.which!==32?null:(yt=!0,K);case"textInput":return n=s.data,n===K&&yt?null:n;default:return null}}function Be(n,s){if(Ie)return n==="compositionend"||!ie&&Ct(n,s)?(n=$o(),Os=Zs=Lr=null,Ie=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return N&&s.locale!=="ko"?null:s.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!bn[n.type]:s==="textarea"}function fs(n,s,o,u){Ps?os?os.push(u):os=[u]:Ps=u,s=Bd(s,"onChange"),0<s.length&&(o=new ta("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var li=null,Pr=null;function aa(n){a5(n,0)}function lo(n){var s=xi(n);if(Qo(s))return n}function Fl(n,s){if(n==="change")return s}var tl=!1;if(Cr){var Ii;if(Cr){var uo="oninput"in document;if(!uo){var el=document.createElement("div");el.setAttribute("oninput","return;"),uo=typeof el.oninput=="function"}Ii=uo}else Ii=!1;tl=Ii&&(!document.documentMode||9<document.documentMode)}function nl(){li&&(li.detachEvent("onpropertychange",ql),Pr=li=null)}function ql(n){if(n.propertyName==="value"&&lo(Pr)){var s=[];fs(s,Pr,n,Dn(n)),Vl(aa,s)}}function Or(n,s,o){n==="focusin"?(nl(),li=s,Pr=o,li.attachEvent("onpropertychange",ql)):n==="focusout"&&nl()}function Oh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lo(Pr)}function Bu(n,s){if(n==="click")return lo(s)}function Tc(n,s){if(n==="input"||n==="change")return lo(s)}function ds(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Fi=typeof Object.is=="function"?Object.is:ds;function co(n,s){if(Fi(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!ne.call(s,m)||!Fi(n[m],s[m]))return!1}return!0}function Fu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ca(n,s){var o=Fu(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Fu(o)}}function ho(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ho(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function yr(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wi(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Wi(n.document)}return s}function Zi(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var fo=Cr&&"documentMode"in document&&11>=document.documentMode,Mr=null,js=null,oa=null,Vs=!1;function ii(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vs||Mr==null||Mr!==Wi(u)||(u=Mr,"selectionStart"in u&&Zi(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),oa&&co(oa,u)||(oa=u,u=Bd(js,"onSelect"),0<u.length&&(s=new ta("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Mr)))}function Us(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var vi={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},kr={},il={};Cr&&(il=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function la(n){if(kr[n])return kr[n];if(!vi[n])return n;var s=vi[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in il)return kr[n]=s[o];return n}var zl=la("animationend"),po=la("animationiteration"),mo=la("animationstart"),go=la("transitionrun"),rl=la("transitionstart"),Hl=la("transitioncancel"),yo=la("transitionend"),La=new Map,sl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sl.push("scrollEnd");function ri(n,s){La.set(n,s),rr(s,[n])}var es=new WeakMap;function Je(n,s){if(typeof n=="object"&&n!==null){var o=es.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Bn(s)},es.set(n,s),s)}return{value:n,source:s,stack:Bn(s)}}var Ze=[],Fn=0,ui=0;function ps(){for(var n=Fn,s=ui=Fn=0;s<n;){var o=Ze[s];Ze[s++]=null;var u=Ze[s];Ze[s++]=null;var m=Ze[s];Ze[s++]=null;var _=Ze[s];if(Ze[s++]=null,u!==null&&m!==null){var D=u.pending;D===null?m.next=m:(m.next=D.next,D.next=m),u.pending=m}_!==0&&xc(o,m,_)}}function vo(n,s,o,u){Ze[Fn++]=n,Ze[Fn++]=s,Ze[Fn++]=o,Ze[Fn++]=u,ui|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function _o(n,s,o,u){return vo(n,s,o,u),al(n)}function Da(n,s){return vo(n,null,null,s),al(n)}function xc(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var m=!1,_=n.return;_!==null;)_.childLanes|=o,u=_.alternate,u!==null&&(u.childLanes|=o),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(m=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,m&&s!==null&&(m=31-fe(o),n=_.hiddenUpdates,u=n[m],u===null?n[m]=[s]:u.push(s),s.lane=o|536870912),_):null}function al(n){if(50<af)throw af=0,J1=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var qi={};function ms(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(n,s,o,u){return new ms(n,s,o,u)}function Gl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ua(n,s){var o=n.alternate;return o===null?(o=ur(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function qu(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ol(n,s,o,u,m,_){var D=0;if(u=n,typeof n=="function")Gl(n)&&(D=1);else if(typeof n=="string")D=A4(n,o,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case z:return n=ur(31,o,s,m),n.elementType=z,n.lanes=_,n;case R:return Pa(o.children,m,_,s);case V:D=8,m|=24;break;case H:return n=ur(12,o,s,m|2),n.elementType=H,n.lanes=_,n;case bt:return n=ur(13,o,s,m),n.elementType=bt,n.lanes=_,n;case kt:return n=ur(19,o,s,m),n.elementType=kt,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case nt:D=10;break t;case X:D=9;break t;case At:D=11;break t;case W:D=14;break t;case L:D=16,u=null;break t}D=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=ur(D,o,s,m),s.elementType=n,s.type=u,s.lanes=_,s}function Pa(n,s,o,u){return n=ur(7,n,u,s),n.lanes=o,n}function Nc(n,s,o){return n=ur(6,n,null,s),n.lanes=o,n}function zu(n,s,o){return s=ur(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var bo=[],Oa=0,Yl=null,Ic=0,gs=[],ns=0,ll=null,Ma=1,ka="";function ul(n,s){bo[Oa++]=Ic,bo[Oa++]=Yl,Yl=n,Ic=s}function rd(n,s,o){gs[ns++]=Ma,gs[ns++]=ka,gs[ns++]=ll,ll=n;var u=Ma;n=ka;var m=32-fe(u)-1;u&=~(1<<m),o+=1;var _=32-fe(s)+m;if(30<_){var D=m-m%5;_=(u&(1<<D)-1).toString(32),u>>=D,m-=D,Ma=1<<32-fe(s)+m|o<<m|u,ka=_+n}else Ma=1<<_|o<<m|u,ka=n}function Hu(n){n.return!==null&&(ul(n,1),rd(n,1,0))}function Gu(n){for(;n===Yl;)Yl=bo[--Oa],bo[Oa]=null,Ic=bo[--Oa],bo[Oa]=null;for(;n===ll;)ll=gs[--ns],gs[ns]=null,ka=gs[--ns],gs[ns]=null,Ma=gs[--ns],gs[ns]=null}var Ri=null,si=null,yn=!1,wo=null,ca=!1,Mh=Error(r(519));function cl(n){var s=Error(r(418,""));throw Kl(Je(s,n)),Mh}function sd(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Nn]=n,s[In]=u,o){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(o=0;o<lf.length;o++)sn(lf[o],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),Ws(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xs(s);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),Js(s,u.value,u.defaultValue,u.children),Xs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||c5(s.textContent,o)?(u.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),u.onScroll!=null&&sn("scroll",s),u.onScrollEnd!=null&&sn("scrollend",s),u.onClick!=null&&(s.onclick=Fd),s=!0):s=!1,s||cl(n)}function ja(n){for(Ri=n.return;Ri;)switch(Ri.tag){case 5:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Ri=Ri.return}}function vr(n){if(n!==Ri)return!1;if(!yn)return ja(n),yn=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||p2(n.type,n.memoizedProps)),o=!o),o&&si&&cl(n),ja(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){si=Ga(n.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}si=null}}else s===27?(s=si,cu(n.type)?(n=v2,v2=null,si=n):si=s):si=Ri?Ga(n.stateNode.nextSibling):null;return!0}function is(){si=Ri=null,yn=!1}function ad(){var n=wo;return n!==null&&(_s===null?_s=n:_s.push.apply(_s,n),wo=null),n}function Kl(n){wo===null?wo=[n]:wo.push(n)}var ha=pt(null),zi=null,Va=null;function Ao(n,s,o){U(ha,s._currentValue),s._currentValue=o}function fa(n){n._currentValue=ha.current,P(ha)}function Rc(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Cc(n,s,o,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var _=m.dependencies;if(_!==null){var D=m.child;_=_.firstContext;t:for(;_!==null;){var Q=_;_=m;for(var ot=0;ot<s.length;ot++)if(Q.context===s[ot]){_.lanes|=o,Q=_.alternate,Q!==null&&(Q.lanes|=o),Rc(_.return,o,n),u||(D=null);break t}_=Q.next}}else if(m.tag===18){if(D=m.return,D===null)throw Error(r(341));D.lanes|=o,_=D.alternate,_!==null&&(_.lanes|=o),Rc(D,o,n),D=null}else D=m.child;if(D!==null)D.return=m;else for(D=m;D!==null;){if(D===n){D=null;break}if(m=D.sibling,m!==null){m.return=D.return,D=m;break}D=D.return}m=D}}function Ql(n,s,o,u){n=null;for(var m=s,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var D=m.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var Q=m.type;Fi(m.pendingProps.value,D.value)||(n!==null?n.push(Q):n=[Q])}}else if(m===Et.current){if(D=m.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(pf):n=[pf])}m=m.return}n!==null&&Cc(s,n,o,u),s.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!Fi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function da(n){zi=n,Va=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ci(n){return Dc(zi,n)}function So(n,s){return zi===null&&da(n),Dc(n,s)}function Dc(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Va===null){if(n===null)throw Error(r(308));Va=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Va=Va.next=s;return o}var S1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},od=i.unstable_scheduleCallback,E1=i.unstable_NormalPriority,Li={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new S1,data:new Map,refCount:0}}function Yu(n){n.refCount--,n.refCount===0&&od(E1,function(){n.controller.abort()})}var Ku=null,jh=0,hl=0,Ua=null;function T1(n,s){if(Ku===null){var o=Ku=[];jh=0,hl=s2(),Ua={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jh++,s.then(ld,ld),s}function ld(){if(--jh===0&&Ku!==null){Ua!==null&&(Ua.status="fulfilled");var n=Ku;Ku=null,hl=0,Ua=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ud(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var h=et.S;et.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&T1(n,s),h!==null&&h(n,s)};var g=pt(null);function w(){var n=g.current;return n!==null?n:Qn.pooledCache}function x(n,s){s===null?U(g,g.current):U(g,s.pool)}function M(){var n=w();return n===null?null:{parent:Li._currentValue,pool:n}}var F=Error(r(460)),q=Error(r(474)),Y=Error(r(542)),$={then:function(){}};function tt(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ft(){}function Rt(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(ft,ft),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n;default:if(typeof s.status=="string")s.then(ft,ft);else{if(n=Qn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,zt(n),n}throw xt=s,F}}var xt=null;function _t(){if(xt===null)throw Error(r(459));var n=xt;return xt=null,n}function zt(n){if(n===F||n===Y)throw Error(r(483))}var Mt=!1;function dt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ut(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ht(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(On&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=al(n),xc(n,null,o),s}return vo(n,u,s,o),al(n)}function Ft(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,on(n,o)}}function ue(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var D={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?m=_=D:_=_.next=D,o=o.next}while(o!==null);_===null?m=_=s:_=_.next=s}else m=_=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var ee=!1;function be(){if(ee){var n=Ua;if(n!==null)throw n}}function re(n,s,o,u){ee=!1;var m=n.updateQueue;Mt=!1;var _=m.firstBaseUpdate,D=m.lastBaseUpdate,Q=m.shared.pending;if(Q!==null){m.shared.pending=null;var ot=Q,Lt=ot.next;ot.next=null,D===null?_=Lt:D.next=Lt,D=ot;var Bt=n.alternate;Bt!==null&&(Bt=Bt.updateQueue,Q=Bt.lastBaseUpdate,Q!==D&&(Q===null?Bt.firstBaseUpdate=Lt:Q.next=Lt,Bt.lastBaseUpdate=ot))}if(_!==null){var Gt=m.baseState;D=0,Bt=Lt=ot=null,Q=_;do{var Pt=Q.lane&-536870913,Ot=Pt!==Q.lane;if(Ot?(mn&Pt)===Pt:(u&Pt)===Pt){Pt!==0&&Pt===hl&&(ee=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var je=n,Re=Q;Pt=s;var zn=o;switch(Re.tag){case 1:if(je=Re.payload,typeof je=="function"){Gt=je.call(zn,Gt,Pt);break t}Gt=je;break t;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Re.payload,Pt=typeof je=="function"?je.call(zn,Gt,Pt):je,Pt==null)break t;Gt=v({},Gt,Pt);break t;case 2:Mt=!0}}Pt=Q.callback,Pt!==null&&(n.flags|=64,Ot&&(n.flags|=8192),Ot=m.callbacks,Ot===null?m.callbacks=[Pt]:Ot.push(Pt))}else Ot={lane:Pt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Bt===null?(Lt=Bt=Ot,ot=Gt):Bt=Bt.next=Ot,D|=Pt;if(Q=Q.next,Q===null){if(Q=m.shared.pending,Q===null)break;Ot=Q,Q=Ot.next,Ot.next=null,m.lastBaseUpdate=Ot,m.shared.pending=null}}while(!0);Bt===null&&(ot=Gt),m.baseState=ot,m.firstBaseUpdate=Lt,m.lastBaseUpdate=Bt,_===null&&(m.shared.lanes=0),au|=D,n.lanes=D,n.memoizedState=Gt}}function dn(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function wn(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)dn(o[n],s)}var We=pt(null),Ke=pt(0);function Cn(n,s){n=wl,U(Ke,n),U(We,s),wl=n|s.baseLanes}function An(){U(Ke,wl),U(We,We.current)}function Fe(){wl=Ke.current,P(We),P(Ke)}var Pn=0,Te=null,Oe=null,fn=null,pn=!1,Hi=!1,Di=!1,ci=0,hi=0,_i=null,ys=0;function Sn(){throw Error(r(321))}function bi(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Fi(n[o],s[o]))return!1;return!0}function Bs(n,s,o,u,m,_){return Pn=_,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,et.H=n===null||n.memoizedState===null?Hm:Gm,Di=!1,_=o(u,m),Di=!1,Hi&&(_=fl(s,o,u,m)),Eo(n),_}function Eo(n){et.H=wd;var s=Oe!==null&&Oe.next!==null;if(Pn=0,fn=Oe=Te=null,pn=!1,hi=0,_i=null,s)throw Error(r(300));n===null||cr||(n=n.dependencies,n!==null&&Lc(n)&&(cr=!0))}function fl(n,s,o,u){Te=n;var m=0;do{if(Hi&&(_i=null),hi=0,Hi=!1,25<=m)throw Error(r(301));if(m+=1,fn=Oe=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}et.H=P3,_=s(o,u)}while(Hi);return _}function To(){var n=et.H,s=n.useState()[0];return s=typeof s.then=="function"?xo(s):s,n=n.useState()[0],(Oe!==null?Oe.memoizedState:null)!==n&&(Te.flags|=1024),s}function Kn(){var n=ci!==0;return ci=0,n}function Qu(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Pc(n){if(pn){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pn=!1}Pn=0,fn=Oe=Te=null,Hi=!1,hi=ci=0,_i=null}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Te.memoizedState=fn=n:fn=fn.next=n,fn}function Wn(){if(Oe===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=Oe.next;var s=fn===null?Te.memoizedState:fn.next;if(s!==null)fn=s,Oe=n;else{if(n===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Oe=n,n={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},fn===null?Te.memoizedState=fn=n:fn=fn.next=n}return fn}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(n){var s=hi;return hi+=1,_i===null&&(_i=[]),n=Rt(_i,n,s),s=Te,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,et.H=s===null||s.memoizedState===null?Hm:Gm),n}function jr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xo(n);if(n.$$typeof===nt)return Ci(n)}throw Error(r(438,String(n)))}function No(n){var s=null,o=Te.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=dl(),Te.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=Z;return s.index++,o}function Vr(n,s){return typeof s=="function"?s(n):s}function Xu(n){var s=Wn();return Xl(s,Oe,n)}function Xl(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=n.baseQueue,_=u.pending;if(_!==null){if(m!==null){var D=m.next;m.next=_.next,_.next=D}s.baseQueue=m=_,u.pending=null}if(_=n.baseState,m===null)n.memoizedState=_;else{s=m.next;var Q=D=null,ot=null,Lt=s,Bt=!1;do{var Gt=Lt.lane&-536870913;if(Gt!==Lt.lane?(mn&Gt)===Gt:(Pn&Gt)===Gt){var Pt=Lt.revertLane;if(Pt===0)ot!==null&&(ot=ot.next={lane:0,revertLane:0,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),Gt===hl&&(Bt=!0);else if((Pn&Pt)===Pt){Lt=Lt.next,Pt===hl&&(Bt=!0);continue}else Gt={lane:0,revertLane:Lt.revertLane,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},ot===null?(Q=ot=Gt,D=_):ot=ot.next=Gt,Te.lanes|=Pt,au|=Pt;Gt=Lt.action,Di&&o(_,Gt),_=Lt.hasEagerState?Lt.eagerState:o(_,Gt)}else Pt={lane:Gt,revertLane:Lt.revertLane,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},ot===null?(Q=ot=Pt,D=_):ot=ot.next=Pt,Te.lanes|=Gt,au|=Gt;Lt=Lt.next}while(Lt!==null&&Lt!==s);if(ot===null?D=_:ot.next=Q,!Fi(_,n.memoizedState)&&(cr=!0,Bt&&(o=Ua,o!==null)))throw o;n.memoizedState=_,n.baseState=D,n.baseQueue=ot,u.lastRenderedState=_}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Oc(n){var s=Wn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,m=o.pending,_=s.memoizedState;if(m!==null){o.pending=null;var D=m=m.next;do _=n(_,D.action),D=D.next;while(D!==m);Fi(_,s.memoizedState)||(cr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,u]}function Wu(n,s,o){var u=Te,m=Wn(),_=yn;if(_){if(o===void 0)throw Error(r(407));o=o()}else o=s();var D=!Fi((Oe||m).memoizedState,o);D&&(m.memoizedState=o,cr=!0),m=m.queue;var Q=Wl.bind(null,u,m,n);if(Zl(2048,8,Q,[n]),m.getSnapshot!==s||D||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,Fa(9,tc(),$u.bind(null,u,m,o,s),null),Qn===null)throw Error(r(349));_||(Pn&124)!==0||Mc(u,s,o)}return o}function Mc(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Te.updateQueue,s===null?(s=dl(),Te.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function $u(n,s,o,u){s.value=o,s.getSnapshot=u,cd(s)&&hd(n)}function Wl(n,s,o){return o(function(){cd(s)&&hd(n)})}function cd(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Fi(n,o)}catch{return!0}}function hd(n){var s=Da(n,2);s!==null&&Ys(s,n,2)}function Ju(n){var s=_r();if(typeof n=="function"){var o=n;if(n=o(),Di){Ge(!0);try{o()}finally{Ge(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:n},s}function Ba(n,s,o,u){return n.baseState=o,Xl(n,Oe,typeof u=="function"?u:Vr)}function x1(n,s,o,u,m){if(bd(n))throw Error(r(485));if(n=s.action,n!==null){var _={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};et.T!==null?o(!0):_.isTransition=!1,u(_),o=s.pending,o===null?(_.next=s.pending=_,fd(s,_)):(_.next=o.next,s.pending=o.next=_)}}function fd(n,s){var o=s.action,u=s.payload,m=n.state;if(s.isTransition){var _=et.T,D={};et.T=D;try{var Q=o(m,u),ot=et.S;ot!==null&&ot(D,Q),dd(n,s,Q)}catch(Lt){$l(n,s,Lt)}finally{et.T=_}}else try{_=o(m,u),dd(n,s,_)}catch(Lt){$l(n,s,Lt)}}function dd(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Vh(n,s,u)},function(u){return $l(n,s,u)}):Vh(n,s,o)}function Vh(n,s,o){s.status="fulfilled",s.value=o,Uh(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,fd(n,o)))}function $l(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Uh(s),s=s.next;while(s!==u)}n.action=null}function Uh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Bh(n,s){return s}function Zu(n,s){if(yn){var o=Qn.formState;if(o!==null){t:{var u=Te;if(yn){if(si){e:{for(var m=si,_=ca;m.nodeType!==8;){if(!_){m=null;break e}if(m=Ga(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){si=Ga(m.nextSibling),u=m.data==="F!";break t}}cl(u)}u=!1}u&&(s=o[0])}}return o=_r(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:s},o.queue=u,o=Fm.bind(null,Te,u),u.dispatch=o,u=Ju(!1),_=N1.bind(null,Te,!1,u.queue),u=_r(),m={state:s,dispatch:null,action:n,pending:null},u.queue=m,o=x1.bind(null,Te,m,_,o),m.dispatch=o,u.memoizedState=n,[s,o,!1]}function kc(n){var s=Wn();return Jl(s,Oe,n)}function Jl(n,s,o){if(s=Xl(n,s,Bh)[0],n=Xu(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=xo(s)}catch(D){throw D===F?Y:D}else u=s;s=Wn();var m=s.queue,_=m.dispatch;return o!==s.memoizedState&&(Te.flags|=2048,Fa(9,tc(),pd.bind(null,m,o),null)),[u,_,n]}function pd(n,s){n.action=s}function md(n){var s=Wn(),o=Oe;if(o!==null)return Jl(s,o,n);Wn(),s=s.memoizedState,o=Wn();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Fa(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Te.updateQueue,s===null&&(s=dl(),Te.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function tc(){return{destroy:void 0,resource:void 0}}function jc(){return Wn().memoizedState}function Fs(n,s,o,u){var m=_r();u=u===void 0?null:u,Te.flags|=n,m.memoizedState=Fa(1|s,tc(),o,u)}function Zl(n,s,o,u){var m=Wn();u=u===void 0?null:u;var _=m.memoizedState.inst;Oe!==null&&u!==null&&bi(u,Oe.memoizedState.deps)?m.memoizedState=Fa(s,_,o,u):(Te.flags|=n,m.memoizedState=Fa(1|s,_,o,u))}function Fh(n,s){Fs(8390656,8,n,s)}function gd(n,s){Zl(2048,8,n,s)}function qh(n,s){return Zl(4,2,n,s)}function pl(n,s){return Zl(4,4,n,s)}function yd(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function zh(n,s,o){o=o!=null?o.concat([n]):null,Zl(4,4,yd.bind(null,s,n),o)}function Hh(){}function Gh(n,s){var o=Wn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&bi(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function vd(n,s){var o=Wn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&bi(s,u[1]))return u[0];if(u=n(),Di){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[u,s],u}function ml(n,s,o){return o===void 0||(Pn&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=jg(),Te.lanes|=n,au|=n,o)}function Vc(n,s,o,u){return Fi(o,s)?o:We.current!==null?(n=ml(n,o,u),Fi(n,s)||(cr=!0),n):(Pn&42)===0?(cr=!0,n.memoizedState=o):(n=jg(),Te.lanes|=n,au|=n,s)}function ec(n,s,o,u,m){var _=ht.p;ht.p=_!==0&&8>_?_:8;var D=et.T,Q={};et.T=Q,N1(n,!1,s,o);try{var ot=m(),Lt=et.S;if(Lt!==null&&Lt(Q,ot),ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Bt=ud(ot,u);Xh(n,s,Bt,Gs(n))}else Xh(n,s,u,Gs(n))}catch(Gt){Xh(n,s,{then:function(){},status:"rejected",reason:Gt},Gs())}finally{ht.p=_,et.T=D}}function qa(){}function pa(n,s,o,u){if(n.tag!==5)throw Error(r(476));var m=za(n).queue;ec(n,m,s,ut,o===null?qa:function(){return nc(n),o(u)})}function za(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:ut},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function nc(n){var s=za(n).next.queue;Xh(n,s,{},Gs())}function ic(){return Ci(pf)}function Yh(){return Wn().memoizedState}function _d(){return Wn().memoizedState}function Kh(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Gs();n=Ut(o);var u=Ht(s,n,o);u!==null&&(Ys(u,s,o),Ft(u,s,o)),s={cache:kh()},n.payload=s;return}s=s.return}}function Qh(n,s,o){var u=Gs();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},bd(n)?qm(s,o):(o=_o(n,s,o,u),o!==null&&(Ys(o,n,u),zm(o,s,u)))}function Fm(n,s,o){var u=Gs();Xh(n,s,o,u)}function Xh(n,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(bd(n))qm(s,m);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var D=s.lastRenderedState,Q=_(D,o);if(m.hasEagerState=!0,m.eagerState=Q,Fi(Q,D))return vo(n,s,m,0),Qn===null&&ps(),!1}catch{}finally{}if(o=_o(n,s,m,u),o!==null)return Ys(o,n,u),zm(o,s,u),!0}return!1}function N1(n,s,o,u){if(u={lane:2,revertLane:s2(),action:u,hasEagerState:!1,eagerState:null,next:null},bd(n)){if(s)throw Error(r(479))}else s=_o(n,o,u,2),s!==null&&Ys(s,n,2)}function bd(n){var s=n.alternate;return n===Te||s!==null&&s===Te}function qm(n,s){Hi=pn=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function zm(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,on(n,o)}}var wd={readContext:Ci,use:jr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn},Hm={readContext:Ci,use:jr,useCallback:function(n,s){return _r().memoizedState=[n,s===void 0?null:s],n},useContext:Ci,useEffect:Fh,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Fs(4194308,4,yd.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Fs(4194308,4,n,s)},useInsertionEffect:function(n,s){Fs(4,2,n,s)},useMemo:function(n,s){var o=_r();s=s===void 0?null:s;var u=n();if(Di){Ge(!0);try{n()}finally{Ge(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=_r();if(o!==void 0){var m=o(s);if(Di){Ge(!0);try{o(s)}finally{Ge(!1)}}}else m=s;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=Qh.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var s=_r();return n={current:n},s.memoizedState=n},useState:function(n){n=Ju(n);var s=n.queue,o=Fm.bind(null,Te,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Hh,useDeferredValue:function(n,s){var o=_r();return ml(o,n,s)},useTransition:function(){var n=Ju(!1);return n=ec.bind(null,Te,n.queue,!0,!1),_r().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Te,m=_r();if(yn){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Qn===null)throw Error(r(349));(mn&124)!==0||Mc(u,s,o)}m.memoizedState=o;var _={value:o,getSnapshot:s};return m.queue=_,Fh(Wl.bind(null,u,_,n),[n]),u.flags|=2048,Fa(9,tc(),$u.bind(null,u,_,o,s),null),o},useId:function(){var n=_r(),s=Qn.identifierPrefix;if(yn){var o=ka,u=Ma;o=(u&~(1<<32-fe(u)-1)).toString(32)+o,s=""+s+"R"+o,o=ci++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=ys++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:ic,useFormState:Zu,useActionState:Zu,useOptimistic:function(n){var s=_r();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=N1.bind(null,Te,!0,o),o.dispatch=s,[n,s]},useMemoCache:No,useCacheRefresh:function(){return _r().memoizedState=Kh.bind(null,Te)}},Gm={readContext:Ci,use:jr,useCallback:Gh,useContext:Ci,useEffect:gd,useImperativeHandle:zh,useInsertionEffect:qh,useLayoutEffect:pl,useMemo:vd,useReducer:Xu,useRef:jc,useState:function(){return Xu(Vr)},useDebugValue:Hh,useDeferredValue:function(n,s){var o=Wn();return Vc(o,Oe.memoizedState,n,s)},useTransition:function(){var n=Xu(Vr)[0],s=Wn().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Wu,useId:Yh,useHostTransitionStatus:ic,useFormState:kc,useActionState:kc,useOptimistic:function(n,s){var o=Wn();return Ba(o,Oe,n,s)},useMemoCache:No,useCacheRefresh:_d},P3={readContext:Ci,use:jr,useCallback:Gh,useContext:Ci,useEffect:gd,useImperativeHandle:zh,useInsertionEffect:qh,useLayoutEffect:pl,useMemo:vd,useReducer:Oc,useRef:jc,useState:function(){return Oc(Vr)},useDebugValue:Hh,useDeferredValue:function(n,s){var o=Wn();return Oe===null?ml(o,n,s):Vc(o,Oe.memoizedState,n,s)},useTransition:function(){var n=Oc(Vr)[0],s=Wn().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Wu,useId:Yh,useHostTransitionStatus:ic,useFormState:md,useActionState:md,useOptimistic:function(n,s){var o=Wn();return Oe!==null?Ba(o,Oe,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:No,useCacheRefresh:_d},Uc=null,Wh=0;function Ad(n){var s=Wh;return Wh+=1,Uc===null&&(Uc=[]),Rt(Uc,n,s)}function $h(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Sd(n,s){throw s.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ym(n){var s=n._init;return s(n._payload)}function Km(n){function s(wt,mt){if(n){var It=wt.deletions;It===null?(wt.deletions=[mt],wt.flags|=16):It.push(mt)}}function o(wt,mt){if(!n)return null;for(;mt!==null;)s(wt,mt),mt=mt.sibling;return null}function u(wt){for(var mt=new Map;wt!==null;)wt.key!==null?mt.set(wt.key,wt):mt.set(wt.index,wt),wt=wt.sibling;return mt}function m(wt,mt){return wt=ua(wt,mt),wt.index=0,wt.sibling=null,wt}function _(wt,mt,It){return wt.index=It,n?(It=wt.alternate,It!==null?(It=It.index,It<mt?(wt.flags|=67108866,mt):It):(wt.flags|=67108866,mt)):(wt.flags|=1048576,mt)}function D(wt){return n&&wt.alternate===null&&(wt.flags|=67108866),wt}function Q(wt,mt,It,qt){return mt===null||mt.tag!==6?(mt=Nc(It,wt.mode,qt),mt.return=wt,mt):(mt=m(mt,It),mt.return=wt,mt)}function ot(wt,mt,It,qt){var de=It.type;return de===R?Bt(wt,mt,It.props.children,qt,It.key):mt!==null&&(mt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===L&&Ym(de)===mt.type)?(mt=m(mt,It.props),$h(mt,It),mt.return=wt,mt):(mt=ol(It.type,It.key,It.props,null,wt.mode,qt),$h(mt,It),mt.return=wt,mt)}function Lt(wt,mt,It,qt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==It.containerInfo||mt.stateNode.implementation!==It.implementation?(mt=zu(It,wt.mode,qt),mt.return=wt,mt):(mt=m(mt,It.children||[]),mt.return=wt,mt)}function Bt(wt,mt,It,qt,de){return mt===null||mt.tag!==7?(mt=Pa(It,wt.mode,qt,de),mt.return=wt,mt):(mt=m(mt,It),mt.return=wt,mt)}function Gt(wt,mt,It){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=Nc(""+mt,wt.mode,It),mt.return=wt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case T:return It=ol(mt.type,mt.key,mt.props,null,wt.mode,It),$h(It,mt),It.return=wt,It;case A:return mt=zu(mt,wt.mode,It),mt.return=wt,mt;case L:var qt=mt._init;return mt=qt(mt._payload),Gt(wt,mt,It)}if(Tt(mt)||C(mt))return mt=Pa(mt,wt.mode,It,null),mt.return=wt,mt;if(typeof mt.then=="function")return Gt(wt,Ad(mt),It);if(mt.$$typeof===nt)return Gt(wt,So(wt,mt),It);Sd(wt,mt)}return null}function Pt(wt,mt,It,qt){var de=mt!==null?mt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return de!==null?null:Q(wt,mt,""+It,qt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case T:return It.key===de?ot(wt,mt,It,qt):null;case A:return It.key===de?Lt(wt,mt,It,qt):null;case L:return de=It._init,It=de(It._payload),Pt(wt,mt,It,qt)}if(Tt(It)||C(It))return de!==null?null:Bt(wt,mt,It,qt,null);if(typeof It.then=="function")return Pt(wt,mt,Ad(It),qt);if(It.$$typeof===nt)return Pt(wt,mt,So(wt,It),qt);Sd(wt,It)}return null}function Ot(wt,mt,It,qt,de){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return wt=wt.get(It)||null,Q(mt,wt,""+qt,de);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case T:return wt=wt.get(qt.key===null?It:qt.key)||null,ot(mt,wt,qt,de);case A:return wt=wt.get(qt.key===null?It:qt.key)||null,Lt(mt,wt,qt,de);case L:var nn=qt._init;return qt=nn(qt._payload),Ot(wt,mt,It,qt,de)}if(Tt(qt)||C(qt))return wt=wt.get(It)||null,Bt(mt,wt,qt,de,null);if(typeof qt.then=="function")return Ot(wt,mt,It,Ad(qt),de);if(qt.$$typeof===nt)return Ot(wt,mt,It,So(mt,qt),de);Sd(mt,qt)}return null}function je(wt,mt,It,qt){for(var de=null,nn=null,Ae=mt,Pe=mt=0,fr=null;Ae!==null&&Pe<It.length;Pe++){Ae.index>Pe?(fr=Ae,Ae=null):fr=Ae.sibling;var En=Pt(wt,Ae,It[Pe],qt);if(En===null){Ae===null&&(Ae=fr);break}n&&Ae&&En.alternate===null&&s(wt,Ae),mt=_(En,mt,Pe),nn===null?de=En:nn.sibling=En,nn=En,Ae=fr}if(Pe===It.length)return o(wt,Ae),yn&&ul(wt,Pe),de;if(Ae===null){for(;Pe<It.length;Pe++)Ae=Gt(wt,It[Pe],qt),Ae!==null&&(mt=_(Ae,mt,Pe),nn===null?de=Ae:nn.sibling=Ae,nn=Ae);return yn&&ul(wt,Pe),de}for(Ae=u(Ae);Pe<It.length;Pe++)fr=Ot(Ae,wt,Pe,It[Pe],qt),fr!==null&&(n&&fr.alternate!==null&&Ae.delete(fr.key===null?Pe:fr.key),mt=_(fr,mt,Pe),nn===null?de=fr:nn.sibling=fr,nn=fr);return n&&Ae.forEach(function(mu){return s(wt,mu)}),yn&&ul(wt,Pe),de}function Re(wt,mt,It,qt){if(It==null)throw Error(r(151));for(var de=null,nn=null,Ae=mt,Pe=mt=0,fr=null,En=It.next();Ae!==null&&!En.done;Pe++,En=It.next()){Ae.index>Pe?(fr=Ae,Ae=null):fr=Ae.sibling;var mu=Pt(wt,Ae,En.value,qt);if(mu===null){Ae===null&&(Ae=fr);break}n&&Ae&&mu.alternate===null&&s(wt,Ae),mt=_(mu,mt,Pe),nn===null?de=mu:nn.sibling=mu,nn=mu,Ae=fr}if(En.done)return o(wt,Ae),yn&&ul(wt,Pe),de;if(Ae===null){for(;!En.done;Pe++,En=It.next())En=Gt(wt,En.value,qt),En!==null&&(mt=_(En,mt,Pe),nn===null?de=En:nn.sibling=En,nn=En);return yn&&ul(wt,Pe),de}for(Ae=u(Ae);!En.done;Pe++,En=It.next())En=Ot(Ae,wt,Pe,En.value,qt),En!==null&&(n&&En.alternate!==null&&Ae.delete(En.key===null?Pe:En.key),mt=_(En,mt,Pe),nn===null?de=En:nn.sibling=En,nn=En);return n&&Ae.forEach(function(O4){return s(wt,O4)}),yn&&ul(wt,Pe),de}function zn(wt,mt,It,qt){if(typeof It=="object"&&It!==null&&It.type===R&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case T:t:{for(var de=It.key;mt!==null;){if(mt.key===de){if(de=It.type,de===R){if(mt.tag===7){o(wt,mt.sibling),qt=m(mt,It.props.children),qt.return=wt,wt=qt;break t}}else if(mt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===L&&Ym(de)===mt.type){o(wt,mt.sibling),qt=m(mt,It.props),$h(qt,It),qt.return=wt,wt=qt;break t}o(wt,mt);break}else s(wt,mt);mt=mt.sibling}It.type===R?(qt=Pa(It.props.children,wt.mode,qt,It.key),qt.return=wt,wt=qt):(qt=ol(It.type,It.key,It.props,null,wt.mode,qt),$h(qt,It),qt.return=wt,wt=qt)}return D(wt);case A:t:{for(de=It.key;mt!==null;){if(mt.key===de)if(mt.tag===4&&mt.stateNode.containerInfo===It.containerInfo&&mt.stateNode.implementation===It.implementation){o(wt,mt.sibling),qt=m(mt,It.children||[]),qt.return=wt,wt=qt;break t}else{o(wt,mt);break}else s(wt,mt);mt=mt.sibling}qt=zu(It,wt.mode,qt),qt.return=wt,wt=qt}return D(wt);case L:return de=It._init,It=de(It._payload),zn(wt,mt,It,qt)}if(Tt(It))return je(wt,mt,It,qt);if(C(It)){if(de=C(It),typeof de!="function")throw Error(r(150));return It=de.call(It),Re(wt,mt,It,qt)}if(typeof It.then=="function")return zn(wt,mt,Ad(It),qt);if(It.$$typeof===nt)return zn(wt,mt,So(wt,It),qt);Sd(wt,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,mt!==null&&mt.tag===6?(o(wt,mt.sibling),qt=m(mt,It),qt.return=wt,wt=qt):(o(wt,mt),qt=Nc(It,wt.mode,qt),qt.return=wt,wt=qt),D(wt)):o(wt,mt)}return function(wt,mt,It,qt){try{Wh=0;var de=zn(wt,mt,It,qt);return Uc=null,de}catch(Ae){if(Ae===F||Ae===Y)throw Ae;var nn=ur(29,Ae,null,wt.mode);return nn.lanes=qt,nn.return=wt,nn}finally{}}}var Bc=Km(!0),Qm=Km(!1),ma=pt(null),Io=null;function tu(n){var s=n.alternate;U(tr,tr.current&1),U(ma,n),Io===null&&(s===null||We.current!==null||s.memoizedState!==null)&&(Io=n)}function Xm(n){if(n.tag===22){if(U(tr,tr.current),U(ma,n),Io===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Io=n)}}else eu()}function eu(){U(tr,tr.current),U(ma,ma.current)}function gl(n){P(ma),Io===n&&(Io=null),P(tr)}var tr=pt(0);function Ed(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||y2(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function I1(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var R1={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Gs(),m=Ut(u);m.payload=s,o!=null&&(m.callback=o),s=Ht(n,m,u),s!==null&&(Ys(s,n,u),Ft(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Gs(),m=Ut(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ht(n,m,u),s!==null&&(Ys(s,n,u),Ft(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Gs(),u=Ut(o);u.tag=2,s!=null&&(u.callback=s),s=Ht(n,u,o),s!==null&&(Ys(s,n,o),Ft(s,n,o))}};function Wm(n,s,o,u,m,_,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,D):s.prototype&&s.prototype.isPureReactComponent?!co(o,u)||!co(m,_):!0}function $m(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&R1.enqueueReplaceState(s,s.state,null)}function rc(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=v({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Td=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Jm(n){Td(n)}function Zm(n){console.error(n)}function tg(n){Td(n)}function xd(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function eg(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function C1(n,s,o){return o=Ut(o),o.tag=3,o.payload={element:null},o.callback=function(){xd(n,s)},o}function ng(n){return n=Ut(n),n.tag=3,n}function ig(n,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var _=u.value;n.payload=function(){return m(_)},n.callback=function(){eg(s,o,u)}}var D=o.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){eg(s,o,u),typeof m!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function O3(n,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ql(s,o,m,!0),o=ma.current,o!==null){switch(o.tag){case 13:return Io===null?t2():o.alternate===null&&wi===0&&(wi=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===$?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),n2(n,u,m)),!1;case 22:return o.flags|=65536,u===$?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),n2(n,u,m)),!1}throw Error(r(435,o.tag))}return n2(n,u,m),t2(),!1}if(yn)return s=ma.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Mh&&(n=Error(r(422),{cause:u}),Kl(Je(n,o)))):(u!==Mh&&(s=Error(r(423),{cause:u}),Kl(Je(s,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Je(u,o),m=C1(n.stateNode,u,m),ue(n,m),wi!==4&&(wi=2)),!1;var _=Error(r(520),{cause:u});if(_=Je(_,o),sf===null?sf=[_]:sf.push(_),wi!==4&&(wi=2),s===null)return!0;u=Je(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=C1(o.stateNode,u,n),ue(o,n),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ou===null||!ou.has(_))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ng(m),ig(m,n,o,u),ue(o,m),!1}o=o.return}while(o!==null);return!1}var rg=Error(r(461)),cr=!1;function br(n,s,o,u){s.child=n===null?Qm(s,null,o,u):Bc(s,n.child,o,u)}function sg(n,s,o,u,m){o=o.render;var _=s.ref;if("ref"in u){var D={};for(var Q in u)Q!=="ref"&&(D[Q]=u[Q])}else D=u;return da(s),u=Bs(n,s,o,D,_,m),Q=Kn(),n!==null&&!cr?(Qu(n,s,m),yl(n,s,m)):(yn&&Q&&Hu(s),s.flags|=1,br(n,s,u,m),s.child)}function ag(n,s,o,u,m){if(n===null){var _=o.type;return typeof _=="function"&&!Gl(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,og(n,s,_,u,m)):(n=ol(o.type,null,u,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,!V1(n,m)){var D=_.memoizedProps;if(o=o.compare,o=o!==null?o:co,o(D,u)&&n.ref===s.ref)return yl(n,s,m)}return s.flags|=1,n=ua(_,u),n.ref=s.ref,n.return=s,s.child=n}function og(n,s,o,u,m){if(n!==null){var _=n.memoizedProps;if(co(_,u)&&n.ref===s.ref)if(cr=!1,s.pendingProps=u=_,V1(n,m))(n.flags&131072)!==0&&(cr=!0);else return s.lanes=n.lanes,yl(n,s,m)}return L1(n,s,o,u,m)}function lg(n,s,o){var u=s.pendingProps,m=u.children,_=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|o:o,n!==null){for(m=s.child=n.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;s.childLanes=_&~u}else s.childLanes=0,s.child=null;return ug(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&x(s,_!==null?_.cachePool:null),_!==null?Cn(s,_):An(),Xm(s);else return s.lanes=s.childLanes=536870912,ug(n,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(x(s,_.cachePool),Cn(s,_),eu(),s.memoizedState=null):(n!==null&&x(s,null),An(),eu());return br(n,s,m,o),s.child}function ug(n,s,o,u){var m=w();return m=m===null?null:{parent:Li._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&x(s,null),An(),Xm(s),n!==null&&Ql(n,s,u,!0),null}function Nd(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function L1(n,s,o,u,m){return da(s),o=Bs(n,s,o,u,void 0,m),u=Kn(),n!==null&&!cr?(Qu(n,s,m),yl(n,s,m)):(yn&&u&&Hu(s),s.flags|=1,br(n,s,o,m),s.child)}function cg(n,s,o,u,m,_){return da(s),s.updateQueue=null,o=fl(s,u,o,m),Eo(n),u=Kn(),n!==null&&!cr?(Qu(n,s,_),yl(n,s,_)):(yn&&u&&Hu(s),s.flags|=1,br(n,s,o,_),s.child)}function hg(n,s,o,u,m){if(da(s),s.stateNode===null){var _=qi,D=o.contextType;typeof D=="object"&&D!==null&&(_=Ci(D)),_=new o(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=R1,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},dt(s),D=o.contextType,_.context=typeof D=="object"&&D!==null?Ci(D):qi,_.state=s.memoizedState,D=o.getDerivedStateFromProps,typeof D=="function"&&(I1(s,o,D,u),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&R1.enqueueReplaceState(_,_.state,null),re(s,u,_,m),be(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){_=s.stateNode;var Q=s.memoizedProps,ot=rc(o,Q);_.props=ot;var Lt=_.context,Bt=o.contextType;D=qi,typeof Bt=="object"&&Bt!==null&&(D=Ci(Bt));var Gt=o.getDerivedStateFromProps;Bt=typeof Gt=="function"||typeof _.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,Bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Q||Lt!==D)&&$m(s,_,u,D),Mt=!1;var Pt=s.memoizedState;_.state=Pt,re(s,u,_,m),be(),Lt=s.memoizedState,Q||Pt!==Lt||Mt?(typeof Gt=="function"&&(I1(s,o,Gt,u),Lt=s.memoizedState),(ot=Mt||Wm(s,o,ot,u,Pt,Lt,D))?(Bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Lt),_.props=u,_.state=Lt,_.context=D,u=ot):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,gt(n,s),D=s.memoizedProps,Bt=rc(o,D),_.props=Bt,Gt=s.pendingProps,Pt=_.context,Lt=o.contextType,ot=qi,typeof Lt=="object"&&Lt!==null&&(ot=Ci(Lt)),Q=o.getDerivedStateFromProps,(Lt=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==Gt||Pt!==ot)&&$m(s,_,u,ot),Mt=!1,Pt=s.memoizedState,_.state=Pt,re(s,u,_,m),be();var Ot=s.memoizedState;D!==Gt||Pt!==Ot||Mt||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof Q=="function"&&(I1(s,o,Q,u),Ot=s.memoizedState),(Bt=Mt||Wm(s,o,Bt,u,Pt,Ot,ot)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(Lt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Ot,ot),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Ot,ot)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===n.memoizedProps&&Pt===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Pt===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ot),_.props=u,_.state=Ot,_.context=ot,u=Bt):(typeof _.componentDidUpdate!="function"||D===n.memoizedProps&&Pt===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Pt===n.memoizedState||(s.flags|=1024),u=!1)}return _=u,Nd(n,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,n!==null&&u?(s.child=Bc(s,n.child,null,m),s.child=Bc(s,null,o,m)):br(n,s,o,m),s.memoizedState=_.state,n=s.child):n=yl(n,s,m),n}function fg(n,s,o,u){return is(),s.flags|=256,br(n,s,o,u),s.child}var D1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P1(n){return{baseLanes:n,cachePool:M()}}function O1(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=ga),n}function dg(n,s,o){var u=s.pendingProps,m=!1,_=(s.flags&128)!==0,D;if((D=_)||(D=n!==null&&n.memoizedState===null?!1:(tr.current&2)!==0),D&&(m=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,n===null){if(yn){if(m?tu(s):eu(),yn){var Q=si,ot;if(ot=Q){t:{for(ot=Q,Q=ca;ot.nodeType!==8;){if(!Q){Q=null;break t}if(ot=Ga(ot.nextSibling),ot===null){Q=null;break t}}Q=ot}Q!==null?(s.memoizedState={dehydrated:Q,treeContext:ll!==null?{id:Ma,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},ot=ur(18,null,null,0),ot.stateNode=Q,ot.return=s,s.child=ot,Ri=s,si=null,ot=!0):ot=!1}ot||cl(s)}if(Q=s.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return y2(Q)?s.lanes=32:s.lanes=536870912,null;gl(s)}return Q=u.children,u=u.fallback,m?(eu(),m=s.mode,Q=Id({mode:"hidden",children:Q},m),u=Pa(u,m,o,null),Q.return=s,u.return=s,Q.sibling=u,s.child=Q,m=s.child,m.memoizedState=P1(o),m.childLanes=O1(n,D,o),s.memoizedState=D1,u):(tu(s),M1(s,Q))}if(ot=n.memoizedState,ot!==null&&(Q=ot.dehydrated,Q!==null)){if(_)s.flags&256?(tu(s),s.flags&=-257,s=k1(n,s,o)):s.memoizedState!==null?(eu(),s.child=n.child,s.flags|=128,s=null):(eu(),m=u.fallback,Q=s.mode,u=Id({mode:"visible",children:u.children},Q),m=Pa(m,Q,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,Bc(s,n.child,null,o),u=s.child,u.memoizedState=P1(o),u.childLanes=O1(n,D,o),s.memoizedState=D1,s=m);else if(tu(s),y2(Q)){if(D=Q.nextSibling&&Q.nextSibling.dataset,D)var Lt=D.dgst;D=Lt,u=Error(r(419)),u.stack="",u.digest=D,Kl({value:u,source:null,stack:null}),s=k1(n,s,o)}else if(cr||Ql(n,s,o,!1),D=(o&n.childLanes)!==0,cr||D){if(D=Qn,D!==null&&(u=o&-o,u=(u&42)!==0?1:Nr(u),u=(u&(D.suspendedLanes|o))!==0?0:u,u!==0&&u!==ot.retryLane))throw ot.retryLane=u,Da(n,u),Ys(D,n,u),rg;Q.data==="$?"||t2(),s=k1(n,s,o)}else Q.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=ot.treeContext,si=Ga(Q.nextSibling),Ri=s,yn=!0,wo=null,ca=!1,n!==null&&(gs[ns++]=Ma,gs[ns++]=ka,gs[ns++]=ll,Ma=n.id,ka=n.overflow,ll=s),s=M1(s,u.children),s.flags|=4096);return s}return m?(eu(),m=u.fallback,Q=s.mode,ot=n.child,Lt=ot.sibling,u=ua(ot,{mode:"hidden",children:u.children}),u.subtreeFlags=ot.subtreeFlags&65011712,Lt!==null?m=ua(Lt,m):(m=Pa(m,Q,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,Q=n.child.memoizedState,Q===null?Q=P1(o):(ot=Q.cachePool,ot!==null?(Lt=Li._currentValue,ot=ot.parent!==Lt?{parent:Lt,pool:Lt}:ot):ot=M(),Q={baseLanes:Q.baseLanes|o,cachePool:ot}),m.memoizedState=Q,m.childLanes=O1(n,D,o),s.memoizedState=D1,u):(tu(s),o=n.child,n=o.sibling,o=ua(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(D=s.deletions,D===null?(s.deletions=[n],s.flags|=16):D.push(n)),s.child=o,s.memoizedState=null,o)}function M1(n,s){return s=Id({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Id(n,s){return n=ur(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function k1(n,s,o){return Bc(s,n.child,null,o),n=M1(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function pg(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Rc(n.return,s,o)}function j1(n,s,o,u,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=m)}function mg(n,s,o){var u=s.pendingProps,m=u.revealOrder,_=u.tail;if(br(n,s,u.children,o),u=tr.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pg(n,o,s);else if(n.tag===19)pg(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(U(tr,u),m){case"forwards":for(o=s.child,m=null;o!==null;)n=o.alternate,n!==null&&Ed(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),j1(s,!1,m,o,_);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Ed(n)===null){s.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}j1(s,!0,o,null,_);break;case"together":j1(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yl(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),au|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ql(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=ua(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ua(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function V1(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function M3(n,s,o){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),Ao(s,Li,n.memoizedState.cache),is();break;case 27:case 5:Jt(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:Ao(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(tu(s),s.flags|=128,null):(o&s.child.childLanes)!==0?dg(n,s,o):(tu(s),n=yl(n,s,o),n!==null?n.sibling:null);tu(s);break;case 19:var m=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ql(n,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return mg(n,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),U(tr,tr.current),u)break;return null;case 22:case 23:return s.lanes=0,lg(n,s,o);case 24:Ao(s,Li,n.memoizedState.cache)}return yl(n,s,o)}function gg(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)cr=!0;else{if(!V1(n,o)&&(s.flags&128)===0)return cr=!1,M3(n,s,o);cr=(n.flags&131072)!==0}else cr=!1,yn&&(s.flags&1048576)!==0&&rd(s,Ic,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Gl(u)?(n=rc(u,n),s.tag=1,s=hg(null,s,u,n,o)):(s.tag=0,s=L1(null,s,u,n,o));else{if(u!=null){if(m=u.$$typeof,m===At){s.tag=11,s=sg(null,s,u,n,o);break t}else if(m===W){s.tag=14,s=ag(null,s,u,n,o);break t}}throw s=at(u)||u,Error(r(306,s,""))}}return s;case 0:return L1(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=rc(u,s.pendingProps),hg(n,s,u,m,o);case 3:t:{if(St(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;m=_.element,gt(n,s),re(s,u,null,o);var D=s.memoizedState;if(u=D.cache,Ao(s,Li,u),u!==_.cache&&Cc(s,[Li],o,!0),be(),u=D.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=fg(n,s,u,o);break t}else if(u!==m){m=Je(Error(r(424)),s),Kl(m),s=fg(n,s,u,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(si=Ga(n.firstChild),Ri=s,yn=!0,wo=null,ca=!0,o=Qm(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(is(),u===m){s=yl(n,s,o);break t}br(n,s,u,o)}s=s.child}return s;case 26:return Nd(n,s),n===null?(o=b5(s.type,null,s.pendingProps,null))?s.memoizedState=o:yn||(o=s.type,n=s.pendingProps,u=qd(lt.current).createElement(o),u[Nn]=s,u[In]=n,Ar(u,o,n),vn(u),s.stateNode=u):s.memoizedState=b5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Jt(s),n===null&&yn&&(u=s.stateNode=y5(s.type,s.pendingProps,lt.current),Ri=s,ca=!0,m=si,cu(s.type)?(v2=m,si=Ga(u.firstChild)):si=m),br(n,s,s.pendingProps.children,o),Nd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&yn&&((m=u=si)&&(u=u4(u,s.type,s.pendingProps,ca),u!==null?(s.stateNode=u,Ri=s,si=Ga(u.firstChild),ca=!1,m=!0):m=!1),m||cl(s)),Jt(s),m=s.type,_=s.pendingProps,D=n!==null?n.memoizedProps:null,u=_.children,p2(m,_)?u=null:D!==null&&p2(m,D)&&(s.flags|=32),s.memoizedState!==null&&(m=Bs(n,s,To,null,null,o),pf._currentValue=m),Nd(n,s),br(n,s,u,o),s.child;case 6:return n===null&&yn&&((n=o=si)&&(o=c4(o,s.pendingProps,ca),o!==null?(s.stateNode=o,Ri=s,si=null,n=!0):n=!1),n||cl(s)),null;case 13:return dg(n,s,o);case 4:return St(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Bc(s,null,u,o):br(n,s,u,o),s.child;case 11:return sg(n,s,s.type,s.pendingProps,o);case 7:return br(n,s,s.pendingProps,o),s.child;case 8:return br(n,s,s.pendingProps.children,o),s.child;case 12:return br(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ao(s,s.type,u.value),br(n,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,da(s),m=Ci(m),u=u(m),s.flags|=1,br(n,s,u,o),s.child;case 14:return ag(n,s,s.type,s.pendingProps,o);case 15:return og(n,s,s.type,s.pendingProps,o);case 19:return mg(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Id(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ua(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return lg(n,s,o);case 24:return da(s),u=Ci(Li),n===null?(m=w(),m===null&&(m=Qn,_=kh(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=o),m=_),s.memoizedState={parent:u,cache:m},dt(s),Ao(s,Li,m)):((n.lanes&o)!==0&&(gt(n,s),re(s,null,null,o),be()),m=n.memoizedState,_=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ao(s,Li,u)):(u=_.cache,Ao(s,Li,u),u!==m.cache&&Cc(s,[Li],o,!0))),br(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vl(n){n.flags|=4}function yg(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!T5(s)){if(s=ma.current,s!==null&&((mn&4194048)===mn?Io!==null:(mn&62914560)!==mn&&(mn&536870912)===0||s!==Io))throw xt=$,q;n.flags|=8192}}function Rd(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?jn():536870912,n.lanes|=s,Hc|=s)}function Jh(n,s){if(!yn)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function fi(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function k3(n,s,o){var u=s.pendingProps;switch(Gu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(s),null;case 1:return fi(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fa(Li),Dt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(vr(s)?vl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),fi(s),null;case 26:return o=s.memoizedState,n===null?(vl(s),o!==null?(fi(s),yg(s,o)):(fi(s),s.flags&=-16777217)):o?o!==n.memoizedState?(vl(s),fi(s),yg(s,o)):(fi(s),s.flags&=-16777217):(n.memoizedProps!==u&&vl(s),fi(s),s.flags&=-16777217),null;case 27:Wt(s),o=lt.current;var m=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&vl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return fi(s),null}n=J.current,vr(s)?sd(s):(n=y5(m,u,o),s.stateNode=n,vl(s))}return fi(s),null;case 5:if(Wt(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&vl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return fi(s),null}if(n=J.current,vr(s))sd(s);else{switch(m=qd(lt.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}n[Nn]=s,n[In]=u;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=n;t:switch(Ar(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&vl(s)}}return fi(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&vl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=lt.current,vr(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,m=Ri,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[Nn]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||c5(n.nodeValue,o)),n||cl(s)}else n=qd(n).createTextNode(u),n[Nn]=s,s.stateNode=n}return fi(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=vr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Nn]=s}else is(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fi(s),m=!1}else m=ad(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(gl(s),s):(gl(s),null)}if(gl(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==m&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Rd(s,s.updateQueue),fi(s),null;case 4:return Dt(),n===null&&u2(s.stateNode.containerInfo),fi(s),null;case 10:return fa(s.type),fi(s),null;case 19:if(P(tr),m=s.memoizedState,m===null)return fi(s),null;if(u=(s.flags&128)!==0,_=m.rendering,_===null)if(u)Jh(m,!1);else{if(wi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=Ed(n),_!==null){for(s.flags|=128,Jh(m,!1),n=_.updateQueue,s.updateQueue=n,Rd(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)qu(o,n),o=o.sibling;return U(tr,tr.current&1|2),s.child}n=n.sibling}m.tail!==null&&Se()>Dd&&(s.flags|=128,u=!0,Jh(m,!1),s.lanes=4194304)}else{if(!u)if(n=Ed(_),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Rd(s,n),Jh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!yn)return fi(s),null}else 2*Se()-m.renderingStartTime>Dd&&o!==536870912&&(s.flags|=128,u=!0,Jh(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(n=m.last,n!==null?n.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Se(),s.sibling=null,n=tr.current,U(tr,u?n&1|2:n&1),s):(fi(s),null);case 22:case 23:return gl(s),Fe(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(fi(s),s.subtreeFlags&6&&(s.flags|=8192)):fi(s),o=s.updateQueue,o!==null&&Rd(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&P(g),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fa(Li),fi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function j3(n,s){switch(Gu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return fa(Li),Dt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 13:if(gl(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));is()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return P(tr),null;case 4:return Dt(),null;case 10:return fa(s.type),null;case 22:case 23:return gl(s),Fe(),n!==null&&P(g),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return fa(Li),null;case 25:return null;default:return null}}function vg(n,s){switch(Gu(s),s.tag){case 3:fa(Li),Dt();break;case 26:case 27:case 5:Wt(s);break;case 4:Dt();break;case 13:gl(s);break;case 19:P(tr);break;case 10:fa(s.type);break;case 22:case 23:gl(s),Fe(),n!==null&&P(g);break;case 24:fa(Li)}}function Zh(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&n)===n){u=void 0;var _=o.create,D=o.inst;u=_(),D.destroy=u}o=o.next}while(o!==m)}}catch(Q){Gn(s,s.return,Q)}}function nu(n,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var _=m.next;u=_;do{if((u.tag&n)===n){var D=u.inst,Q=D.destroy;if(Q!==void 0){D.destroy=void 0,m=s;var ot=o,Lt=Q;try{Lt()}catch(Bt){Gn(m,ot,Bt)}}}u=u.next}while(u!==_)}}catch(Bt){Gn(s,s.return,Bt)}}function _g(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{wn(s,o)}catch(u){Gn(n,n.return,u)}}}function bg(n,s,o){o.props=rc(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Gn(n,s,u)}}function tf(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(m){Gn(n,s,m)}}function Ro(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Gn(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Gn(n,s,m)}else o.current=null}function wg(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Gn(n,n.return,m)}}function U1(n,s,o){try{var u=n.stateNode;r4(u,n.type,o,s),u[In]=s}catch(m){Gn(n,n.return,m)}}function Ag(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&cu(n.type)||n.tag===4}function B1(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Ag(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&cu(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function F1(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Fd));else if(u!==4&&(u===27&&cu(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(F1(n,s,o),n=n.sibling;n!==null;)F1(n,s,o),n=n.sibling}function Cd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&cu(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Cd(n,s,o),n=n.sibling;n!==null;)Cd(n,s,o),n=n.sibling}function Sg(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Ar(s,u,o),s[Nn]=n,s[In]=o}catch(_){Gn(n,n.return,_)}}var _l=!1,Pi=!1,q1=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,hr=null;function V3(n,s){if(n=n.containerInfo,f2=Qd,n=yr(n),Zi(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var D=0,Q=-1,ot=-1,Lt=0,Bt=0,Gt=n,Pt=null;e:for(;;){for(var Ot;Gt!==o||m!==0&&Gt.nodeType!==3||(Q=D+m),Gt!==_||u!==0&&Gt.nodeType!==3||(ot=D+u),Gt.nodeType===3&&(D+=Gt.nodeValue.length),(Ot=Gt.firstChild)!==null;)Pt=Gt,Gt=Ot;for(;;){if(Gt===n)break e;if(Pt===o&&++Lt===m&&(Q=D),Pt===_&&++Bt===u&&(ot=D),(Ot=Gt.nextSibling)!==null)break;Gt=Pt,Pt=Gt.parentNode}Gt=Ot}o=Q===-1||ot===-1?null:{start:Q,end:ot}}else o=null}o=o||{start:0,end:0}}else o=null;for(d2={focusedElem:n,selectionRange:o},Qd=!1,hr=s;hr!==null;)if(s=hr,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,hr=n;else for(;hr!==null;){switch(s=hr,_=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,o=s,m=_.memoizedProps,_=_.memoizedState,u=o.stateNode;try{var je=rc(o.type,m,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(je,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){Gn(o,o.return,Re)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)g2(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":g2(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,hr=n;break}hr=s.return}}function Tg(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:iu(n,o),u&4&&Zh(5,o);break;case 1:if(iu(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(D){Gn(o,o.return,D)}else{var m=rc(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(D){Gn(o,o.return,D)}}u&64&&_g(o),u&512&&tf(o,o.return);break;case 3:if(iu(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{wn(n,s)}catch(D){Gn(o,o.return,D)}}break;case 27:s===null&&u&4&&Sg(o);case 26:case 5:iu(n,o),s===null&&u&4&&wg(o),u&512&&tf(o,o.return);break;case 12:iu(n,o);break;case 13:iu(n,o),u&4&&Ig(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=K3.bind(null,o),h4(n,o))));break;case 22:if(u=o.memoizedState!==null||_l,!u){s=s!==null&&s.memoizedState!==null||Pi,m=_l;var _=Pi;_l=u,(Pi=s)&&!_?ru(n,o,(o.subtreeFlags&8772)!==0):iu(n,o),_l=m,Pi=_}break;case 30:break;default:iu(n,o)}}function xg(n){var s=n.alternate;s!==null&&(n.alternate=null,xg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ui(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ai=null,vs=!1;function bl(n,s,o){for(o=o.child;o!==null;)Ng(n,s,o),o=o.sibling}function Ng(n,s,o){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(_e,o)}catch{}switch(o.tag){case 26:Pi||Ro(o,s),bl(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pi||Ro(o,s);var u=ai,m=vs;cu(o.type)&&(ai=o.stateNode,vs=!1),bl(n,s,o),cf(o.stateNode),ai=u,vs=m;break;case 5:Pi||Ro(o,s);case 6:if(u=ai,m=vs,ai=null,bl(n,s,o),ai=u,vs=m,ai!==null)if(vs)try{(ai.nodeType===9?ai.body:ai.nodeName==="HTML"?ai.ownerDocument.body:ai).removeChild(o.stateNode)}catch(_){Gn(o,s,_)}else try{ai.removeChild(o.stateNode)}catch(_){Gn(o,s,_)}break;case 18:ai!==null&&(vs?(n=ai,m5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),vf(n)):m5(ai,o.stateNode));break;case 4:u=ai,m=vs,ai=o.stateNode.containerInfo,vs=!0,bl(n,s,o),ai=u,vs=m;break;case 0:case 11:case 14:case 15:Pi||nu(2,o,s),Pi||nu(4,o,s),bl(n,s,o);break;case 1:Pi||(Ro(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&bg(o,s,u)),bl(n,s,o);break;case 21:bl(n,s,o);break;case 22:Pi=(u=Pi)||o.memoizedState!==null,bl(n,s,o),Pi=u;break;default:bl(n,s,o)}}function Ig(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vf(n)}catch(o){Gn(s,s.return,o)}}function U3(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Eg),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Eg),s;default:throw Error(r(435,n.tag))}}function z1(n,s){var o=U3(n);s.forEach(function(u){var m=Q3.bind(null,n,u);o.has(u)||(o.add(u),u.then(m,m))})}function qs(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],_=n,D=s,Q=D;t:for(;Q!==null;){switch(Q.tag){case 27:if(cu(Q.type)){ai=Q.stateNode,vs=!1;break t}break;case 5:ai=Q.stateNode,vs=!1;break t;case 3:case 4:ai=Q.stateNode.containerInfo,vs=!0;break t}Q=Q.return}if(ai===null)throw Error(r(160));Ng(_,D,m),ai=null,vs=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Rg(s,n),s=s.sibling}var Ha=null;function Rg(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qs(s,n),zs(n),u&4&&(nu(3,n,n.return),Zh(3,n),nu(5,n,n.return));break;case 1:qs(s,n),zs(n),u&512&&(Pi||o===null||Ro(o,o.return)),u&64&&_l&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ha;if(qs(s,n),zs(n),u&512&&(Pi||o===null||Ro(o,o.return)),u&4){var _=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){t:{u=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":_=m.getElementsByTagName("title")[0],(!_||_[mr]||_[Nn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(u),m.head.insertBefore(_,m.querySelector("head > title"))),Ar(_,u,o),_[Nn]=n,vn(_),u=_;break t;case"link":var D=S5("link","href",m).get(u+(o.href||""));if(D){for(var Q=0;Q<D.length;Q++)if(_=D[Q],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){D.splice(Q,1);break e}}_=m.createElement(u),Ar(_,u,o),m.head.appendChild(_);break;case"meta":if(D=S5("meta","content",m).get(u+(o.content||""))){for(Q=0;Q<D.length;Q++)if(_=D[Q],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){D.splice(Q,1);break e}}_=m.createElement(u),Ar(_,u,o),m.head.appendChild(_);break;default:throw Error(r(468,u))}_[Nn]=n,vn(_),u=_}n.stateNode=u}else E5(m,n.type,n.stateNode);else n.stateNode=A5(m,u,n.memoizedProps);else _!==u?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,u===null?E5(m,n.type,n.stateNode):A5(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&U1(n,n.memoizedProps,o.memoizedProps)}break;case 27:qs(s,n),zs(n),u&512&&(Pi||o===null||Ro(o,o.return)),o!==null&&u&4&&U1(n,n.memoizedProps,o.memoizedProps);break;case 5:if(qs(s,n),zs(n),u&512&&(Pi||o===null||Ro(o,o.return)),n.flags&32){m=n.stateNode;try{Rr(m,"")}catch(Ot){Gn(n,n.return,Ot)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,U1(n,m,o!==null?o.memoizedProps:m)),u&1024&&(q1=!0);break;case 6:if(qs(s,n),zs(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Ot){Gn(n,n.return,Ot)}}break;case 3:if(Gd=null,m=Ha,Ha=zd(s.containerInfo),qs(s,n),Ha=m,zs(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vf(s.containerInfo)}catch(Ot){Gn(n,n.return,Ot)}q1&&(q1=!1,Cg(n));break;case 4:u=Ha,Ha=zd(n.stateNode.containerInfo),qs(s,n),zs(n),Ha=u;break;case 12:qs(s,n),zs(n);break;case 13:qs(s,n),zs(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(X1=Se()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,z1(n,u)));break;case 22:m=n.memoizedState!==null;var ot=o!==null&&o.memoizedState!==null,Lt=_l,Bt=Pi;if(_l=Lt||m,Pi=Bt||ot,qs(s,n),Pi=Bt,_l=Lt,zs(n),u&8192)t:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||ot||_l||Pi||sc(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){ot=o=s;try{if(_=ot.stateNode,m)D=_.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Q=ot.stateNode;var Gt=ot.memoizedProps.style,Pt=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;Q.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(Ot){Gn(ot,ot.return,Ot)}}}else if(s.tag===6){if(o===null){ot=s;try{ot.stateNode.nodeValue=m?"":ot.memoizedProps}catch(Ot){Gn(ot,ot.return,Ot)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,z1(n,o))));break;case 19:qs(s,n),zs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,z1(n,u)));break;case 30:break;case 21:break;default:qs(s,n),zs(n)}}function zs(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(Ag(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,_=B1(n);Cd(n,_,m);break;case 5:var D=o.stateNode;o.flags&32&&(Rr(D,""),o.flags&=-33);var Q=B1(n);Cd(n,Q,D);break;case 3:case 4:var ot=o.stateNode.containerInfo,Lt=B1(n);F1(n,Lt,ot);break;default:throw Error(r(161))}}catch(Bt){Gn(n,n.return,Bt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Cg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Cg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function iu(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tg(n,s.alternate,s),s=s.sibling}function sc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:nu(4,s,s.return),sc(s);break;case 1:Ro(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&bg(s,s.return,o),sc(s);break;case 27:cf(s.stateNode);case 26:case 5:Ro(s,s.return),sc(s);break;case 22:s.memoizedState===null&&sc(s);break;case 30:sc(s);break;default:sc(s)}n=n.sibling}}function ru(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=n,_=s,D=_.flags;switch(_.tag){case 0:case 11:case 15:ru(m,_,o),Zh(4,_);break;case 1:if(ru(m,_,o),u=_,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Lt){Gn(u,u.return,Lt)}if(u=_,m=u.updateQueue,m!==null){var Q=u.stateNode;try{var ot=m.shared.hiddenCallbacks;if(ot!==null)for(m.shared.hiddenCallbacks=null,m=0;m<ot.length;m++)dn(ot[m],Q)}catch(Lt){Gn(u,u.return,Lt)}}o&&D&64&&_g(_),tf(_,_.return);break;case 27:Sg(_);case 26:case 5:ru(m,_,o),o&&u===null&&D&4&&wg(_),tf(_,_.return);break;case 12:ru(m,_,o);break;case 13:ru(m,_,o),o&&D&4&&Ig(m,_);break;case 22:_.memoizedState===null&&ru(m,_,o),tf(_,_.return);break;case 30:break;default:ru(m,_,o)}s=s.sibling}}function H1(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Yu(o))}function G1(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Yu(n))}function Co(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lg(n,s,o,u),s=s.sibling}function Lg(n,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Co(n,s,o,u),m&2048&&Zh(9,s);break;case 1:Co(n,s,o,u);break;case 3:Co(n,s,o,u),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Yu(n)));break;case 12:if(m&2048){Co(n,s,o,u),n=s.stateNode;try{var _=s.memoizedProps,D=_.id,Q=_.onPostCommit;typeof Q=="function"&&Q(D,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ot){Gn(s,s.return,ot)}}else Co(n,s,o,u);break;case 13:Co(n,s,o,u);break;case 23:break;case 22:_=s.stateNode,D=s.alternate,s.memoizedState!==null?_._visibility&2?Co(n,s,o,u):ef(n,s):_._visibility&2?Co(n,s,o,u):(_._visibility|=2,Fc(n,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&H1(D,s);break;case 24:Co(n,s,o,u),m&2048&&G1(s.alternate,s);break;default:Co(n,s,o,u)}}function Fc(n,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=n,D=s,Q=o,ot=u,Lt=D.flags;switch(D.tag){case 0:case 11:case 15:Fc(_,D,Q,ot,m),Zh(8,D);break;case 23:break;case 22:var Bt=D.stateNode;D.memoizedState!==null?Bt._visibility&2?Fc(_,D,Q,ot,m):ef(_,D):(Bt._visibility|=2,Fc(_,D,Q,ot,m)),m&&Lt&2048&&H1(D.alternate,D);break;case 24:Fc(_,D,Q,ot,m),m&&Lt&2048&&G1(D.alternate,D);break;default:Fc(_,D,Q,ot,m)}s=s.sibling}}function ef(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,m=u.flags;switch(u.tag){case 22:ef(o,u),m&2048&&H1(u.alternate,u);break;case 24:ef(o,u),m&2048&&G1(u.alternate,u);break;default:ef(o,u)}s=s.sibling}}var nf=8192;function qc(n){if(n.subtreeFlags&nf)for(n=n.child;n!==null;)Dg(n),n=n.sibling}function Dg(n){switch(n.tag){case 26:qc(n),n.flags&nf&&n.memoizedState!==null&&E4(Ha,n.memoizedState,n.memoizedProps);break;case 5:qc(n);break;case 3:case 4:var s=Ha;Ha=zd(n.stateNode.containerInfo),qc(n),Ha=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=nf,nf=16777216,qc(n),nf=s):qc(n));break;default:qc(n)}}function Pg(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function rf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];hr=u,Mg(u,n)}Pg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Og(n),n=n.sibling}function Og(n){switch(n.tag){case 0:case 11:case 15:rf(n),n.flags&2048&&nu(9,n,n.return);break;case 3:rf(n);break;case 12:rf(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ld(n)):rf(n);break;default:rf(n)}}function Ld(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];hr=u,Mg(u,n)}Pg(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:nu(8,s,s.return),Ld(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ld(s));break;default:Ld(s)}n=n.sibling}}function Mg(n,s){for(;hr!==null;){var o=hr;switch(o.tag){case 0:case 11:case 15:nu(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,hr=u;else t:for(o=n;hr!==null;){u=hr;var m=u.sibling,_=u.return;if(xg(u),u===o){hr=null;break t}if(m!==null){m.return=_,hr=m;break t}hr=_}}}var B3={getCacheForType:function(n){var s=Ci(Li),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},F3=typeof WeakMap=="function"?WeakMap:Map,On=0,Qn=null,rn=null,mn=0,Mn=0,Hs=null,su=!1,zc=!1,Y1=!1,wl=0,wi=0,au=0,ac=0,K1=0,ga=0,Hc=0,sf=null,_s=null,Q1=!1,X1=0,Dd=1/0,Pd=null,ou=null,wr=0,lu=null,Gc=null,Yc=0,W1=0,$1=null,kg=null,af=0,J1=null;function Gs(){if((On&2)!==0&&mn!==0)return mn&-mn;if(et.T!==null){var n=hl;return n!==0?n:s2()}return Xi()}function jg(){ga===0&&(ga=(mn&536870912)===0||yn?Ts():536870912);var n=ma.current;return n!==null&&(n.flags|=32),ga}function Ys(n,s,o){(n===Qn&&(Mn===2||Mn===9)||n.cancelPendingCommit!==null)&&(Kc(n,0),uu(n,mn,ga,!1)),Qi(n,o),((On&2)===0||n!==Qn)&&(n===Qn&&((On&2)===0&&(ac|=o),wi===4&&uu(n,mn,ga,!1)),Lo(n))}function Vg(n,s,o){if((On&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||ir(n,s),m=u?H3(n,s):e2(n,s,!0),_=u;do{if(m===0){zc&&!u&&uu(n,s,0,!1);break}else{if(o=n.current.alternate,_&&!q3(o)){m=e2(n,s,!1),_=!1;continue}if(m===2){if(_=s,n.errorRecoveryDisabledLanes&_)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;t:{var Q=n;m=sf;var ot=Q.current.memoizedState.isDehydrated;if(ot&&(Kc(Q,D).flags|=256),D=e2(Q,D,!1),D!==2){if(Y1&&!ot){Q.errorRecoveryDisabledLanes|=_,ac|=_,m=4;break t}_=_s,_s=m,_!==null&&(_s===null?_s=_:_s.push.apply(_s,_))}m=D}if(_=!1,m!==2)continue}}if(m===1){Kc(n,0),uu(n,s,0,!0);break}t:{switch(u=n,_=m,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:uu(u,s,ga,!su);break t;case 2:_s=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=X1+300-Se(),10<m)){if(uu(u,s,ga,!su),xn(u,0,!0)!==0)break t;u.timeoutHandle=d5(Ug.bind(null,u,o,_s,Pd,Q1,s,ga,ac,Hc,su,_,2,-0,0),m);break t}Ug(u,o,_s,Pd,Q1,s,ga,ac,Hc,su,_,0,-0,0)}}break}while(!0);Lo(n)}function Ug(n,s,o,u,m,_,D,Q,ot,Lt,Bt,Gt,Pt,Ot){if(n.timeoutHandle=-1,Gt=s.subtreeFlags,(Gt&8192||(Gt&16785408)===16785408)&&(df={stylesheets:null,count:0,unsuspend:S4},Dg(s),Gt=T4(),Gt!==null)){n.cancelPendingCommit=Gt(Yg.bind(null,n,s,_,o,u,m,D,Q,ot,Bt,1,Pt,Ot)),uu(n,_,D,!Lt);return}Yg(n,s,_,o,u,m,D,Q,ot)}function q3(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],_=m.getSnapshot;m=m.value;try{if(!Fi(_(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function uu(n,s,o,u){s&=~K1,s&=~ac,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var m=s;0<m;){var _=31-fe(m),D=1<<_;u[_]=-1,m&=~D}o!==0&&Ee(n,o,s)}function Od(){return(On&6)===0?(of(0),!1):!0}function Z1(){if(rn!==null){if(Mn===0)var n=rn.return;else n=rn,Va=zi=null,Pc(n),Uc=null,Wh=0,n=rn;for(;n!==null;)vg(n.alternate,n),n=n.return;rn=null}}function Kc(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,a4(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Z1(),Qn=n,rn=o=ua(n.current,null),mn=s,Mn=0,Hs=null,su=!1,zc=ir(n,s),Y1=!1,Hc=ga=K1=ac=au=wi=0,_s=sf=null,Q1=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var m=31-fe(u),_=1<<m;s|=n[m],u&=~_}return wl=s,ps(),o}function Bg(n,s){Te=null,et.H=wd,s===F||s===Y?(s=_t(),Mn=3):s===q?(s=_t(),Mn=4):Mn=s===rg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hs=s,rn===null&&(wi=1,xd(n,Je(s,n.current)))}function Fg(){var n=et.H;return et.H=wd,n===null?wd:n}function qg(){var n=et.A;return et.A=B3,n}function t2(){wi=4,su||(mn&4194048)!==mn&&ma.current!==null||(zc=!0),(au&134217727)===0&&(ac&134217727)===0||Qn===null||uu(Qn,mn,ga,!1)}function e2(n,s,o){var u=On;On|=2;var m=Fg(),_=qg();(Qn!==n||mn!==s)&&(Pd=null,Kc(n,s)),s=!1;var D=wi;t:do try{if(Mn!==0&&rn!==null){var Q=rn,ot=Hs;switch(Mn){case 8:Z1(),D=6;break t;case 3:case 2:case 9:case 6:ma.current===null&&(s=!0);var Lt=Mn;if(Mn=0,Hs=null,Qc(n,Q,ot,Lt),o&&zc){D=0;break t}break;default:Lt=Mn,Mn=0,Hs=null,Qc(n,Q,ot,Lt)}}z3(),D=wi;break}catch(Bt){Bg(n,Bt)}while(!0);return s&&n.shellSuspendCounter++,Va=zi=null,On=u,et.H=m,et.A=_,rn===null&&(Qn=null,mn=0,ps()),D}function z3(){for(;rn!==null;)zg(rn)}function H3(n,s){var o=On;On|=2;var u=Fg(),m=qg();Qn!==n||mn!==s?(Pd=null,Dd=Se()+500,Kc(n,s)):zc=ir(n,s);t:do try{if(Mn!==0&&rn!==null){s=rn;var _=Hs;e:switch(Mn){case 1:Mn=0,Hs=null,Qc(n,s,_,1);break;case 2:case 9:if(tt(_)){Mn=0,Hs=null,Hg(s);break}s=function(){Mn!==2&&Mn!==9||Qn!==n||(Mn=7),Lo(n)},_.then(s,s);break t;case 3:Mn=7;break t;case 4:Mn=5;break t;case 7:tt(_)?(Mn=0,Hs=null,Hg(s)):(Mn=0,Hs=null,Qc(n,s,_,7));break;case 5:var D=null;switch(rn.tag){case 26:D=rn.memoizedState;case 5:case 27:var Q=rn;if(!D||T5(D)){Mn=0,Hs=null;var ot=Q.sibling;if(ot!==null)rn=ot;else{var Lt=Q.return;Lt!==null?(rn=Lt,Md(Lt)):rn=null}break e}}Mn=0,Hs=null,Qc(n,s,_,5);break;case 6:Mn=0,Hs=null,Qc(n,s,_,6);break;case 8:Z1(),wi=6;break t;default:throw Error(r(462))}}G3();break}catch(Bt){Bg(n,Bt)}while(!0);return Va=zi=null,et.H=u,et.A=m,On=o,rn!==null?0:(Qn=null,mn=0,ps(),wi)}function G3(){for(;rn!==null&&!Vt();)zg(rn)}function zg(n){var s=gg(n.alternate,n,wl);n.memoizedProps=n.pendingProps,s===null?Md(n):rn=s}function Hg(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=cg(o,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=cg(o,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:Pc(s);default:vg(o,s),s=rn=qu(s,wl),s=gg(o,s,wl)}n.memoizedProps=n.pendingProps,s===null?Md(n):rn=s}function Qc(n,s,o,u){Va=zi=null,Pc(s),Uc=null,Wh=0;var m=s.return;try{if(O3(n,m,s,o,mn)){wi=1,xd(n,Je(o,n.current)),rn=null;return}}catch(_){if(m!==null)throw rn=m,_;wi=1,xd(n,Je(o,n.current)),rn=null;return}s.flags&32768?(yn||u===1?n=!0:zc||(mn&536870912)!==0?n=!1:(su=n=!0,(u===2||u===9||u===3||u===6)&&(u=ma.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gg(s,n)):Md(s)}function Md(n){var s=n;do{if((s.flags&32768)!==0){Gg(s,su);return}n=s.return;var o=k3(s.alternate,s,wl);if(o!==null){rn=o;return}if(s=s.sibling,s!==null){rn=s;return}rn=s=n}while(s!==null);wi===0&&(wi=5)}function Gg(n,s){do{var o=j3(n.alternate,n);if(o!==null){o.flags&=32767,rn=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){rn=n;return}rn=n=o}while(n!==null);wi=6,rn=null}function Yg(n,s,o,u,m,_,D,Q,ot){n.cancelPendingCommit=null;do kd();while(wr!==0);if((On&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=ui,Vn(n,o,_,D,Q,ot),n===Qn&&(rn=Qn=null,mn=0),Gc=s,lu=n,Yc=o,W1=_,$1=m,kg=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X3(se,function(){return $g(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=et.T,et.T=null,m=ht.p,ht.p=2,D=On,On|=4;try{V3(n,s,o)}finally{On=D,ht.p=m,et.T=u}}wr=1,Kg(),Qg(),Xg()}}function Kg(){if(wr===1){wr=0;var n=lu,s=Gc,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=et.T,et.T=null;var u=ht.p;ht.p=2;var m=On;On|=4;try{Rg(s,n);var _=d2,D=yr(n.containerInfo),Q=_.focusedElem,ot=_.selectionRange;if(D!==Q&&Q&&Q.ownerDocument&&ho(Q.ownerDocument.documentElement,Q)){if(ot!==null&&Zi(Q)){var Lt=ot.start,Bt=ot.end;if(Bt===void 0&&(Bt=Lt),"selectionStart"in Q)Q.selectionStart=Lt,Q.selectionEnd=Math.min(Bt,Q.value.length);else{var Gt=Q.ownerDocument||document,Pt=Gt&&Gt.defaultView||window;if(Pt.getSelection){var Ot=Pt.getSelection(),je=Q.textContent.length,Re=Math.min(ot.start,je),zn=ot.end===void 0?Re:Math.min(ot.end,je);!Ot.extend&&Re>zn&&(D=zn,zn=Re,Re=D);var wt=Ca(Q,Re),mt=Ca(Q,zn);if(wt&&mt&&(Ot.rangeCount!==1||Ot.anchorNode!==wt.node||Ot.anchorOffset!==wt.offset||Ot.focusNode!==mt.node||Ot.focusOffset!==mt.offset)){var It=Gt.createRange();It.setStart(wt.node,wt.offset),Ot.removeAllRanges(),Re>zn?(Ot.addRange(It),Ot.extend(mt.node,mt.offset)):(It.setEnd(mt.node,mt.offset),Ot.addRange(It))}}}}for(Gt=[],Ot=Q;Ot=Ot.parentNode;)Ot.nodeType===1&&Gt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Gt.length;Q++){var qt=Gt[Q];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Qd=!!f2,d2=f2=null}finally{On=m,ht.p=u,et.T=o}}n.current=s,wr=2}}function Qg(){if(wr===2){wr=0;var n=lu,s=Gc,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=et.T,et.T=null;var u=ht.p;ht.p=2;var m=On;On|=4;try{Tg(n,s.alternate,s)}finally{On=m,ht.p=u,et.T=o}}wr=3}}function Xg(){if(wr===4||wr===3){wr=0,st();var n=lu,s=Gc,o=Yc,u=kg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wr=5:(wr=0,Gc=lu=null,Wg(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ou=null),ei(o),s=s.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(_e,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=et.T,m=ht.p,ht.p=2,et.T=null;try{for(var _=n.onRecoverableError,D=0;D<u.length;D++){var Q=u[D];_(Q.value,{componentStack:Q.stack})}}finally{et.T=s,ht.p=m}}(Yc&3)!==0&&kd(),Lo(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===J1?af++:(af=0,J1=n):af=0,of(0)}}function Wg(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Yu(s)))}function kd(n){return Kg(),Qg(),Xg(),$g()}function $g(){if(wr!==5)return!1;var n=lu,s=W1;W1=0;var o=ei(Yc),u=et.T,m=ht.p;try{ht.p=32>o?32:o,et.T=null,o=$1,$1=null;var _=lu,D=Yc;if(wr=0,Gc=lu=null,Yc=0,(On&6)!==0)throw Error(r(331));var Q=On;if(On|=4,Og(_.current),Lg(_,_.current,D,o),On=Q,of(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(_e,_)}catch{}return!0}finally{ht.p=m,et.T=u,Wg(n,s)}}function Jg(n,s,o){s=Je(o,s),s=C1(n.stateNode,s,2),n=Ht(n,s,2),n!==null&&(Qi(n,2),Lo(n))}function Gn(n,s,o){if(n.tag===3)Jg(n,n,o);else for(;s!==null;){if(s.tag===3){Jg(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ou===null||!ou.has(u))){n=Je(o,n),o=ng(2),u=Ht(s,o,2),u!==null&&(ig(o,u,s,n),Qi(u,2),Lo(u));break}}s=s.return}}function n2(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new F3;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Y1=!0,m.add(o),n=Y3.bind(null,n,s,o),s.then(n,n))}function Y3(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qn===n&&(mn&o)===o&&(wi===4||wi===3&&(mn&62914560)===mn&&300>Se()-X1?(On&2)===0&&Kc(n,0):K1|=o,Hc===mn&&(Hc=0)),Lo(n)}function Zg(n,s){s===0&&(s=jn()),n=Da(n,s),n!==null&&(Qi(n,s),Lo(n))}function K3(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Zg(n,o)}function Q3(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Zg(n,o)}function X3(n,s){return te(n,s)}var jd=null,Xc=null,i2=!1,Vd=!1,r2=!1,oc=0;function Lo(n){n!==Xc&&n.next===null&&(Xc===null?jd=Xc=n:Xc=Xc.next=n),Vd=!0,i2||(i2=!0,$3())}function of(n,s){if(!r2&&Vd){r2=!0;do for(var o=!1,u=jd;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var _=0;else{var D=u.suspendedLanes,Q=u.pingedLanes;_=(1<<31-fe(42|n)+1)-1,_&=m&~(D&~Q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,i5(u,_))}else _=mn,_=xn(u,u===Qn?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||ir(u,_)||(o=!0,i5(u,_));u=u.next}while(o);r2=!1}}function W3(){t5()}function t5(){Vd=i2=!1;var n=0;oc!==0&&(s4()&&(n=oc),oc=0);for(var s=Se(),o=null,u=jd;u!==null;){var m=u.next,_=e5(u,s);_===0?(u.next=null,o===null?jd=m:o.next=m,m===null&&(Xc=o)):(o=u,(n!==0||(_&3)!==0)&&(Vd=!0)),u=m}of(n)}function e5(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var D=31-fe(_),Q=1<<D,ot=m[D];ot===-1?((Q&o)===0||(Q&u)!==0)&&(m[D]=an(Q,s)):ot<=s&&(n.expiredLanes|=Q),_&=~Q}if(s=Qn,o=mn,o=xn(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Mn===2||Mn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&we(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ir(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&we(u),ei(o)){case 2:case 8:o=Zt;break;case 32:o=se;break;case 268435456:o=ye;break;default:o=se}return u=n5.bind(null,n),o=te(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&we(u),n.callbackPriority=2,n.callbackNode=null,2}function n5(n,s){if(wr!==0&&wr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(kd()&&n.callbackNode!==o)return null;var u=mn;return u=xn(n,n===Qn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Vg(n,u,s),e5(n,Se()),n.callbackNode!=null&&n.callbackNode===o?n5.bind(null,n):null)}function i5(n,s){if(kd())return null;Vg(n,s,!0)}function $3(){o4(function(){(On&6)!==0?te($t,W3):t5()})}function s2(){return oc===0&&(oc=Ts()),oc}function r5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ds(""+n)}function s5(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function J3(n,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var _=r5((m[In]||null).action),D=u.submitter;D&&(s=(s=D[In]||null)?r5(s.formAction):D.getAttribute("formAction"),s!==null&&(_=s,D=null));var Q=new ta("action","action",null,u,m);n.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oc!==0){var ot=D?s5(m,D):new FormData(m);pa(o,{pending:!0,data:ot,method:m.method,action:_},null,ot)}}else typeof _=="function"&&(Q.preventDefault(),ot=D?s5(m,D):new FormData(m),pa(o,{pending:!0,data:ot,method:m.method,action:_},_,ot))},currentTarget:m}]})}}for(var a2=0;a2<sl.length;a2++){var o2=sl[a2],Z3=o2.toLowerCase(),t4=o2[0].toUpperCase()+o2.slice(1);ri(Z3,"on"+t4)}ri(zl,"onAnimationEnd"),ri(po,"onAnimationIteration"),ri(mo,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(go,"onTransitionRun"),ri(rl,"onTransitionStart"),ri(Hl,"onTransitionCancel"),ri(yo,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function a5(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],m=u.event;u=u.listeners;t:{var _=void 0;if(s)for(var D=u.length-1;0<=D;D--){var Q=u[D],ot=Q.instance,Lt=Q.currentTarget;if(Q=Q.listener,ot!==_&&m.isPropagationStopped())break t;_=Q,m.currentTarget=Lt;try{_(m)}catch(Bt){Td(Bt)}m.currentTarget=null,_=ot}else for(D=0;D<u.length;D++){if(Q=u[D],ot=Q.instance,Lt=Q.currentTarget,Q=Q.listener,ot!==_&&m.isPropagationStopped())break t;_=Q,m.currentTarget=Lt;try{_(m)}catch(Bt){Td(Bt)}m.currentTarget=null,_=ot}}}}function sn(n,s){var o=s[Xn];o===void 0&&(o=s[Xn]=new Set);var u=n+"__bubble";o.has(u)||(o5(s,n,2,!1),o.add(u))}function l2(n,s,o){var u=0;s&&(u|=4),o5(o,n,u,s)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function u2(n){if(!n[Ud]){n[Ud]=!0,xs.forEach(function(o){o!=="selectionchange"&&(e4.has(o)||l2(o,!1,n),l2(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ud]||(s[Ud]=!0,l2("selectionchange",!1,s))}}function o5(n,s,o,u){switch(L5(s)){case 2:var m=I4;break;case 8:m=R4;break;default:m=S2}o=m.bind(null,s,o,n),m=void 0,!gr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(s,o,{capture:!0,passive:m}):n.addEventListener(s,o,!0):m!==void 0?n.addEventListener(s,o,{passive:m}):n.addEventListener(s,o,!1)}function c2(n,s,o,u,m){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var D=u.tag;if(D===3||D===4){var Q=u.stateNode.containerInfo;if(Q===m)break;if(D===4)for(D=u.return;D!==null;){var ot=D.tag;if((ot===3||ot===4)&&D.stateNode.containerInfo===m)return;D=D.return}for(;Q!==null;){if(D=Ti(Q),D===null)return;if(ot=D.tag,ot===5||ot===6||ot===26||ot===27){u=_=D;continue t}Q=Q.parentNode}}u=u.return}Vl(function(){var Lt=_,Bt=Dn(o),Gt=[];t:{var Pt=La.get(n);if(Pt!==void 0){var Ot=ta,je=n;switch(n){case"keypress":if(Dr(o)===0)break t;case"keydown":case"keyup":Ot=ks;break;case"focusin":je="focus",Ot=na;break;case"focusout":je="blur",Ot=na;break;case"beforeblur":case"afterblur":Ot=na;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=oo;break;case zl:case po:case mo:Ot=ro;break;case yo:Ot=k;break;case"scroll":case"scrollend":Ot=Jo;break;case"wheel":Ot=ct;break;case"copy":case"cut":case"paste":Ot=so;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Ra;break;case"toggle":case"beforetoggle":Ot=jt}var Re=(s&4)!==0,zn=!Re&&(n==="scroll"||n==="scrollend"),wt=Re?Pt!==null?Pt+"Capture":null:Pt;Re=[];for(var mt=Lt,It;mt!==null;){var qt=mt;if(It=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||It===null||wt===null||(qt=sr(mt,wt),qt!=null&&Re.push(uf(mt,qt,It))),zn)break;mt=mt.return}0<Re.length&&(Pt=new Ot(Pt,je,null,o,Bt),Gt.push({event:Pt,listeners:Re}))}}if((s&7)===0){t:{if(Pt=n==="mouseover"||n==="pointerover",Ot=n==="mouseout"||n==="pointerout",Pt&&o!==as&&(je=o.relatedTarget||o.fromElement)&&(Ti(je)||je[Hn]))break t;if((Ot||Pt)&&(Pt=Bt.window===Bt?Bt:(Pt=Bt.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Ot?(je=o.relatedTarget||o.toElement,Ot=Lt,je=je?Ti(je):null,je!==null&&(zn=l(je),Re=je.tag,je!==zn||Re!==5&&Re!==27&&Re!==6)&&(je=null)):(Ot=null,je=Lt),Ot!==je)){if(Re=yi,qt="onMouseLeave",wt="onMouseEnter",mt="mouse",(n==="pointerout"||n==="pointerover")&&(Re=Ra,qt="onPointerLeave",wt="onPointerEnter",mt="pointer"),zn=Ot==null?Pt:xi(Ot),It=je==null?Pt:xi(je),Pt=new Re(qt,mt+"leave",Ot,o,Bt),Pt.target=zn,Pt.relatedTarget=It,qt=null,Ti(Bt)===Lt&&(Re=new Re(wt,mt+"enter",je,o,Bt),Re.target=It,Re.relatedTarget=zn,qt=Re),zn=qt,Ot&&je)e:{for(Re=Ot,wt=je,mt=0,It=Re;It;It=Wc(It))mt++;for(It=0,qt=wt;qt;qt=Wc(qt))It++;for(;0<mt-It;)Re=Wc(Re),mt--;for(;0<It-mt;)wt=Wc(wt),It--;for(;mt--;){if(Re===wt||wt!==null&&Re===wt.alternate)break e;Re=Wc(Re),wt=Wc(wt)}Re=null}else Re=null;Ot!==null&&l5(Gt,Pt,Ot,Re,!1),je!==null&&zn!==null&&l5(Gt,zn,je,Re,!0)}}t:{if(Pt=Lt?xi(Lt):window,Ot=Pt.nodeName&&Pt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Pt.type==="file")var de=Fl;else if(Rn(Pt))if(tl)de=Tc;else{de=Oh;var nn=Or}else Ot=Pt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?Lt&&Wo(Lt.elementType)&&(de=Fl):de=Bu;if(de&&(de=de(n,Lt))){fs(Gt,de,o,Bt);break t}nn&&nn(n,Pt,Lt),n==="focusout"&&Lt&&Pt.type==="number"&&Lt.memoizedProps.value!=null&&$s(Pt,"number",Pt.value)}switch(nn=Lt?xi(Lt):window,n){case"focusin":(Rn(nn)||nn.contentEditable==="true")&&(Mr=nn,js=Lt,oa=null);break;case"focusout":oa=js=Mr=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,ii(Gt,o,Bt);break;case"selectionchange":if(fo)break;case"keydown":case"keyup":ii(Gt,o,Bt)}var Ae;if(ie)t:{switch(n){case"compositionstart":var Pe="onCompositionStart";break t;case"compositionend":Pe="onCompositionEnd";break t;case"compositionupdate":Pe="onCompositionUpdate";break t}Pe=void 0}else Ie?Ct(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(N&&o.locale!=="ko"&&(Ie||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ie&&(Ae=$o()):(Lr=Bt,Zs="value"in Lr?Lr.value:Lr.textContent,Ie=!0)),nn=Bd(Lt,Pe),0<nn.length&&(Pe=new xa(Pe,n,null,o,Bt),Gt.push({event:Pe,listeners:nn}),Ae?Pe.data=Ae:(Ae=Xt(o),Ae!==null&&(Pe.data=Ae)))),(Ae=S?en(n,o):Be(n,o))&&(Pe=Bd(Lt,"onBeforeInput"),0<Pe.length&&(nn=new xa("onBeforeInput","beforeinput",null,o,Bt),Gt.push({event:nn,listeners:Pe}),nn.data=Ae)),J3(Gt,n,Lt,o,Bt)}a5(Gt,s)})}function uf(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Bd(n,s){for(var o=s+"Capture",u=[];n!==null;){var m=n,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=sr(n,o),m!=null&&u.unshift(uf(n,m,_)),m=sr(n,s),m!=null&&u.push(uf(n,m,_))),n.tag===3)return u;n=n.return}return[]}function Wc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function l5(n,s,o,u,m){for(var _=s._reactName,D=[];o!==null&&o!==u;){var Q=o,ot=Q.alternate,Lt=Q.stateNode;if(Q=Q.tag,ot!==null&&ot===u)break;Q!==5&&Q!==26&&Q!==27||Lt===null||(ot=Lt,m?(Lt=sr(o,_),Lt!=null&&D.unshift(uf(o,Lt,ot))):m||(Lt=sr(o,_),Lt!=null&&D.push(uf(o,Lt,ot)))),o=o.return}D.length!==0&&n.push({event:s,listeners:D})}var n4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function u5(n){return(typeof n=="string"?n:""+n).replace(n4,`
`).replace(i4,"")}function c5(n,s){return s=u5(s),u5(n)===s}function Fd(){}function qn(n,s,o,u,m,_){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Rr(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Rr(n,""+u);break;case"className":Zr(n,"class",u);break;case"tabIndex":Zr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(n,o,u);break;case"style":Xo(n,u,_);break;case"data":if(s!=="object"){Zr(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ds(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&qn(n,s,"name",m.name,m,null),qn(n,s,"formEncType",m.formEncType,m,null),qn(n,s,"formMethod",m.formMethod,m,null),qn(n,s,"formTarget",m.formTarget,m,null)):(qn(n,s,"encType",m.encType,m,null),qn(n,s,"method",m.method,m,null),qn(n,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ds(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Fd);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ds(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":sn("beforetoggle",n),sn("toggle",n),Jr(n,"popover",u);break;case"xlinkActuate":Ni(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ni(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ni(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ni(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ni(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ni(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ni(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ni(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ni(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Jr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ls.get(o)||o,Jr(n,o,u))}}function h2(n,s,o,u,m,_){switch(o){case"style":Xo(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Rr(n,u):(typeof u=="number"||typeof u=="bigint")&&Rr(n,""+u);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Fd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),_=n[In]||null,_=_!=null?_[o]:null,typeof _=="function"&&n.removeEventListener(s,_,m),typeof u=="function")){typeof _!="function"&&_!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,m);break t}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Jr(n,o,u)}}}function Ar(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",n),sn("load",n);var u=!1,m=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var D=o[_];if(D!=null)switch(_){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qn(n,s,_,D,o,null)}}m&&qn(n,s,"srcSet",o.srcSet,o,null),u&&qn(n,s,"src",o.src,o,null);return;case"input":sn("invalid",n);var Q=_=D=m=null,ot=null,Lt=null;for(u in o)if(o.hasOwnProperty(u)){var Bt=o[u];if(Bt!=null)switch(u){case"name":m=Bt;break;case"type":D=Bt;break;case"checked":ot=Bt;break;case"defaultChecked":Lt=Bt;break;case"value":_=Bt;break;case"defaultValue":Q=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,s));break;default:qn(n,s,u,Bt,o,null)}}Ws(n,_,Q,ot,Lt,D,m,!1),Xs(n);return;case"select":sn("invalid",n),u=D=_=null;for(m in o)if(o.hasOwnProperty(m)&&(Q=o[m],Q!=null))switch(m){case"value":_=Q;break;case"defaultValue":D=Q;break;case"multiple":u=Q;default:qn(n,s,m,Q,o,null)}s=_,o=D,n.multiple=!!u,s!=null?ss(n,!!u,s,!1):o!=null&&ss(n,!!u,o,!0);return;case"textarea":sn("invalid",n),_=m=u=null;for(D in o)if(o.hasOwnProperty(D)&&(Q=o[D],Q!=null))switch(D){case"value":u=Q;break;case"defaultValue":m=Q;break;case"children":_=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:qn(n,s,D,Q,o,null)}Js(n,u,m,_),Xs(n);return;case"option":for(ot in o)if(o.hasOwnProperty(ot)&&(u=o[ot],u!=null))switch(ot){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qn(n,s,ot,u,o,null)}return;case"dialog":sn("beforetoggle",n),sn("toggle",n),sn("cancel",n),sn("close",n);break;case"iframe":case"object":sn("load",n);break;case"video":case"audio":for(u=0;u<lf.length;u++)sn(lf[u],n);break;case"image":sn("error",n),sn("load",n);break;case"details":sn("toggle",n);break;case"embed":case"source":case"link":sn("error",n),sn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Lt in o)if(o.hasOwnProperty(Lt)&&(u=o[Lt],u!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qn(n,s,Lt,u,o,null)}return;default:if(Wo(s)){for(Bt in o)o.hasOwnProperty(Bt)&&(u=o[Bt],u!==void 0&&h2(n,s,Bt,u,o,void 0));return}}for(Q in o)o.hasOwnProperty(Q)&&(u=o[Q],u!=null&&qn(n,s,Q,u,o,null))}function r4(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,D=null,Q=null,ot=null,Lt=null,Bt=null;for(Ot in o){var Gt=o[Ot];if(o.hasOwnProperty(Ot)&&Gt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ot=Gt;default:u.hasOwnProperty(Ot)||qn(n,s,Ot,null,u,Gt)}}for(var Pt in u){var Ot=u[Pt];if(Gt=o[Pt],u.hasOwnProperty(Pt)&&(Ot!=null||Gt!=null))switch(Pt){case"type":_=Ot;break;case"name":m=Ot;break;case"checked":Lt=Ot;break;case"defaultChecked":Bt=Ot;break;case"value":D=Ot;break;case"defaultValue":Q=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,s));break;default:Ot!==Gt&&qn(n,s,Pt,Ot,u,Gt)}}$i(n,D,Q,ot,Lt,Bt,_,m);return;case"select":Ot=D=Q=Pt=null;for(_ in o)if(ot=o[_],o.hasOwnProperty(_)&&ot!=null)switch(_){case"value":break;case"multiple":Ot=ot;default:u.hasOwnProperty(_)||qn(n,s,_,null,u,ot)}for(m in u)if(_=u[m],ot=o[m],u.hasOwnProperty(m)&&(_!=null||ot!=null))switch(m){case"value":Pt=_;break;case"defaultValue":Q=_;break;case"multiple":D=_;default:_!==ot&&qn(n,s,m,_,u,ot)}s=Q,o=D,u=Ot,Pt!=null?ss(n,!!o,Pt,!1):!!u!=!!o&&(s!=null?ss(n,!!o,s,!0):ss(n,!!o,o?[]:"",!1));return;case"textarea":Ot=Pt=null;for(Q in o)if(m=o[Q],o.hasOwnProperty(Q)&&m!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:qn(n,s,Q,null,u,m)}for(D in u)if(m=u[D],_=o[D],u.hasOwnProperty(D)&&(m!=null||_!=null))switch(D){case"value":Pt=m;break;case"defaultValue":Ot=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==_&&qn(n,s,D,m,u,_)}_n(n,Pt,Ot);return;case"option":for(var je in o)if(Pt=o[je],o.hasOwnProperty(je)&&Pt!=null&&!u.hasOwnProperty(je))switch(je){case"selected":n.selected=!1;break;default:qn(n,s,je,null,u,Pt)}for(ot in u)if(Pt=u[ot],Ot=o[ot],u.hasOwnProperty(ot)&&Pt!==Ot&&(Pt!=null||Ot!=null))switch(ot){case"selected":n.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:qn(n,s,ot,Pt,u,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Pt=o[Re],o.hasOwnProperty(Re)&&Pt!=null&&!u.hasOwnProperty(Re)&&qn(n,s,Re,null,u,Pt);for(Lt in u)if(Pt=u[Lt],Ot=o[Lt],u.hasOwnProperty(Lt)&&Pt!==Ot&&(Pt!=null||Ot!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(r(137,s));break;default:qn(n,s,Lt,Pt,u,Ot)}return;default:if(Wo(s)){for(var zn in o)Pt=o[zn],o.hasOwnProperty(zn)&&Pt!==void 0&&!u.hasOwnProperty(zn)&&h2(n,s,zn,void 0,u,Pt);for(Bt in u)Pt=u[Bt],Ot=o[Bt],!u.hasOwnProperty(Bt)||Pt===Ot||Pt===void 0&&Ot===void 0||h2(n,s,Bt,Pt,u,Ot);return}}for(var wt in o)Pt=o[wt],o.hasOwnProperty(wt)&&Pt!=null&&!u.hasOwnProperty(wt)&&qn(n,s,wt,null,u,Pt);for(Gt in u)Pt=u[Gt],Ot=o[Gt],!u.hasOwnProperty(Gt)||Pt===Ot||Pt==null&&Ot==null||qn(n,s,Gt,Pt,u,Ot)}var f2=null,d2=null;function qd(n){return n.nodeType===9?n:n.ownerDocument}function h5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function p2(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var m2=null;function s4(){var n=window.event;return n&&n.type==="popstate"?n===m2?!1:(m2=n,!0):(m2=null,!1)}var d5=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,p5=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof p5<"u"?function(n){return p5.resolve(null).then(n).catch(l4)}:d5;function l4(n){setTimeout(function(){throw n})}function cu(n){return n==="head"}function m5(n,s){var o=s,u=0,m=0;do{var _=o.nextSibling;if(n.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<u&&8>u){o=u;var D=n.ownerDocument;if(o&1&&cf(D.documentElement),o&2&&cf(D.body),o&4)for(o=D.head,cf(o),D=o.firstChild;D;){var Q=D.nextSibling,ot=D.nodeName;D[mr]||ot==="SCRIPT"||ot==="STYLE"||ot==="LINK"&&D.rel.toLowerCase()==="stylesheet"||o.removeChild(D),D=Q}}if(m===0){n.removeChild(_),vf(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=_}while(o);vf(s)}function g2(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":g2(o),Ui(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function u4(n,s,o,u){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[mr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=Ga(n.nextSibling),n===null)break}return null}function c4(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ga(n.nextSibling),n===null))return null;return n}function y2(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function h4(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Ga(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var v2=null;function g5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function y5(n,s,o){switch(s=qd(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function cf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ui(n)}var ya=new Map,v5=new Set;function zd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Al=ht.d;ht.d={f:f4,r:d4,D:p4,C:m4,L:g4,m:y4,X:_4,S:v4,M:b4};function f4(){var n=Al.f(),s=Od();return n||s}function d4(n){var s=mi(n);s!==null&&s.tag===5&&s.type==="form"?nc(s):Al.r(n)}var $c=typeof document>"u"?null:document;function _5(n,s,o){var u=$c;if(u&&typeof s=="string"&&s){var m=hn(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),v5.has(m)||(v5.add(m),n={rel:n,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Ar(s,"link",n),vn(s),u.head.appendChild(s)))}}function p4(n){Al.D(n),_5("dns-prefetch",n,null)}function m4(n,s){Al.C(n,s),_5("preconnect",n,s)}function g4(n,s,o){Al.L(n,s,o);var u=$c;if(u&&n&&s){var m='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+hn(o.imageSizes)+'"]')):m+='[href="'+hn(n)+'"]';var _=m;switch(s){case"style":_=Jc(n);break;case"script":_=Zc(n)}ya.has(_)||(n=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ya.set(_,n),u.querySelector(m)!==null||s==="style"&&u.querySelector(hf(_))||s==="script"&&u.querySelector(ff(_))||(s=u.createElement("link"),Ar(s,"link",n),vn(s),u.head.appendChild(s)))}}function y4(n,s){Al.m(n,s);var o=$c;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+hn(u)+'"][href="'+hn(n)+'"]',_=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zc(n)}if(!ya.has(_)&&(n=v({rel:"modulepreload",href:n},s),ya.set(_,n),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ff(_)))return}u=o.createElement("link"),Ar(u,"link",n),vn(u),o.head.appendChild(u)}}}function v4(n,s,o){Al.S(n,s,o);var u=$c;if(u&&n){var m=Un(u).hoistableStyles,_=Jc(n);s=s||"default";var D=m.get(_);if(!D){var Q={loading:0,preload:null};if(D=u.querySelector(hf(_)))Q.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ya.get(_))&&_2(n,o);var ot=D=u.createElement("link");vn(ot),Ar(ot,"link",n),ot._p=new Promise(function(Lt,Bt){ot.onload=Lt,ot.onerror=Bt}),ot.addEventListener("load",function(){Q.loading|=1}),ot.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Hd(D,s,u)}D={type:"stylesheet",instance:D,count:1,state:Q},m.set(_,D)}}}function _4(n,s){Al.X(n,s);var o=$c;if(o&&n){var u=Un(o).hoistableScripts,m=Zc(n),_=u.get(m);_||(_=o.querySelector(ff(m)),_||(n=v({src:n,async:!0},s),(s=ya.get(m))&&b2(n,s),_=o.createElement("script"),vn(_),Ar(_,"link",n),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(m,_))}}function b4(n,s){Al.M(n,s);var o=$c;if(o&&n){var u=Un(o).hoistableScripts,m=Zc(n),_=u.get(m);_||(_=o.querySelector(ff(m)),_||(n=v({src:n,async:!0,type:"module"},s),(s=ya.get(m))&&b2(n,s),_=o.createElement("script"),vn(_),Ar(_,"link",n),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(m,_))}}function b5(n,s,o,u){var m=(m=lt.current)?zd(m):null;if(!m)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jc(o.href),o=Un(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Jc(o.href);var _=Un(m).hoistableStyles,D=_.get(n);if(D||(m=m.ownerDocument||m,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,D),(_=m.querySelector(hf(n)))&&!_._p&&(D.instance=_,D.state.loading=5),ya.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ya.set(n,o),_||w4(m,n,o,D.state))),s&&u===null)throw Error(r(528,""));return D}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zc(o),o=Un(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Jc(n){return'href="'+hn(n)+'"'}function hf(n){return'link[rel="stylesheet"]['+n+"]"}function w5(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function w4(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ar(s,"link",o),vn(s),n.head.appendChild(s))}function Zc(n){return'[src="'+hn(n)+'"]'}function ff(n){return"script[async]"+n}function A5(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+hn(o.href)+'"]');if(u)return s.instance=u,vn(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vn(u),Ar(u,"style",m),Hd(u,o.precedence,n),s.instance=u;case"stylesheet":m=Jc(o.href);var _=n.querySelector(hf(m));if(_)return s.state.loading|=4,s.instance=_,vn(_),_;u=w5(o),(m=ya.get(m))&&_2(u,m),_=(n.ownerDocument||n).createElement("link"),vn(_);var D=_;return D._p=new Promise(function(Q,ot){D.onload=Q,D.onerror=ot}),Ar(_,"link",u),s.state.loading|=4,Hd(_,o.precedence,n),s.instance=_;case"script":return _=Zc(o.src),(m=n.querySelector(ff(_)))?(s.instance=m,vn(m),m):(u=o,(m=ya.get(_))&&(u=v({},o),b2(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),vn(m),Ar(m,"link",u),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Hd(u,o.precedence,n));return s.instance}function Hd(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,_=m,D=0;D<u.length;D++){var Q=u[D];if(Q.dataset.precedence===s)_=Q;else if(_!==m)break}_?_.parentNode.insertBefore(n,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function _2(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function b2(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Gd=null;function S5(n,s,o){if(Gd===null){var u=new Map,m=Gd=new Map;m.set(o,u)}else m=Gd,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var _=o[m];if(!(_[mr]||_[Nn]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(s)||"";D=n+D;var Q=u.get(D);Q?Q.push(_):u.set(D,[_])}}return u}function E5(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function A4(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var df=null;function S4(){}function E4(n,s,o){if(df===null)throw Error(r(475));var u=df;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Jc(o.href),_=n.querySelector(hf(m));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Yd.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=_,vn(_);return}_=n.ownerDocument||n,o=w5(o),(m=ya.get(m))&&_2(o,m),_=_.createElement("link"),vn(_);var D=_;D._p=new Promise(function(Q,ot){D.onload=Q,D.onerror=ot}),Ar(_,"link",o),s.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Yd.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function T4(){if(df===null)throw Error(r(475));var n=df;return n.stylesheets&&n.count===0&&w2(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&w2(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Yd(){if(this.count--,this.count===0){if(this.stylesheets)w2(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kd=null;function w2(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kd=new Map,s.forEach(x4,n),Kd=null,Yd.call(n))}function x4(n,s){if(!(s.state.loading&4)){var o=Kd.get(n);if(o)var u=o.get(null);else{o=new Map,Kd.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var D=m[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(o.set(D.dataset.precedence,D),u=D)}u&&o.set(null,u)}m=s.instance,D=m.getAttribute("data-precedence"),_=o.get(D)||u,_===u&&o.set(null,m),o.set(D,m),this.count++,u=Yd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),_?_.parentNode.insertBefore(m,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var pf={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function N4(n,s,o,u,m,_,D,Q){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function x5(n,s,o,u,m,_,D,Q,ot,Lt,Bt,Gt){return n=new N4(n,s,o,D,Q,ot,Lt,Gt),s=1,_===!0&&(s|=24),_=ur(3,null,null,s),n.current=_,_.stateNode=n,s=kh(),s.refCount++,n.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:o,cache:s},dt(_),n}function N5(n){return n?(n=qi,n):qi}function I5(n,s,o,u,m,_){m=N5(m),u.context===null?u.context=m:u.pendingContext=m,u=Ut(s),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Ht(n,u,s),o!==null&&(Ys(o,n,s),Ft(o,n,s))}function R5(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function A2(n,s){R5(n,s),(n=n.alternate)&&R5(n,s)}function C5(n){if(n.tag===13){var s=Da(n,67108864);s!==null&&Ys(s,n,67108864),A2(n,67108864)}}var Qd=!0;function I4(n,s,o,u){var m=et.T;et.T=null;var _=ht.p;try{ht.p=2,S2(n,s,o,u)}finally{ht.p=_,et.T=m}}function R4(n,s,o,u){var m=et.T;et.T=null;var _=ht.p;try{ht.p=8,S2(n,s,o,u)}finally{ht.p=_,et.T=m}}function S2(n,s,o,u){if(Qd){var m=E2(u);if(m===null)c2(n,s,u,Xd,o),D5(n,u);else if(L4(m,n,s,o,u))u.stopPropagation();else if(D5(n,u),s&4&&-1<C4.indexOf(n)){for(;m!==null;){var _=mi(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=$e(_.pendingLanes);if(D!==0){var Q=_;for(Q.pendingLanes|=2,Q.entangledLanes|=2;D;){var ot=1<<31-fe(D);Q.entanglements[1]|=ot,D&=~ot}Lo(_),(On&6)===0&&(Dd=Se()+500,of(0))}}break;case 13:Q=Da(_,2),Q!==null&&Ys(Q,_,2),Od(),A2(_,2)}if(_=E2(u),_===null&&c2(n,s,u,Xd,o),_===m)break;m=_}m!==null&&u.stopPropagation()}else c2(n,s,u,null,o)}}function E2(n){return n=Dn(n),T2(n)}var Xd=null;function T2(n){if(Xd=null,n=Ti(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Xd=n,null}function L5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case $t:return 2;case Zt:return 8;case se:case ae:return 32;case ye:return 268435456;default:return 32}default:return 32}}var x2=!1,hu=null,fu=null,du=null,mf=new Map,gf=new Map,pu=[],C4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D5(n,s){switch(n){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":du=null;break;case"pointerover":case"pointerout":mf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(s.pointerId)}}function yf(n,s,o,u,m,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:_,targetContainers:[m]},s!==null&&(s=mi(s),s!==null&&C5(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function L4(n,s,o,u,m){switch(s){case"focusin":return hu=yf(hu,n,s,o,u,m),!0;case"dragenter":return fu=yf(fu,n,s,o,u,m),!0;case"mouseover":return du=yf(du,n,s,o,u,m),!0;case"pointerover":var _=m.pointerId;return mf.set(_,yf(mf.get(_)||null,n,s,o,u,m)),!0;case"gotpointercapture":return _=m.pointerId,gf.set(_,yf(gf.get(_)||null,n,s,o,u,m)),!0}return!1}function P5(n){var s=Ti(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,$r(n.priority,function(){if(o.tag===13){var u=Gs();u=Nr(u);var m=Da(o,u);m!==null&&Ys(m,o,u),A2(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=E2(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);as=u,o.target.dispatchEvent(u),as=null}else return s=mi(o),s!==null&&C5(s),n.blockedOn=o,!1;s.shift()}return!0}function O5(n,s,o){Wd(n)&&o.delete(s)}function D4(){x2=!1,hu!==null&&Wd(hu)&&(hu=null),fu!==null&&Wd(fu)&&(fu=null),du!==null&&Wd(du)&&(du=null),mf.forEach(O5),gf.forEach(O5)}function $d(n,s){n.blockedOn===s&&(n.blockedOn=null,x2||(x2=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,D4)))}var Jd=null;function M5(n){Jd!==n&&(Jd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jd===n&&(Jd=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],m=n[s+2];if(typeof u!="function"){if(T2(u||o)===null)continue;break}var _=mi(o);_!==null&&(n.splice(s,3),s-=3,pa(_,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function vf(n){function s(ot){return $d(ot,n)}hu!==null&&$d(hu,n),fu!==null&&$d(fu,n),du!==null&&$d(du,n),mf.forEach(s),gf.forEach(s);for(var o=0;o<pu.length;o++){var u=pu[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<pu.length&&(o=pu[0],o.blockedOn===null);)P5(o),o.blockedOn===null&&pu.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],_=o[u+1],D=m[In]||null;if(typeof _=="function")D||M5(o);else if(D){var Q=null;if(_&&_.hasAttribute("formAction")){if(m=_,D=_[In]||null)Q=D.formAction;else if(T2(m)!==null)continue}else Q=D.action;typeof Q=="function"?o[u+1]=Q:(o.splice(u,3),u-=3),M5(o)}}}function N2(n){this._internalRoot=n}Zd.prototype.render=N2.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Gs();I5(o,u,n,s,null,null)},Zd.prototype.unmount=N2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;I5(n.current,2,null,n,null,null),Od(),s[Hn]=null}};function Zd(n){this._internalRoot=n}Zd.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xi();n={blockedOn:null,target:n,priority:s};for(var o=0;o<pu.length&&s!==0&&s<pu[o].priority;o++);pu.splice(o,0,n),o===0&&P5(n)}};var k5=t.version;if(k5!=="19.1.1")throw Error(r(527,k5,"19.1.1"));ht.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var P4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{_e=tp.inject(P4),ge=tp}catch{}}return bf.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",m=Jm,_=Zm,D=tg,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Q=s.unstable_transitionCallbacks)),s=x5(n,1,!1,null,null,o,u,m,_,D,Q,null),n[Hn]=s.current,u2(n),new N2(s)},bf.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,m="",_=Jm,D=Zm,Q=tg,ot=null,Lt=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(D=o.onCaughtError),o.onRecoverableError!==void 0&&(Q=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(ot=o.unstable_transitionCallbacks),o.formState!==void 0&&(Lt=o.formState)),s=x5(n,1,!0,s,o??null,u,m,_,D,Q,ot,Lt),s.context=N5(null),o=s.current,u=Gs(),u=Nr(u),m=Ut(u),m.callback=null,Ht(o,m,u),o=u,s.current.lanes=o,Qi(s,o),Lo(s),n[Hn]=s.current,u2(n),new Zd(s)},bf.version="19.1.1",bf}var Y5;function z4(){if(Y5)return C2.exports;Y5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),C2.exports=q4(),C2.exports}var H4=z4();const G4=()=>{};var K5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Y4=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const a=i[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[e++],c=i[e++],f=i[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[e++],c=i[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,f=c?i[a+1]:0,p=a+2<i.length,y=p?i[a+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,A=y&63;p||(A=64,c||(T=64)),r.push(e[v],e[E],e[T],e[A])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(qv(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Y4(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=e[i.charAt(a++)],f=a<i.length?e[i.charAt(a)]:0;++a;const y=a<i.length?e[i.charAt(a)]:64;++a;const E=a<i.length?e[i.charAt(a)]:64;if(++a,l==null||f==null||y==null||E==null)throw new K4;const T=l<<2|f>>4;if(r.push(T),y!==64){const A=f<<4&240|y>>2;if(r.push(A),E!==64){const R=y<<6&192|E;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class K4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q4=function(i){const t=qv(i);return zv.encodeByteArray(t,!0)},Np=function(i){return Q4(i).replace(/\./g,"")},Hv=function(i){try{return zv.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=()=>X4().__FIREBASE_DEFAULTS__,$4=()=>{if(typeof process>"u"||typeof K5>"u")return;const i=K5.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},J4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Hv(i[1]);return t&&JSON.parse(t)},Xp=()=>{try{return G4()||W4()||$4()||J4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Gv=i=>Xp()?.emulatorHosts?.[i],Z4=i=>{const t=Gv(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Yv=()=>Xp()?.config,Kv=i=>Xp()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Np(JSON.stringify(e)),Np(JSON.stringify(c)),""].join(".")}const Nf={};function nw(){const i={prod:[],emulator:[]};for(const t of Object.keys(Nf))Nf[t]?i.emulator.push(t):i.prod.push(t);return i}function iw(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let Q5=!1;function Xv(i,t){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||Nf[i]===t||Nf[i]||Q5)return;Nf[i]=t;function e(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=nw().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Q5=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=iw(r),A=e("text"),R=document.getElementById(A)||document.createElement("span"),V=e("learnmore"),H=document.getElementById(V)||document.createElement("a"),j=e("preprendIcon"),X=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const nt=T.element;f(nt),v(H,V);const At=y();p(X,j),nt.append(X,R,H,At),document.body.appendChild(nt)}l?(R.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function sw(){const i=Xp()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ow(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uw(){const i=Wr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="FirebaseError";class Pl extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=dw,Object.setPrototypeOf(this,Pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yf.prototype.create)}}class Yf{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?pw(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Pl(a,f,r)}}function pw(i,t){return i.replace(mw,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const mw=/\{\$([^}]+)}/g;function gw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function yc(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=i[a],c=t[a];if(X5(l)&&X5(c)){if(!yc(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function X5(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yw(i,t){const e=new vw(i,t);return e.subscribe.bind(e)}class vw{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");_w(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=O2),a.error===void 0&&(a.error=O2),a.complete===void 0&&(a.complete=O2);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function O2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(i){return i&&i._delegate?i._delegate:i}class vc{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new tw;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Aw(t))try{this.getOrInitializeService({instanceIdentifier:lc})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=lc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lc){return this.instances.has(t)}getOptions(t=lc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ww(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=lc){return this.component?this.component.multipleInstances?t:lc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(i){return i===lc?void 0:i}function Aw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bw(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ln||(ln={}));const Ew={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},Tw=ln.INFO,xw={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},Nw=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),a=xw[t];if(a)console[a](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class q0{constructor(t){this.name=t,this._logLevel=Tw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ln))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ew[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const Iw=(i,t)=>t.some(e=>i instanceof e);let W5,$5;function Rw(){return W5||(W5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cw(){return $5||($5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,n0=new WeakMap,$v=new WeakMap,M2=new WeakMap,z0=new WeakMap;function Lw(i){const t=new Promise((e,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{e(Tu(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Wv.set(e,i)}).catch(()=>{}),z0.set(t,i),t}function Dw(i){if(n0.has(i))return;const t=new Promise((e,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});n0.set(i,t)}let i0={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return n0.get(i);if(t==="objectStoreNames")return i.objectStoreNames||$v.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tu(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Pw(i){i0=i(i0)}function Ow(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(k2(this),t,...e);return $v.set(r,t.sort?t.sort():[t]),Tu(r)}:Cw().includes(i)?function(...t){return i.apply(k2(this),t),Tu(Wv.get(this))}:function(...t){return Tu(i.apply(k2(this),t))}}function Mw(i){return typeof i=="function"?Ow(i):(i instanceof IDBTransaction&&Dw(i),Iw(i,Rw())?new Proxy(i,i0):i)}function Tu(i){if(i instanceof IDBRequest)return Lw(i);if(M2.has(i))return M2.get(i);const t=Mw(i);return t!==i&&(M2.set(i,t),z0.set(t,i)),t}const k2=i=>z0.get(i);function kw(i,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,t),f=Tu(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Tu(c.result),p.oldVersion,p.newVersion,Tu(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const jw=["get","getKey","getAll","getAllKeys","count"],Vw=["put","add","delete","clear"],j2=new Map;function J5(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(j2.get(t))return j2.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=Vw.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||jw.includes(e)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(f.shift())),(await Promise.all([y[e](...f),a&&p.done]))[0]};return j2.set(t,l),l}Pw(i=>({...i,get:(t,e,r)=>J5(t,e)||i.get(t,e,r),has:(t,e)=>!!J5(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Bw(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Bw(i){return i.getComponent()?.type==="VERSION"}const r0="@firebase/app",Z5="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new q0("@firebase/app"),Fw="@firebase/app-compat",qw="@firebase/analytics-compat",zw="@firebase/analytics",Hw="@firebase/app-check-compat",Gw="@firebase/app-check",Yw="@firebase/auth",Kw="@firebase/auth-compat",Qw="@firebase/database",Xw="@firebase/data-connect",Ww="@firebase/database-compat",$w="@firebase/functions",Jw="@firebase/functions-compat",Zw="@firebase/installations",tA="@firebase/installations-compat",eA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",rA="@firebase/performance-compat",sA="@firebase/remote-config",aA="@firebase/remote-config-compat",oA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="[DEFAULT]",pA={[r0]:"fire-core",[Fw]:"fire-core-compat",[zw]:"fire-analytics",[qw]:"fire-analytics-compat",[Gw]:"fire-app-check",[Hw]:"fire-app-check-compat",[Yw]:"fire-auth",[Kw]:"fire-auth-compat",[Qw]:"fire-rtdb",[Xw]:"fire-data-connect",[Ww]:"fire-rtdb-compat",[$w]:"fire-fn",[Jw]:"fire-fn-compat",[Zw]:"fire-iid",[tA]:"fire-iid-compat",[eA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[rA]:"fire-perf-compat",[sA]:"fire-rc",[aA]:"fire-rc-compat",[oA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Map,mA=new Map,a0=new Map;function ty(i,t){try{i.container.addComponent(t)}catch(e){Il.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function _h(i){const t=i.name;if(a0.has(t))return Il.debug(`There were multiple attempts to register component ${t}.`),!1;a0.set(t,i);for(const e of Ip.values())ty(e,i);for(const e of mA.values())ty(e,i);return!0}function H0(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Xa(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xu=new Yf("app","Firebase",gA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=dA;function Jv(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:s0,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw xu.create("bad-app-name",{appName:String(a)});if(e||(e=Yv()),!e)throw xu.create("no-options");const l=Ip.get(a);if(l){if(yc(e,l.options)&&yc(r,l.config))return l;throw xu.create("duplicate-app",{appName:a})}const c=new Sw(a);for(const p of a0.values())c.addComponent(p);const f=new yA(e,r,c);return Ip.set(a,f),f}function Zv(i=s0){const t=Ip.get(i);if(!t&&i===s0&&Yv())return Jv();if(!t)throw xu.create("no-app",{appName:i});return t}function Nu(i,t,e){let r=pA[i]??i;e&&(r+=`-${e}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Il.warn(c.join(" "));return}_h(new vc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebase-heartbeat-database",_A=1,Mf="firebase-heartbeat-store";let V2=null;function t_(){return V2||(V2=kw(vA,_A,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mf)}catch(e){console.warn(e)}}}}).catch(i=>{throw xu.create("idb-open",{originalErrorMessage:i.message})})),V2}async function bA(i){try{const e=(await t_()).transaction(Mf),r=await e.objectStore(Mf).get(e_(i));return await e.done,r}catch(t){if(t instanceof Pl)Il.warn(t.message);else{const e=xu.create("idb-get",{originalErrorMessage:t?.message});Il.warn(e.message)}}}async function ey(i,t){try{const r=(await t_()).transaction(Mf,"readwrite");await r.objectStore(Mf).put(t,e_(i)),await r.done}catch(e){if(e instanceof Pl)Il.warn(e.message);else{const r=xu.create("idb-set",{originalErrorMessage:e?.message});Il.warn(r.message)}}}function e_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1024,AA=30;class SA{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new TA(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ny();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>AA){const a=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Il.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ny(),{heartbeatsToSend:e,unsentEntries:r}=EA(this._heartbeatsCache.heartbeats),a=Np(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Il.warn(t),""}}}function ny(){return new Date().toISOString().substring(0,10)}function EA(i,t=wA){const e=[];let r=i.slice();for(const a of i){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),iy(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),iy(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class TA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await bA(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ey(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ey(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function iy(i){return Np(JSON.stringify({version:2,heartbeats:i})).length}function xA(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(i){_h(new vc("platform-logger",t=>new Uw(t),"PRIVATE")),_h(new vc("heartbeat",t=>new SA(t),"PRIVATE")),Nu(r0,Z5,i),Nu(r0,Z5,"esm2020"),Nu("fire-js","")}NA("");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iu,n_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(W,L){function z(){}z.prototype=L.prototype,W.D=L.prototype,W.prototype=new z,W.prototype.constructor=W,W.C=function(Z,I,C){for(var O=Array(arguments.length-2),at=2;at<arguments.length;at++)O[at-2]=arguments[at];return L.prototype[I].apply(Z,O)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(W,L,z){z||(z=0);var Z=Array(16);if(typeof L=="string")for(var I=0;16>I;++I)Z[I]=L.charCodeAt(z++)|L.charCodeAt(z++)<<8|L.charCodeAt(z++)<<16|L.charCodeAt(z++)<<24;else for(I=0;16>I;++I)Z[I]=L[z++]|L[z++]<<8|L[z++]<<16|L[z++]<<24;L=W.g[0],z=W.g[1],I=W.g[2];var C=W.g[3],O=L+(C^z&(I^C))+Z[0]+3614090360&4294967295;L=z+(O<<7&4294967295|O>>>25),O=C+(I^L&(z^I))+Z[1]+3905402710&4294967295,C=L+(O<<12&4294967295|O>>>20),O=I+(z^C&(L^z))+Z[2]+606105819&4294967295,I=C+(O<<17&4294967295|O>>>15),O=z+(L^I&(C^L))+Z[3]+3250441966&4294967295,z=I+(O<<22&4294967295|O>>>10),O=L+(C^z&(I^C))+Z[4]+4118548399&4294967295,L=z+(O<<7&4294967295|O>>>25),O=C+(I^L&(z^I))+Z[5]+1200080426&4294967295,C=L+(O<<12&4294967295|O>>>20),O=I+(z^C&(L^z))+Z[6]+2821735955&4294967295,I=C+(O<<17&4294967295|O>>>15),O=z+(L^I&(C^L))+Z[7]+4249261313&4294967295,z=I+(O<<22&4294967295|O>>>10),O=L+(C^z&(I^C))+Z[8]+1770035416&4294967295,L=z+(O<<7&4294967295|O>>>25),O=C+(I^L&(z^I))+Z[9]+2336552879&4294967295,C=L+(O<<12&4294967295|O>>>20),O=I+(z^C&(L^z))+Z[10]+4294925233&4294967295,I=C+(O<<17&4294967295|O>>>15),O=z+(L^I&(C^L))+Z[11]+2304563134&4294967295,z=I+(O<<22&4294967295|O>>>10),O=L+(C^z&(I^C))+Z[12]+1804603682&4294967295,L=z+(O<<7&4294967295|O>>>25),O=C+(I^L&(z^I))+Z[13]+4254626195&4294967295,C=L+(O<<12&4294967295|O>>>20),O=I+(z^C&(L^z))+Z[14]+2792965006&4294967295,I=C+(O<<17&4294967295|O>>>15),O=z+(L^I&(C^L))+Z[15]+1236535329&4294967295,z=I+(O<<22&4294967295|O>>>10),O=L+(I^C&(z^I))+Z[1]+4129170786&4294967295,L=z+(O<<5&4294967295|O>>>27),O=C+(z^I&(L^z))+Z[6]+3225465664&4294967295,C=L+(O<<9&4294967295|O>>>23),O=I+(L^z&(C^L))+Z[11]+643717713&4294967295,I=C+(O<<14&4294967295|O>>>18),O=z+(C^L&(I^C))+Z[0]+3921069994&4294967295,z=I+(O<<20&4294967295|O>>>12),O=L+(I^C&(z^I))+Z[5]+3593408605&4294967295,L=z+(O<<5&4294967295|O>>>27),O=C+(z^I&(L^z))+Z[10]+38016083&4294967295,C=L+(O<<9&4294967295|O>>>23),O=I+(L^z&(C^L))+Z[15]+3634488961&4294967295,I=C+(O<<14&4294967295|O>>>18),O=z+(C^L&(I^C))+Z[4]+3889429448&4294967295,z=I+(O<<20&4294967295|O>>>12),O=L+(I^C&(z^I))+Z[9]+568446438&4294967295,L=z+(O<<5&4294967295|O>>>27),O=C+(z^I&(L^z))+Z[14]+3275163606&4294967295,C=L+(O<<9&4294967295|O>>>23),O=I+(L^z&(C^L))+Z[3]+4107603335&4294967295,I=C+(O<<14&4294967295|O>>>18),O=z+(C^L&(I^C))+Z[8]+1163531501&4294967295,z=I+(O<<20&4294967295|O>>>12),O=L+(I^C&(z^I))+Z[13]+2850285829&4294967295,L=z+(O<<5&4294967295|O>>>27),O=C+(z^I&(L^z))+Z[2]+4243563512&4294967295,C=L+(O<<9&4294967295|O>>>23),O=I+(L^z&(C^L))+Z[7]+1735328473&4294967295,I=C+(O<<14&4294967295|O>>>18),O=z+(C^L&(I^C))+Z[12]+2368359562&4294967295,z=I+(O<<20&4294967295|O>>>12),O=L+(z^I^C)+Z[5]+4294588738&4294967295,L=z+(O<<4&4294967295|O>>>28),O=C+(L^z^I)+Z[8]+2272392833&4294967295,C=L+(O<<11&4294967295|O>>>21),O=I+(C^L^z)+Z[11]+1839030562&4294967295,I=C+(O<<16&4294967295|O>>>16),O=z+(I^C^L)+Z[14]+4259657740&4294967295,z=I+(O<<23&4294967295|O>>>9),O=L+(z^I^C)+Z[1]+2763975236&4294967295,L=z+(O<<4&4294967295|O>>>28),O=C+(L^z^I)+Z[4]+1272893353&4294967295,C=L+(O<<11&4294967295|O>>>21),O=I+(C^L^z)+Z[7]+4139469664&4294967295,I=C+(O<<16&4294967295|O>>>16),O=z+(I^C^L)+Z[10]+3200236656&4294967295,z=I+(O<<23&4294967295|O>>>9),O=L+(z^I^C)+Z[13]+681279174&4294967295,L=z+(O<<4&4294967295|O>>>28),O=C+(L^z^I)+Z[0]+3936430074&4294967295,C=L+(O<<11&4294967295|O>>>21),O=I+(C^L^z)+Z[3]+3572445317&4294967295,I=C+(O<<16&4294967295|O>>>16),O=z+(I^C^L)+Z[6]+76029189&4294967295,z=I+(O<<23&4294967295|O>>>9),O=L+(z^I^C)+Z[9]+3654602809&4294967295,L=z+(O<<4&4294967295|O>>>28),O=C+(L^z^I)+Z[12]+3873151461&4294967295,C=L+(O<<11&4294967295|O>>>21),O=I+(C^L^z)+Z[15]+530742520&4294967295,I=C+(O<<16&4294967295|O>>>16),O=z+(I^C^L)+Z[2]+3299628645&4294967295,z=I+(O<<23&4294967295|O>>>9),O=L+(I^(z|~C))+Z[0]+4096336452&4294967295,L=z+(O<<6&4294967295|O>>>26),O=C+(z^(L|~I))+Z[7]+1126891415&4294967295,C=L+(O<<10&4294967295|O>>>22),O=I+(L^(C|~z))+Z[14]+2878612391&4294967295,I=C+(O<<15&4294967295|O>>>17),O=z+(C^(I|~L))+Z[5]+4237533241&4294967295,z=I+(O<<21&4294967295|O>>>11),O=L+(I^(z|~C))+Z[12]+1700485571&4294967295,L=z+(O<<6&4294967295|O>>>26),O=C+(z^(L|~I))+Z[3]+2399980690&4294967295,C=L+(O<<10&4294967295|O>>>22),O=I+(L^(C|~z))+Z[10]+4293915773&4294967295,I=C+(O<<15&4294967295|O>>>17),O=z+(C^(I|~L))+Z[1]+2240044497&4294967295,z=I+(O<<21&4294967295|O>>>11),O=L+(I^(z|~C))+Z[8]+1873313359&4294967295,L=z+(O<<6&4294967295|O>>>26),O=C+(z^(L|~I))+Z[15]+4264355552&4294967295,C=L+(O<<10&4294967295|O>>>22),O=I+(L^(C|~z))+Z[6]+2734768916&4294967295,I=C+(O<<15&4294967295|O>>>17),O=z+(C^(I|~L))+Z[13]+1309151649&4294967295,z=I+(O<<21&4294967295|O>>>11),O=L+(I^(z|~C))+Z[4]+4149444226&4294967295,L=z+(O<<6&4294967295|O>>>26),O=C+(z^(L|~I))+Z[11]+3174756917&4294967295,C=L+(O<<10&4294967295|O>>>22),O=I+(L^(C|~z))+Z[2]+718787259&4294967295,I=C+(O<<15&4294967295|O>>>17),O=z+(C^(I|~L))+Z[9]+3951481745&4294967295,W.g[0]=W.g[0]+L&4294967295,W.g[1]=W.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,W.g[2]=W.g[2]+I&4294967295,W.g[3]=W.g[3]+C&4294967295}r.prototype.u=function(W,L){L===void 0&&(L=W.length);for(var z=L-this.blockSize,Z=this.B,I=this.h,C=0;C<L;){if(I==0)for(;C<=z;)a(this,W,C),C+=this.blockSize;if(typeof W=="string"){for(;C<L;)if(Z[I++]=W.charCodeAt(C++),I==this.blockSize){a(this,Z),I=0;break}}else for(;C<L;)if(Z[I++]=W[C++],I==this.blockSize){a(this,Z),I=0;break}}this.h=I,this.o+=L},r.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var L=1;L<W.length-8;++L)W[L]=0;var z=8*this.o;for(L=W.length-8;L<W.length;++L)W[L]=z&255,z/=256;for(this.u(W),W=Array(16),L=z=0;4>L;++L)for(var Z=0;32>Z;Z+=8)W[z++]=this.g[L]>>>Z&255;return W};function l(W,L){var z=f;return Object.prototype.hasOwnProperty.call(z,W)?z[W]:z[W]=L(W)}function c(W,L){this.h=L;for(var z=[],Z=!0,I=W.length-1;0<=I;I--){var C=W[I]|0;Z&&C==L||(z[I]=C,Z=!1)}this.g=z}var f={};function p(W){return-128<=W&&128>W?l(W,function(L){return new c([L|0],0>L?-1:0)}):new c([W|0],0>W?-1:0)}function y(W){if(isNaN(W)||!isFinite(W))return E;if(0>W)return H(y(-W));for(var L=[],z=1,Z=0;W>=z;Z++)L[Z]=W/z|0,z*=4294967296;return new c(L,0)}function v(W,L){if(W.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(W.charAt(0)=="-")return H(v(W.substring(1),L));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=y(Math.pow(L,8)),Z=E,I=0;I<W.length;I+=8){var C=Math.min(8,W.length-I),O=parseInt(W.substring(I,I+C),L);8>C?(C=y(Math.pow(L,C)),Z=Z.j(C).add(y(O))):(Z=Z.j(z),Z=Z.add(y(O)))}return Z}var E=p(0),T=p(1),A=p(16777216);i=c.prototype,i.m=function(){if(V(this))return-H(this).m();for(var W=0,L=1,z=0;z<this.g.length;z++){var Z=this.i(z);W+=(0<=Z?Z:4294967296+Z)*L,L*=4294967296}return W},i.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(R(this))return"0";if(V(this))return"-"+H(this).toString(W);for(var L=y(Math.pow(W,6)),z=this,Z="";;){var I=At(z,L).g;z=j(z,I.j(L));var C=((0<z.g.length?z.g[0]:z.h)>>>0).toString(W);if(z=I,R(z))return C+Z;for(;6>C.length;)C="0"+C;Z=C+Z}},i.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function R(W){if(W.h!=0)return!1;for(var L=0;L<W.g.length;L++)if(W.g[L]!=0)return!1;return!0}function V(W){return W.h==-1}i.l=function(W){return W=j(this,W),V(W)?-1:R(W)?0:1};function H(W){for(var L=W.g.length,z=[],Z=0;Z<L;Z++)z[Z]=~W.g[Z];return new c(z,~W.h).add(T)}i.abs=function(){return V(this)?H(this):this},i.add=function(W){for(var L=Math.max(this.g.length,W.g.length),z=[],Z=0,I=0;I<=L;I++){var C=Z+(this.i(I)&65535)+(W.i(I)&65535),O=(C>>>16)+(this.i(I)>>>16)+(W.i(I)>>>16);Z=O>>>16,C&=65535,O&=65535,z[I]=O<<16|C}return new c(z,z[z.length-1]&-2147483648?-1:0)};function j(W,L){return W.add(H(L))}i.j=function(W){if(R(this)||R(W))return E;if(V(this))return V(W)?H(this).j(H(W)):H(H(this).j(W));if(V(W))return H(this.j(H(W)));if(0>this.l(A)&&0>W.l(A))return y(this.m()*W.m());for(var L=this.g.length+W.g.length,z=[],Z=0;Z<2*L;Z++)z[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var I=0;I<W.g.length;I++){var C=this.i(Z)>>>16,O=this.i(Z)&65535,at=W.i(I)>>>16,Tt=W.i(I)&65535;z[2*Z+2*I]+=O*Tt,X(z,2*Z+2*I),z[2*Z+2*I+1]+=C*Tt,X(z,2*Z+2*I+1),z[2*Z+2*I+1]+=O*at,X(z,2*Z+2*I+1),z[2*Z+2*I+2]+=C*at,X(z,2*Z+2*I+2)}for(Z=0;Z<L;Z++)z[Z]=z[2*Z+1]<<16|z[2*Z];for(Z=L;Z<2*L;Z++)z[Z]=0;return new c(z,0)};function X(W,L){for(;(W[L]&65535)!=W[L];)W[L+1]+=W[L]>>>16,W[L]&=65535,L++}function nt(W,L){this.g=W,this.h=L}function At(W,L){if(R(L))throw Error("division by zero");if(R(W))return new nt(E,E);if(V(W))return L=At(H(W),L),new nt(H(L.g),H(L.h));if(V(L))return L=At(W,H(L)),new nt(H(L.g),L.h);if(30<W.g.length){if(V(W)||V(L))throw Error("slowDivide_ only works with positive integers.");for(var z=T,Z=L;0>=Z.l(W);)z=bt(z),Z=bt(Z);var I=kt(z,1),C=kt(Z,1);for(Z=kt(Z,2),z=kt(z,2);!R(Z);){var O=C.add(Z);0>=O.l(W)&&(I=I.add(z),C=O),Z=kt(Z,1),z=kt(z,1)}return L=j(W,I.j(L)),new nt(I,L)}for(I=E;0<=W.l(L);){for(z=Math.max(1,Math.floor(W.m()/L.m())),Z=Math.ceil(Math.log(z)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),C=y(z),O=C.j(L);V(O)||0<O.l(W);)z-=Z,C=y(z),O=C.j(L);R(C)&&(C=T),I=I.add(C),W=j(W,O)}return new nt(I,W)}i.A=function(W){return At(this,W).h},i.and=function(W){for(var L=Math.max(this.g.length,W.g.length),z=[],Z=0;Z<L;Z++)z[Z]=this.i(Z)&W.i(Z);return new c(z,this.h&W.h)},i.or=function(W){for(var L=Math.max(this.g.length,W.g.length),z=[],Z=0;Z<L;Z++)z[Z]=this.i(Z)|W.i(Z);return new c(z,this.h|W.h)},i.xor=function(W){for(var L=Math.max(this.g.length,W.g.length),z=[],Z=0;Z<L;Z++)z[Z]=this.i(Z)^W.i(Z);return new c(z,this.h^W.h)};function bt(W){for(var L=W.g.length+1,z=[],Z=0;Z<L;Z++)z[Z]=W.i(Z)<<1|W.i(Z-1)>>>31;return new c(z,W.h)}function kt(W,L){var z=L>>5;L%=32;for(var Z=W.g.length-z,I=[],C=0;C<Z;C++)I[C]=0<L?W.i(C+z)>>>L|W.i(C+z+1)<<32-L:W.i(C+z);return new c(I,W.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Iu=c}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,Sf,r_,fp,o0,s_,a_,o_;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,S,N){return d==Array.prototype||d==Object.prototype||(d[S]=N.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var S=0;S<d.length;++S){var N=d[S];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=e(this);function a(d,S){if(S)t:{var N=r;d=d.split(".");for(var K=0;K<d.length-1;K++){var yt=d[K];if(!(yt in N))break t;N=N[yt]}d=d[d.length-1],K=N[d],S=S(K),S!=K&&S!=null&&t(N,d,{configurable:!0,writable:!0,value:S})}}function l(d,S){d instanceof String&&(d+="");var N=0,K=!1,yt={next:function(){if(!K&&N<d.length){var Ct=N++;return{value:S(Ct,d[Ct]),done:!1}}return K=!0,{done:!0,value:void 0}}};return yt[Symbol.iterator]=function(){return yt},yt}a("Array.prototype.values",function(d){return d||function(){return l(this,function(S,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(d){var S=typeof d;return S=S!="object"?S:d?Array.isArray(d)?"array":S:"null",S=="array"||S=="object"&&typeof d.length=="number"}function y(d){var S=typeof d;return S=="object"&&d!=null||S=="function"}function v(d,S,N){return d.call.apply(d.bind,arguments)}function E(d,S,N){if(!d)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(yt,K),d.apply(S,yt)}}return function(){return d.apply(S,arguments)}}function T(d,S,N){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function A(d,S){var N=Array.prototype.slice.call(arguments,1);return function(){var K=N.slice();return K.push.apply(K,arguments),d.apply(this,K)}}function R(d,S){function N(){}N.prototype=S.prototype,d.aa=S.prototype,d.prototype=new N,d.prototype.constructor=d,d.Qb=function(K,yt,Ct){for(var Xt=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)Xt[Ie-2]=arguments[Ie];return S.prototype[yt].apply(K,Xt)}}function V(d){const S=d.length;if(0<S){const N=Array(S);for(let K=0;K<S;K++)N[K]=d[K];return N}return[]}function H(d,S){for(let N=1;N<arguments.length;N++){const K=arguments[N];if(p(K)){const yt=d.length||0,Ct=K.length||0;d.length=yt+Ct;for(let Xt=0;Xt<Ct;Xt++)d[yt+Xt]=K[Xt]}else d.push(K)}}class j{constructor(S,N){this.i=S,this.j=N,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function X(d){return/^[\s\xa0]*$/.test(d)}function nt(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function At(d){return At[" "](d),d}At[" "]=function(){};var bt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function kt(d,S,N){for(const K in d)S.call(N,d[K],K,d)}function W(d,S){for(const N in d)S.call(void 0,d[N],N,d)}function L(d){const S={};for(const N in d)S[N]=d[N];return S}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(d,S){let N,K;for(let yt=1;yt<arguments.length;yt++){K=arguments[yt];for(N in K)d[N]=K[N];for(let Ct=0;Ct<z.length;Ct++)N=z[Ct],Object.prototype.hasOwnProperty.call(K,N)&&(d[N]=K[N])}}function I(d){var S=1;d=d.split(":");const N=[];for(;0<S&&d.length;)N.push(d.shift()),S--;return d.length&&N.push(d.join(":")),N}function C(d){f.setTimeout(()=>{throw d},0)}function O(){var d=Nt;let S=null;return d.g&&(S=d.g,d.g=d.g.next,d.g||(d.h=null),S.next=null),S}class at{constructor(){this.h=this.g=null}add(S,N){const K=Tt.get();K.set(S,N),this.h?this.h.next=K:this.g=K,this.h=K}}var Tt=new j(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(S,N){this.h=S,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,Nt=new at,B=()=>{const d=f.Promise.resolve(void 0);ht=()=>{d.then(pt)}};var pt=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(N){C(N)}var S=Tt;S.j(d),100>S.h&&(S.h++,d.next=S.g,S.g=d)}ut=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(d,S){this.type=d,this.g=this.target=S,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,S=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};f.addEventListener("test",N,S),f.removeEventListener("test",N,S)}catch{}return d}();function rt(d,S){if(U.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var N=this.type=d.type,K=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=S,S=d.relatedTarget){if(bt){t:{try{At(S.nodeName);var yt=!0;break t}catch{}yt=!1}yt||(S=null)}}else N=="mouseover"?S=d.fromElement:N=="mouseout"&&(S=d.toElement);this.relatedTarget=S,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:lt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&rt.aa.h.call(this)}}R(rt,U);var lt={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),St=0;function Dt(d,S,N,K,yt){this.listener=d,this.proxy=null,this.src=S,this.type=N,this.capture=!!K,this.ha=yt,this.key=++St,this.da=this.fa=!1}function Jt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Wt(d){this.src=d,this.g={},this.h=0}Wt.prototype.add=function(d,S,N,K,yt){var Ct=d.toString();d=this.g[Ct],d||(d=this.g[Ct]=[],this.h++);var Xt=te(d,S,K,yt);return-1<Xt?(S=d[Xt],N||(S.fa=!1)):(S=new Dt(S,this.src,Ct,!!K,yt),S.fa=N,d.push(S)),S};function ne(d,S){var N=S.type;if(N in d.g){var K=d.g[N],yt=Array.prototype.indexOf.call(K,S,void 0),Ct;(Ct=0<=yt)&&Array.prototype.splice.call(K,yt,1),Ct&&(Jt(S),d.g[N].length==0&&(delete d.g[N],d.h--))}}function te(d,S,N,K){for(var yt=0;yt<d.length;++yt){var Ct=d[yt];if(!Ct.da&&Ct.listener==S&&Ct.capture==!!N&&Ct.ha==K)return yt}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Vt={};function st(d,S,N,K,yt){if(Array.isArray(S)){for(var Ct=0;Ct<S.length;Ct++)st(d,S[Ct],N,K,yt);return null}return N=Ue(N),d&&d[Et]?d.K(S,N,y(K)?!!K.capture:!1,yt):Se(d,S,N,!1,K,yt)}function Se(d,S,N,K,yt,Ct){if(!S)throw Error("Invalid event type");var Xt=y(yt)?!!yt.capture:!!yt,Ie=ye(d);if(Ie||(d[we]=Ie=new Wt(d)),N=Ie.add(S,N,K,Xt,Ct),N.proxy)return N;if(K=he(),N.proxy=K,K.src=d,K.listener=N,d.addEventListener)J||(yt=Xt),yt===void 0&&(yt=!1),d.addEventListener(S.toString(),K,yt);else if(d.attachEvent)d.attachEvent(se(S.toString()),K);else if(d.addListener&&d.removeListener)d.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return N}function he(){function d(N){return S.call(d.src,d.listener,N)}const S=ae;return d}function $t(d,S,N,K,yt){if(Array.isArray(S))for(var Ct=0;Ct<S.length;Ct++)$t(d,S[Ct],N,K,yt);else K=y(K)?!!K.capture:!!K,N=Ue(N),d&&d[Et]?(d=d.i,S=String(S).toString(),S in d.g&&(Ct=d.g[S],N=te(Ct,N,K,yt),-1<N&&(Jt(Ct[N]),Array.prototype.splice.call(Ct,N,1),Ct.length==0&&(delete d.g[S],d.h--)))):d&&(d=ye(d))&&(S=d.g[S.toString()],d=-1,S&&(d=te(S,N,K,yt)),(N=-1<d?S[d]:null)&&Zt(N))}function Zt(d){if(typeof d!="number"&&d&&!d.da){var S=d.src;if(S&&S[Et])ne(S.i,d);else{var N=d.type,K=d.proxy;S.removeEventListener?S.removeEventListener(N,K,d.capture):S.detachEvent?S.detachEvent(se(N),K):S.addListener&&S.removeListener&&S.removeListener(K),(N=ye(S))?(ne(N,d),N.h==0&&(N.src=null,S[we]=null)):Jt(d)}}}function se(d){return d in Vt?Vt[d]:Vt[d]="on"+d}function ae(d,S){if(d.da)d=!0;else{S=new rt(S,this);var N=d.listener,K=d.ha||d.src;d.fa&&Zt(d),d=N.call(K,S)}return d}function ye(d){return d=d[we],d instanceof Wt?d:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(d){return typeof d=="function"?d:(d[De]||(d[De]=function(S){return d.handleEvent(S)}),d[De])}function _e(){P.call(this),this.i=new Wt(this),this.M=this,this.F=null}R(_e,P),_e.prototype[Et]=!0,_e.prototype.removeEventListener=function(d,S,N,K){$t(this,d,S,N,K)};function ge(d,S){var N,K=d.F;if(K)for(N=[];K;K=K.F)N.push(K);if(d=d.M,K=S.type||S,typeof S=="string")S=new U(S,d);else if(S instanceof U)S.target=S.target||d;else{var yt=S;S=new U(K,d),Z(S,yt)}if(yt=!0,N)for(var Ct=N.length-1;0<=Ct;Ct--){var Xt=S.g=N[Ct];yt=Ge(Xt,K,!0,S)&&yt}if(Xt=S.g=d,yt=Ge(Xt,K,!0,S)&&yt,yt=Ge(Xt,K,!1,S)&&yt,N)for(Ct=0;Ct<N.length;Ct++)Xt=S.g=N[Ct],yt=Ge(Xt,K,!1,S)&&yt}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var d=this.i,S;for(S in d.g){for(var N=d.g[S],K=0;K<N.length;K++)Jt(N[K]);delete d.g[S],d.h--}}this.F=null},_e.prototype.K=function(d,S,N,K){return this.i.add(String(d),S,!1,N,K)},_e.prototype.L=function(d,S,N,K){return this.i.add(String(d),S,!0,N,K)};function Ge(d,S,N,K){if(S=d.i.g[String(S)],!S)return!0;S=S.concat();for(var yt=!0,Ct=0;Ct<S.length;++Ct){var Xt=S[Ct];if(Xt&&!Xt.da&&Xt.capture==N){var Ie=Xt.listener,en=Xt.ha||Xt.src;Xt.fa&&ne(d.i,Xt),yt=Ie.call(en,K)!==!1&&yt}}return yt&&!K.defaultPrevented}function fe(d,S,N){if(typeof d=="function")N&&(d=T(d,N));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:f.setTimeout(d,S||0)}function Ye(d){d.g=fe(()=>{d.g=null,d.i&&(d.i=!1,Ye(d))},d.l);const S=d.h;d.h=null,d.m.apply(null,S)}class oe extends P{constructor(S,N){super(),this.m=S,this.l=N,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(d){P.call(this),this.h=d,this.g={}}R(ti,P);var Xe=[];function Ki(d){kt(d.g,function(S,N){this.g.hasOwnProperty(N)&&Zt(S)},d),d.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Ki(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $e=f.JSON.stringify,xn=f.JSON.parse,ir=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function an(){}an.prototype.h=null;function Ts(d){return d.h||(d.h=d.i())}function jn(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){U.call(this,"d")}R(Qi,U);function Vn(){U.call(this,"c")}R(Vn,U);var Ee={},on=null;function Nr(){return on=on||new _e}Ee.La="serverreachability";function ei(d){U.call(this,Ee.La,d)}R(ei,U);function Xi(d){const S=Nr();ge(S,new ei(S))}Ee.STAT_EVENT="statevent";function $r(d,S){U.call(this,Ee.STAT_EVENT,d),this.stat=S}R($r,U);function le(d){const S=Nr();ge(S,new $r(S,d))}Ee.Ma="timingevent";function Nn(d,S){U.call(this,Ee.Ma,d),this.size=S}R(Nn,U);function In(d,S){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},S)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Xn(d,S,N,K,yt,Ct){d.info(function(){if(d.g)if(Ct)for(var Xt="",Ie=Ct.split("&"),en=0;en<Ie.length;en++){var Be=Ie[en].split("=");if(1<Be.length){var bn=Be[0];Be=Be[1];var Rn=bn.split("_");Xt=2<=Rn.length&&Rn[1]=="type"?Xt+(bn+"="+Be+"&"):Xt+(bn+"=redacted&")}}else Xt=null;else Xt=Ct;return"XMLHTTP REQ ("+K+") [attempt "+yt+"]: "+S+`
`+N+`
`+Xt})}function ni(d,S,N,K,yt,Ct,Xt){d.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+yt+"]: "+S+`
`+N+`
`+Ct+" "+Xt})}function pi(d,S,N,K){d.info(function(){return"XMLHTTP TEXT ("+S+"): "+mr(d,N)+(K?" "+K:"")})}function ba(d,S){d.info(function(){return"TIMEOUT: "+S})}Hn.prototype.info=function(){};function mr(d,S){if(!d.g)return S;if(!S)return null;try{var N=JSON.parse(S);if(N){for(d=0;d<N.length;d++)if(Array.isArray(N[d])){var K=N[d];if(!(2>K.length)){var yt=K[1];if(Array.isArray(yt)&&!(1>yt.length)){var Ct=yt[0];if(Ct!="noop"&&Ct!="stop"&&Ct!="close")for(var Xt=1;Xt<yt.length;Xt++)yt[Xt]=""}}}}return $e(N)}catch{return S}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function xi(){}R(xi,an),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},mi=new xi;function Un(d,S,N,K){this.j=d,this.i=S,this.l=N,this.R=K||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vn}function vn(){this.i=null,this.g="",this.h=!1}var xs={},Ns={};function rr(d,S,N){d.L=1,d.v=Js($i(S)),d.m=N,d.P=!0,Ir(d,null)}function Ir(d,S){d.F=Date.now(),Aa(d),d.A=$i(d.v);var N=d.A,K=d.R;Array.isArray(K)||(K=[String(K)]),Ne(N.i,"t",K),d.C=0,N=d.j.J,d.h=new vn,d.g=k(d.j,N?S:null,!d.m),0<d.O&&(d.M=new oe(T(d.Y,d,d.g),d.O)),S=d.U,N=d.g,K=d.ca;var yt="readystatechange";Array.isArray(yt)||(yt&&(Xe[0]=yt.toString()),yt=Xe);for(var Ct=0;Ct<yt.length;Ct++){var Xt=st(N,yt[Ct],K||S.handleEvent,!1,S.h||S);if(!Xt)break;S.g[Xt.key]=Xt}S=d.H?L(d.H):{},d.m?(d.u||(d.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,S)):(d.u="GET",d.g.ea(d.A,d.u,null,S)),Xi(),Xn(d.i,d.u,d.A,d.l,d.R,d.m)}Un.prototype.ca=function(d){d=d.target;const S=this.M;S&&yi(d)==3?S.j():this.Y(d)},Un.prototype.Y=function(d){try{if(d==this.g)t:{const Rn=yi(this.g);var S=this.g.Ba();const fs=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||Rn!=4||S==7||(S==8||0>=fs?Xi(3):Xi(2)),Jr(this);var N=this.g.Z();this.X=N;e:if(wa(this)){var K=Ul(this.g);d="";var yt=K.length,Ct=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),Zr(this);var Xt="";break e}this.h.i=new f.TextDecoder}for(S=0;S<yt;S++)this.h.h=!0,d+=this.h.i.decode(K[S],{stream:!(Ct&&S==yt-1)});K.length=0,this.h.g+=d,this.C=0,Xt=this.h.g}else Xt=this.g.oa();if(this.o=N==200,ni(this.i,this.u,this.A,this.l,this.R,Rn,N),this.o){if(this.T&&!this.K){e:{if(this.g){var Ie,en=this.g;if((Ie=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ie)){var Be=Ie;break e}}Be=null}if(N=Be)pi(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,N);else{this.o=!1,this.s=3,le(12),Ni(this),Zr(this);break t}}if(this.P){N=!0;let li;for(;!this.J&&this.C<Xt.length;)if(li=Yo(this,Xt),li==Ns){Rn==4&&(this.s=4,le(14),N=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(li==xs){this.s=4,le(15),pi(this.i,this.l,Xt,"[Invalid Chunk]"),N=!1;break}else pi(this.i,this.l,li,null),Is(this,li);if(wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||Xt.length!=0||this.h.h||(this.s=1,le(16),N=!1),this.o=this.o&&N,!N)pi(this.i,this.l,Xt,"[Invalid Chunked Response]"),Ni(this),Zr(this);else if(0<Xt.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+Xt.length),ra(bn),bn.M=!0,le(11))}}else pi(this.i,this.l,Xt,null),Is(this,Xt);Rn==4&&Ni(this),this.o&&!this.J&&(Rn==4?sa(this.j,this):(this.o=!1,Aa(this)))}else ea(this.g),N==400&&0<Xt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Ni(this),Zr(this)}}}catch{}finally{}};function wa(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yo(d,S){var N=d.C,K=S.indexOf(`
`,N);return K==-1?Ns:(N=Number(S.substring(N,K)),isNaN(N)?xs:(K+=1,K+N>S.length?Ns:(S=S.slice(K,K+N),d.C=K+N,S)))}Un.prototype.cancel=function(){this.J=!0,Ni(this)};function Aa(d){d.S=Date.now()+d.I,Ol(d,d.I)}function Ol(d,S){if(d.B!=null)throw Error("WatchDog timer not null");d.B=In(T(d.ba,d),S)}function Jr(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Un.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ba(this.i,this.A),this.L!=2&&(Xi(),le(17)),Ni(this),this.s=2,Zr(this)):Ol(this,this.S-d)};function Zr(d){d.j.G==0||d.J||sa(d.j,d)}function Ni(d){Jr(d);var S=d.M;S&&typeof S.ma=="function"&&S.ma(),d.M=null,Ki(d.U),d.g&&(S=d.g,d.g=null,S.abort(),S.ma())}function Is(d,S){try{var N=d.j;if(N.G!=0&&(N.g==d||Ko(N.h,d))){if(!d.K&&Ko(N.h,d)&&N.G==3){try{var K=N.Da.g.parse(S)}catch{K=null}if(Array.isArray(K)&&K.length==3){var yt=K;if(yt[0]==0){t:if(!N.u){if(N.g)if(N.g.F+3e3<d.F)ks(N),ro(N);else break t;Ia(N),le(18)}}else N.za=yt[1],0<N.za-N.T&&37500>yt[2]&&N.F&&N.v==0&&!N.C&&(N.C=In(T(N.Za,N),6e3));if(1>=Rs(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else lr(N,11)}else if((d.K||N.g==d)&&ks(N),!X(S))for(yt=N.Da.g.parse(S),S=0;S<yt.length;S++){let Be=yt[S];if(N.T=Be[0],Be=Be[1],N.G==2)if(Be[0]=="c"){N.K=Be[1],N.ia=Be[2];const bn=Be[3];bn!=null&&(N.la=bn,N.j.info("VER="+N.la));const Rn=Be[4];Rn!=null&&(N.Aa=Rn,N.j.info("SVER="+N.Aa));const fs=Be[5];fs!=null&&typeof fs=="number"&&0<fs&&(K=1.5*fs,N.L=K,N.j.info("backChannelRequestTimeoutMs_="+K)),K=N;const li=d.g;if(li){const Pr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var Ct=K.h;Ct.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(Bn(Ct,Ct.h),Ct.h=null))}if(K.D){const aa=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(K.ya=aa,_n(K.I,K.D,aa))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-d.F,N.j.info("Handshake RTT: "+N.R+"ms")),K=N;var Xt=d;if(K.qa=b(K,K.J?K.ia:null,K.W),Xt.K){Bi(K.h,Xt);var Ie=Xt,en=K.L;en&&(Ie.I=en),Ie.B&&(Jr(Ie),Aa(Ie)),K.g=Xt}else ao(K);0<N.i.length&&so(N)}else Be[0]!="stop"&&Be[0]!="close"||lr(N,7);else N.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?lr(N,7):Ms(N):Be[0]!="noop"&&N.l&&N.l.ta(Be),N.v=0)}}Xi(4)}catch{}}var Ml=class{constructor(d,S){this.g=d,this.map=S}};function rs(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function to(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rs(d){return d.h?1:d.g?d.g.size:0}function Ko(d,S){return d.h?d.h==S:d.g?d.g.has(S):!1}function Bn(d,S){d.g?d.g.add(S):d.h=S}function Bi(d,S){d.h&&d.h==S?d.h=null:d.g&&d.g.has(S)&&d.g.delete(S)}rs.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function eo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let S=d.i;for(const N of d.g.values())S=S.concat(N.D);return S}return V(d.i)}function kl(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var S=[],N=d.length,K=0;K<N;K++)S.push(d[K]);return S}S=[],N=0;for(K in d)S[N++]=d[K];return S}function Xs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var S=[];d=d.length;for(var N=0;N<d;N++)S.push(N);return S}S=[],N=0;for(const K in d)S[N++]=K;return S}}}function Qo(d,S){if(d.forEach&&typeof d.forEach=="function")d.forEach(S,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,S,void 0);else for(var N=Xs(d),K=kl(d),yt=K.length,Ct=0;Ct<yt;Ct++)S.call(void 0,K[Ct],N&&N[Ct],d)}var Wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(d,S){if(d){d=d.split("&");for(var N=0;N<d.length;N++){var K=d[N].indexOf("="),yt=null;if(0<=K){var Ct=d[N].substring(0,K);yt=d[N].substring(K+1)}else Ct=d[N];S(Ct,yt?decodeURIComponent(yt.replace(/\+/g," ")):"")}}}function hn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof hn){this.h=d.h,Ws(this,d.j),this.o=d.o,this.g=d.g,$s(this,d.s),this.l=d.l;var S=d.i,N=new as;N.i=S.i,S.g&&(N.g=new Map(S.g),N.h=S.h),ss(this,N),this.m=d.m}else d&&(S=String(d).match(Wi))?(this.h=!1,Ws(this,S[1]||"",!0),this.o=Rr(S[2]||""),this.g=Rr(S[3]||"",!0),$s(this,S[4]),this.l=Rr(S[5]||"",!0),ss(this,S[6]||"",!0),this.m=Rr(S[7]||"")):(this.h=!1,this.i=new as(null,this.h))}hn.prototype.toString=function(){var d=[],S=this.j;S&&d.push(Cs(S,Xo,!0),":");var N=this.g;return(N||S=="file")&&(d.push("//"),(S=this.o)&&d.push(Cs(S,Xo,!0),"@"),d.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&d.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(Cs(N,N.charAt(0)=="/"?Ls:Wo,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",Cs(N,Ds)),d.join("")};function $i(d){return new hn(d)}function Ws(d,S,N){d.j=N?Rr(S,!0):S,d.j&&(d.j=d.j.replace(/:$/,""))}function $s(d,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);d.s=S}else d.s=null}function ss(d,S,N){S instanceof as?(d.i=S,Vl(d.i,d.h)):(N||(S=Cs(S,io)),d.i=new as(S,d.h))}function _n(d,S,N){d.i.set(S,N)}function Js(d){return _n(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Rr(d,S){return d?S?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Cs(d,S,N){return typeof d=="string"?(d=encodeURI(d).replace(S,jl),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,Ls=/[#\?]/g,io=/[#\?@]/g,Ds=/#/g;function as(d,S){this.h=this.g=null,this.i=d||null,this.j=!!S}function Dn(d){d.g||(d.g=new Map,d.h=0,d.i&&no(d.i,function(S,N){d.add(decodeURIComponent(S.replace(/\+/g," ")),N)}))}i=as.prototype,i.add=function(d,S){Dn(this),this.i=null,d=ls(this,d);var N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(S),this.h+=1,this};function Ps(d,S){Dn(d),S=ls(d,S),d.g.has(S)&&(d.i=null,d.h-=d.g.get(S).length,d.g.delete(S))}function os(d,S){return Dn(d),S=ls(d,S),d.g.has(S)}i.forEach=function(d,S){Dn(this),this.g.forEach(function(N,K){N.forEach(function(yt){d.call(S,yt,K,this)},this)},this)},i.na=function(){Dn(this);const d=Array.from(this.g.values()),S=Array.from(this.g.keys()),N=[];for(let K=0;K<S.length;K++){const yt=d[K];for(let Ct=0;Ct<yt.length;Ct++)N.push(S[K])}return N},i.V=function(d){Dn(this);let S=[];if(typeof d=="string")os(this,d)&&(S=S.concat(this.g.get(ls(this,d))));else{d=Array.from(this.g.values());for(let N=0;N<d.length;N++)S=S.concat(d[N])}return S},i.set=function(d,S){return Dn(this),this.i=null,d=ls(this,d),os(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[S]),this.h+=1,this},i.get=function(d,S){return d?(d=this.V(d),0<d.length?String(d[0]):S):S};function Ne(d,S,N){Ps(d,S),0<N.length&&(d.i=null,d.g.set(ls(d,S),V(N)),d.h+=N.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],S=Array.from(this.g.keys());for(var N=0;N<S.length;N++){var K=S[N];const Ct=encodeURIComponent(String(K)),Xt=this.V(K);for(K=0;K<Xt.length;K++){var yt=Ct;Xt[K]!==""&&(yt+="="+encodeURIComponent(String(Xt[K]))),d.push(yt)}}return this.i=d.join("&")};function ls(d,S){return S=String(S),d.j&&(S=S.toLowerCase()),S}function Vl(d,S){S&&!d.j&&(Dn(d),d.i=null,d.g.forEach(function(N,K){var yt=K.toLowerCase();K!=yt&&(Ps(this,K),Ne(this,yt,N))},d)),d.j=S}function sr(d,S){const N=new Hn;if(f.Image){const K=new Image;K.onload=A(gr,N,"TestLoadImage: loaded",!0,S,K),K.onerror=A(gr,N,"TestLoadImage: error",!1,S,K),K.onabort=A(gr,N,"TestLoadImage: abort",!1,S,K),K.ontimeout=A(gr,N,"TestLoadImage: timeout",!1,S,K),f.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=d}else S(!1)}function Cr(d,S){const N=new Hn,K=new AbortController,yt=setTimeout(()=>{K.abort(),gr(N,"TestPingServer: timeout",!1,S)},1e4);fetch(d,{signal:K.signal}).then(Ct=>{clearTimeout(yt),Ct.ok?gr(N,"TestPingServer: ok",!0,S):gr(N,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(yt),gr(N,"TestPingServer: error",!1,S)})}function gr(d,S,N,K,yt){try{yt&&(yt.onload=null,yt.onerror=null,yt.onabort=null,yt.ontimeout=null),K(N)}catch{}}function us(){this.g=new ir}function Lr(d,S,N){const K=N||"";try{Qo(d,function(yt,Ct){let Xt=yt;y(yt)&&(Xt=$e(yt)),S.push(K+Ct+"="+encodeURIComponent(Xt))})}catch(yt){throw S.push(K+"type="+encodeURIComponent("_badmap")),yt}}function Zs(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Zs,an),Zs.prototype.g=function(){return new Os(this.l,this.j)},Zs.prototype.i=function(d){return function(){return d}}({});function Os(d,S){_e.call(this),this.D=d,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Os,_e),i=Os.prototype,i.open=function(d,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=S,this.readyState=1,ar(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(S.body=d),(this.D||f).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}i.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var S=d.value?d.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!d.done}))&&(this.response=this.responseText+=S)}d.done?Dr(this):ar(this),this.readyState==3&&$o(this)}},i.Ra=function(d){this.g&&(this.response=this.responseText=d,Dr(this))},i.Qa=function(d){this.g&&(this.response=d,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ar(d)}i.setRequestHeader=function(d,S){this.u.append(d,S)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],S=this.h.entries();for(var N=S.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=S.next();return d.join(`\r
`)};function ar(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function cs(d){let S="";return kt(d,function(N,K){S+=K,S+=":",S+=N,S+=`\r
`}),S}function gi(d,S,N){t:{for(K in N){var K=!1;break t}K=!0}K||(N=cs(N),typeof d=="string"?N!=null&&encodeURIComponent(String(N)):_n(d,S,N))}function tn(d){_e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(tn,_e);var ta=/^https?$/i,hs=["POST","PUT"];i=tn.prototype,i.Ha=function(d){this.J=d},i.ea=function(d,S,N,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);S=S?S.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?Ts(this.o):Ts(mi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(S,String(d),!0),this.B=!1}catch(Ct){Jo(this,Ct);return}if(d=N||"",N=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var yt in K)N.set(yt,K[yt]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Ct of K.keys())N.set(Ct,K.get(Ct));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(N.keys()).find(Ct=>Ct.toLowerCase()=="content-type"),yt=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(hs,S,void 0))||K||yt||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,Xt]of N)this.g.setRequestHeader(Ct,Xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{or(this),this.u=!0,this.g.send(d),this.u=!1}catch(Ct){Jo(this,Ct)}};function Jo(d,S){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=S,d.m=5,Sa(d),ts(d)}function Sa(d){d.A||(d.A=!0,ge(d,"complete"),ge(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ge(this,"complete"),ge(this,"abort"),ts(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),tn.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},i.bb=function(){Ea(this)};function Ea(d){if(d.h&&typeof c<"u"&&(!d.v[1]||yi(d)!=4||d.Z()!=2)){if(d.u&&yi(d)==4)fe(d.Ea,0,d);else if(ge(d,"readystatechange"),yi(d)==4){d.h=!1;try{const Xt=d.Z();t:switch(Xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var N;if(!(N=S)){var K;if(K=Xt===0){var yt=String(d.D).match(Wi)[1]||null;!yt&&f.self&&f.self.location&&(yt=f.self.location.protocol.slice(0,-1)),K=!ta.test(yt?yt.toLowerCase():"")}N=K}if(N)ge(d,"complete"),ge(d,"success");else{d.m=6;try{var Ct=2<yi(d)?d.g.statusText:""}catch{Ct=""}d.l=Ct+" ["+d.Z()+"]",Sa(d)}}finally{ts(d)}}}}function ts(d,S){if(d.g){or(d);const N=d.g,K=d.v[0]?()=>{}:null;d.g=null,d.v=null,S||ge(d,"ready");try{N.onreadystatechange=K}catch{}}}function or(d){d.I&&(f.clearTimeout(d.I),d.I=null)}i.isActive=function(){return!!this.g};function yi(d){return d.g?d.g.readyState:0}i.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(d){if(this.g){var S=this.g.responseText;return d&&S.indexOf(d)==0&&(S=S.substring(d.length)),xn(S)}};function Ul(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(d){const S={};d=(d.g&&2<=yi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<d.length;K++){if(X(d[K]))continue;var N=I(d[K]);const yt=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Ct=S[yt]||[];S[yt]=Ct,Ct.push(N)}W(S,function(K){return K.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(d,S,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||S}function na(d){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,d),this.cb=Ji("retryDelaySeedMs",1e4,d),this.Wa=Ji("forwardChannelMaxRetries",2,d),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(d&&d.concurrentRequestLimit),this.Da=new us,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=na.prototype,i.la=8,i.G=1,i.connect=function(d,S,N,K){le(0),this.W=d,this.H=S||{},N&&K!==void 0&&(this.H.OSID=N,this.H.OAID=K),this.F=this.X,this.I=b(this,null,this.W),so(this)};function Ms(d){if(Ta(d),d.G==3){var S=d.U++,N=$i(d.I);if(_n(N,"SID",d.K),_n(N,"RID",S),_n(N,"TYPE","terminate"),ia(d,N),S=new Un(d,d.j,S),S.L=2,S.v=Js($i(N)),N=!1,f.navigator&&f.navigator.sendBeacon)try{N=f.navigator.sendBeacon(S.v.toString(),"")}catch{}!N&&f.Image&&(new Image().src=S.v,N=!0),N||(S.g=k(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Aa(S)}oo(d)}function ro(d){d.g&&(ra(d),d.g.cancel(),d.g=null)}function Ta(d){ro(d),d.u&&(f.clearTimeout(d.u),d.u=null),ks(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function so(d){if(!to(d.h)&&!d.s){d.s=!0;var S=d.Ga;ht||B(),ut||(ht(),ut=!0),Nt.add(S,d),d.B=0}}function Zo(d,S){return Rs(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=S.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=In(T(d.Ga,d,S),Ra(d,d.B)),d.B++,!0)}i.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const yt=new Un(this,this.j,d);let Ct=this.o;if(this.S&&(Ct?(Ct=L(Ct),Z(Ct,this.S)):Ct=this.S),this.m!==null||this.O||(yt.H=Ct,Ct=null),this.P)t:{for(var S=0,N=0;N<this.i.length;N++){e:{var K=this.i[N];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break e}K=void 0}if(K===void 0)break;if(S+=K,4096<S){S=N;break t}if(S===4096||N===this.i.length-1){S=N+1;break t}}S=1e3}else S=1e3;S=Na(this,yt,S),N=$i(this.I),_n(N,"RID",d),_n(N,"CVER",22),this.D&&_n(N,"X-HTTP-Session-Id",this.D),ia(this,N),Ct&&(this.O?S="headers="+encodeURIComponent(String(cs(Ct)))+"&"+S:this.m&&gi(N,this.m,Ct)),Bn(this.h,yt),this.Ua&&_n(N,"TYPE","init"),this.P?(_n(N,"$req",S),_n(N,"SID","null"),yt.T=!0,rr(yt,N,null)):rr(yt,N,S),this.G=2}}else this.G==3&&(d?xa(this,d):this.i.length==0||to(this.h)||xa(this))};function xa(d,S){var N;S?N=S.l:N=d.U++;const K=$i(d.I);_n(K,"SID",d.K),_n(K,"RID",N),_n(K,"AID",d.T),ia(d,K),d.m&&d.o&&gi(K,d.m,d.o),N=new Un(d,d.j,N,d.B+1),d.m===null&&(N.H=d.o),S&&(d.i=S.D.concat(d.i)),S=Na(d,N,1e3),N.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Bn(d.h,N),rr(N,K,S)}function ia(d,S){d.H&&kt(d.H,function(N,K){_n(S,K,N)}),d.l&&Qo({},function(N,K){_n(S,K,N)})}function Na(d,S,N){N=Math.min(d.i.length,N);var K=d.l?T(d.l.Na,d.l,d):null;t:{var yt=d.i;let Ct=-1;for(;;){const Xt=["count="+N];Ct==-1?0<N?(Ct=yt[0].g,Xt.push("ofs="+Ct)):Ct=0:Xt.push("ofs="+Ct);let Ie=!0;for(let en=0;en<N;en++){let Be=yt[en].g;const bn=yt[en].map;if(Be-=Ct,0>Be)Ct=Math.max(0,yt[en].g-100),Ie=!1;else try{Lr(bn,Xt,"req"+Be+"_")}catch{K&&K(bn)}}if(Ie){K=Xt.join("&");break t}}}return d=d.i.splice(0,N),S.D=d,K}function ao(d){if(!d.g&&!d.u){d.Y=1;var S=d.Fa;ht||B(),ut||(ht(),ut=!0),Nt.add(S,d),d.v=0}}function Ia(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=In(T(d.Fa,d),Ra(d,d.v)),d.v++,!0)}i.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=In(T(this.ab,this),d)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ro(this),Bl(this))};function ra(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Bl(d){d.g=new Un(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var S=$i(d.qa);_n(S,"RID","rpc"),_n(S,"SID",d.K),_n(S,"AID",d.T),_n(S,"CI",d.F?"0":"1"),!d.F&&d.ja&&_n(S,"TO",d.ja),_n(S,"TYPE","xmlhttp"),ia(d,S),d.m&&d.o&&gi(S,d.m,d.o),d.L&&(d.g.I=d.L);var N=d.g;d=d.ia,N.L=1,N.v=Js($i(S)),N.m=null,N.P=!0,Ir(N,d)}i.Za=function(){this.C!=null&&(this.C=null,ro(this),Ia(this),le(19))};function ks(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function sa(d,S){var N=null;if(d.g==S){ks(d),ra(d),d.g=null;var K=2}else if(Ko(d.h,S))N=S.D,Bi(d.h,S),K=1;else return;if(d.G!=0){if(S.o)if(K==1){N=S.m?S.m.length:0,S=Date.now()-S.F;var yt=d.B;K=Nr(),ge(K,new Nn(K,N)),so(d)}else ao(d);else if(yt=S.s,yt==3||yt==0&&0<S.X||!(K==1&&Zo(d,S)||K==2&&Ia(d)))switch(N&&0<N.length&&(S=d.h,S.i=S.i.concat(N)),yt){case 1:lr(d,5);break;case 4:lr(d,10);break;case 3:lr(d,6);break;default:lr(d,2)}}}function Ra(d,S){let N=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(N*=2),N*S}function lr(d,S){if(d.j.info("Error code "+S),S==2){var N=T(d.fb,d),K=d.Xa;const yt=!K;K=new hn(K||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ws(K,"https"),Js(K),yt?sr(K.toString(),N):Cr(K.toString(),N)}else le(2);d.G=0,d.l&&d.l.sa(S),oo(d),Ta(d)}i.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function oo(d){if(d.G=0,d.ka=[],d.l){const S=eo(d.h);(S.length!=0||d.i.length!=0)&&(H(d.ka,S),H(d.ka,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.ra()}}function b(d,S,N){var K=N instanceof hn?$i(N):new hn(N);if(K.g!="")S&&(K.g=S+"."+K.g),$s(K,K.s);else{var yt=f.location;K=yt.protocol,S=S?S+"."+yt.hostname:yt.hostname,yt=+yt.port;var Ct=new hn(null);K&&Ws(Ct,K),S&&(Ct.g=S),yt&&$s(Ct,yt),N&&(Ct.l=N),K=Ct}return N=d.D,S=d.ya,N&&S&&_n(K,N,S),_n(K,"VER",d.la),ia(d,K),K}function k(d,S,N){if(S&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=d.Ca&&!d.pa?new tn(new Zs({eb:N})):new tn(d.pa),S.Ha(d.J),S}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function it(){}i=it.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ct(){}ct.prototype.g=function(d,S){return new vt(d,S)};function vt(d,S){_e.call(this),this.g=new na(S),this.l=d,this.h=S&&S.messageUrlParams||null,d=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(d?d["X-WebChannel-Content-Type"]=S.messageContentType:d={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(d?d["X-WebChannel-Client-Profile"]=S.va:d={"X-WebChannel-Client-Profile":S.va}),this.g.S=d,(d=S&&S.Sb)&&!X(d)&&(this.g.m=d),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!X(S)&&(this.g.D=S,d=this.h,d!==null&&S in d&&(d=this.h,S in d&&delete d[S])),this.j=new ie(this)}R(vt,_e),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){Ms(this.g)},vt.prototype.o=function(d){var S=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.u&&(N={},N.__data__=$e(d),d=N);S.i.push(new Ml(S.Ya++,d)),S.G==3&&so(S)},vt.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,vt.aa.N.call(this)};function jt(d){Qi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var S=d.__sm__;if(S){t:{for(const N in S){d=N;break t}d=void 0}(this.i=d)&&(d=this.i,S=S!==null&&d in S?S[d]:void 0),this.data=S}else this.data=d}R(jt,Qi);function Kt(){Vn.call(this),this.status=1}R(Kt,Vn);function ie(d){this.g=d}R(ie,it),ie.prototype.ua=function(){ge(this.g,"a")},ie.prototype.ta=function(d){ge(this.g,new jt(d))},ie.prototype.sa=function(d){ge(this.g,new Kt)},ie.prototype.ra=function(){ge(this.g,"b")},ct.prototype.createWebChannel=ct.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,o_=function(){return new ct},a_=function(){return Nr()},s_=Ee,o0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,fp=Ui,Ti.COMPLETE="complete",r_=Ti,jn.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Sf=jn,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,i_=tn}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const sy="@firebase/firestore",ay="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new q0("@firebase/firestore");function nh(){return _c.logLevel}function ce(i,...t){if(_c.logLevel<=ln.DEBUG){const e=t.map(G0);_c.debug(`Firestore (${Rh}): ${i}`,...e)}}function Rl(i,...t){if(_c.logLevel<=ln.ERROR){const e=t.map(G0);_c.error(`Firestore (${Rh}): ${i}`,...e)}}function bh(i,...t){if(_c.logLevel<=ln.WARN){const e=t.map(G0);_c.warn(`Firestore (${Rh}): ${i}`,...e)}}function G0(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,l_(i,r,e)}function l_(i,t,e){let r=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Rl(r),new Error(r)}function Ln(i,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,i||l_(t,a,r)}function He(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Pl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Gr.UNAUTHENTICATED))}shutdown(){}}class RA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class CA{constructor(t){this.t=t,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ln(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let l=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Nl,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Nl)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ln(typeof r.accessToken=="string",31837,{l:r}),new u_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ln(t===null||typeof t=="string",2055,{h:t}),new Gr(t)}}class LA{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DA{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new LA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xa(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ln(this.o===void 0,3512);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ln(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new oy(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=OA(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function un(i,t){return i<t?-1:i>t?1:0}function l0(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const a=i.charAt(r),l=t.charAt(r);if(a!==l)return U2(a)===U2(l)?un(a,l):U2(a)?1:-1}return un(i.length,t.length)}const MA=55296,kA=57343;function U2(i){const t=i.charCodeAt(0);return t>=MA&&t<=kA}function wh(i,t,e){return i.length===t.length&&i.every((r,a)=>e(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="__name__";class Po{constructor(t,e,r){e===void 0?e=0:e>t.length&&ke(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&ke(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Po.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Po?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=Po.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return un(t.length,e.length)}static compareSegments(t,e){const r=Po.isNumericId(t),a=Po.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Po.extractNumericId(t).compare(Po.extractNumericId(e)):l0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Iu.fromString(t.substring(4,t.length-2))}}class $n extends Po{construct(t,e,r){return new $n(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ve(Qt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new $n(e)}static emptyPath(){return new $n([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Po{construct(t,e,r){return new Er(t,e,r)}static isValidIdentifier(t){return jA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ly}static keyField(){return new Er([ly])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ve(Qt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ve(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ve(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Er(e)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.path=t}static fromPath(t){return new xe($n.fromString(t))}static fromName(t){return new xe($n.fromString(t).popFirst(5))}static empty(){return new xe($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$n.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return $n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xe(new $n(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(i,t,e){if(!e)throw new ve(Qt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function VA(i,t,e,r){if(t===!0&&r===!0)throw new ve(Qt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function uy(i){if(!xe.isDocumentKey(i))throw new ve(Qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cy(i){if(xe.isDocumentKey(i))throw new ve(Qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function h_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function K0(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":ke(12329,{type:typeof i})}function Ss(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ve(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=K0(i);throw new ve(Qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(i,t){const e={typeString:i};return t&&(e.value=t),e}function Qf(i,t){if(!h_(i))throw new ve(Qt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new ve(Qt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(t){return Jn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*fy);return new Jn(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ve(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ve(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<hy)throw new ve(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(t){return this.seconds===t.seconds?un(this.nanoseconds,t.nanoseconds):un(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qf(t,Jn._jsonSchema))return new Jn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jn._jsonSchemaVersion="firestore/timestamp/1.0",Jn._jsonSchema={type:Yi("string",Jn._jsonSchemaVersion),seconds:Yi("number"),nanoseconds:Yi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(t){return new qe(t)}static min(){return new qe(new Jn(0,0))}static max(){return new qe(new Jn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=-1;function UA(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new Jn(e+1,0):new Jn(e,r));return new Cu(a,xe.empty(),t)}function BA(i){return new Cu(i.readTime,i.key,kf)}class Cu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Cu(qe.min(),xe.empty(),kf)}static max(){return new Cu(qe.max(),xe.empty(),kf)}}function FA(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=xe.comparator(i.documentKey,t.documentKey),e!==0?e:un(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){if(i.code!==Qt.FAILED_PRECONDITION||i.message!==qA)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Yt?e:Yt.resolve(e)}catch(e){return Yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.reject(e)}static resolve(t){return new Yt((e,r)=>{e(t)})}static reject(t){return new Yt((e,r)=>{r(t)})}static waitFor(t){return new Yt((e,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&e()},p=>r(p))}),c=!0,l===a&&e()})}static or(t){let e=Yt.resolve(!1);for(const r of t)e=e.next(a=>a?Yt.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}static mapArray(t,e){return new Yt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;e(t[y]).next(v=>{c[y]=v,++f,f===l&&r(c)},v=>a(v))}})}static doWhile(t,e){return new Yt((r,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):r()};l()})}}function HA(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Lh(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-1;function $p(i){return i==null}function Rp(i){return i===0&&1/i==-1/0}function GA(i){return typeof i=="number"&&Number.isInteger(i)&&!Rp(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function YA(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=dy(t)),t=KA(i.get(e),t);return dy(t)}function KA(i,t){let e=t;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":e+="";break;case f_:e+="";break;default:e+=l}}return e}function dy(i){return i+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Vu(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function d_(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,e){this.comparator=t,this.root=e||Sr.EMPTY}insert(t,e){return new di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(t){return new di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new np(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new np(this.root,t,this.comparator,!1)}getReverseIterator(){return new np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new np(this.root,t,this.comparator,!0)}}class np{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sr{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??Sr.RED,this.left=a??Sr.EMPTY,this.right=l??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new Sr(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Sr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ke(27949);return t+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(t,e,r,a,l){return this}insert(t,e,r){return new Sr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.comparator=t,this.data=new di(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(t){return new my(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof nr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new nr(this.comparator);return e.data=t,e}}class my{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.fields=t,t.sort(Er.comparator)}static empty(){return new Ks([])}unionWith(t){let e=new nr(Er.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ks(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wh(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new p_("Invalid base64 string: "+l):l}}(t);return new xr(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new xr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return un(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const QA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(i){if(Ln(!!i,39018),typeof i=="string"){let t=0;const e=QA.exec(i);if(Ln(!!e,46558,{timestamp:i}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oi(i.seconds),nanos:Oi(i.nanos)}}function Oi(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Du(i){return typeof i=="string"?xr.fromBase64String(i):xr.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="server_timestamp",g_="__type__",y_="__previous_value__",v_="__local_write_time__";function X0(i){return(i?.mapValue?.fields||{})[g_]?.stringValue===m_}function Jp(i){const t=i.mapValue.fields[y_];return X0(t)?Jp(t):t}function jf(i){const t=Lu(i.mapValue.fields[v_].timestampValue);return new Jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,e,r,a,l,c,f,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Cp="(default)";class Vf{constructor(t,e){this.projectId=t,this.database=e||Cp}static empty(){return new Vf("","")}get isDefaultDatabase(){return this.database===Cp}isEqual(t){return t instanceof Vf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__type__",WA="__max__",ip={mapValue:{}},b_="__vector__",Lp="value";function Pu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?X0(i)?4:JA(i)?9007199254740991:$A(i)?10:11:ke(28295,{value:i})}function qo(i,t){if(i===t)return!0;const e=Pu(i);if(e!==Pu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return jf(i).isEqual(jf(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Lu(a.timestampValue),f=Lu(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(a,l){return Du(a.bytesValue).isEqual(Du(l.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(a,l){return Oi(a.geoPointValue.latitude)===Oi(l.geoPointValue.latitude)&&Oi(a.geoPointValue.longitude)===Oi(l.geoPointValue.longitude)}(i,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Oi(a.integerValue)===Oi(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Oi(a.doubleValue),f=Oi(l.doubleValue);return c===f?Rp(c)===Rp(f):isNaN(c)&&isNaN(f)}return!1}(i,t);case 9:return wh(i.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(py(c)!==py(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!qo(c[p],f[p])))return!1;return!0}(i,t);default:return ke(52216,{left:i})}}function Uf(i,t){return(i.values||[]).find(e=>qo(e,t))!==void 0}function Ah(i,t){if(i===t)return 0;const e=Pu(i),r=Pu(t);if(e!==r)return un(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return un(i.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Oi(l.integerValue||l.doubleValue),p=Oi(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(i,t);case 3:return gy(i.timestampValue,t.timestampValue);case 4:return gy(jf(i),jf(t));case 5:return l0(i.stringValue,t.stringValue);case 6:return function(l,c){const f=Du(l),p=Du(c);return f.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=un(f[y],p[y]);if(v!==0)return v}return un(f.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(l,c){const f=un(Oi(l.latitude),Oi(c.latitude));return f!==0?f:un(Oi(l.longitude),Oi(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return yy(i.arrayValue,t.arrayValue);case 10:return function(l,c){const f=l.fields||{},p=c.fields||{},y=f[Lp]?.arrayValue,v=p[Lp]?.arrayValue,E=un(y?.values?.length||0,v?.values?.length||0);return E!==0?E:yy(y,v)}(i.mapValue,t.mapValue);case 11:return function(l,c){if(l===ip.mapValue&&c===ip.mapValue)return 0;if(l===ip.mapValue)return 1;if(c===ip.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=l0(p[E],v[E]);if(T!==0)return T;const A=Ah(f[p[E]],y[v[E]]);if(A!==0)return A}return un(p.length,v.length)}(i.mapValue,t.mapValue);default:throw ke(23264,{he:e})}}function gy(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return un(i,t);const e=Lu(i),r=Lu(t),a=un(e.seconds,r.seconds);return a!==0?a:un(e.nanos,r.nanos)}function yy(i,t){const e=i.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=Ah(e[a],r[a]);if(l)return l}return un(e.length,r.length)}function Sh(i){return u0(i)}function u0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const r=Lu(e);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return Du(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return xe.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=u0(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${u0(e.fields[c])}`;return a+"}"}(i.mapValue):ke(61005,{value:i})}function dp(i){switch(Pu(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jp(i);return t?16+dp(t):16;case 5:return 2*i.stringValue.length;case 6:return Du(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+dp(l),0)}(i.arrayValue);case 10:case 11:return function(r){let a=0;return Vu(r.fields,(l,c)=>{a+=l.length+dp(c)}),a}(i.mapValue);default:throw ke(13486,{value:i})}}function c0(i){return!!i&&"integerValue"in i}function W0(i){return!!i&&"arrayValue"in i}function vy(i){return!!i&&"nullValue"in i}function _y(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pp(i){return!!i&&"mapValue"in i}function $A(i){return(i?.mapValue?.fields||{})[__]?.stringValue===b_}function If(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Vu(i.mapValue.fields,(e,r)=>t.mapValue.fields[e]=If(r)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=If(i.arrayValue.values[e]);return t}return{...i}}function JA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===WA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t){this.value=t}static empty(){return new As({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!pp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=If(e)}setAll(t){let e=Er.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,r,a),r={},a=[],e=f.popLast()}c?r[f.lastSegment()]=If(c):a.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());pp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];pp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Vu(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new As(If(this.value))}}function w_(i){const t=[];return Vu(i.fields,(e,r)=>{const a=new Er([e]);if(pp(r)){const l=w_(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Ks(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,e,r,a,l,c,f){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new Qr(t,0,qe.min(),qe.min(),qe.min(),As.empty(),0)}static newFoundDocument(t,e,r,a){return new Qr(t,1,e,qe.min(),r,a,0)}static newNoDocument(t,e){return new Qr(t,2,e,qe.min(),qe.min(),As.empty(),0)}static newUnknownDocument(t,e){return new Qr(t,3,e,qe.min(),qe.min(),As.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,e){this.position=t,this.inclusive=e}}function by(i,t,e){let r=0;for(let a=0;a<i.position.length;a++){const l=t[a],c=i.position[a];if(l.field.isKeyField()?r=xe.comparator(xe.fromName(c.referenceValue),e.key):r=Ah(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function wy(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!qo(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,e="asc"){this.field=t,this.dir=e}}function ZA(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{}class er extends A_{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new e6(t,e,r):e==="array-contains"?new r6(t,r):e==="in"?new s6(t,r):e==="not-in"?new a6(t,r):e==="array-contains-any"?new o6(t,r):new er(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new n6(t,r):new i6(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ah(e,this.value)):e!==null&&Pu(this.value)===Pu(e)&&this.matchesComparison(Ah(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zo extends A_{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new zo(t,e)}matches(t){return S_(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S_(i){return i.op==="and"}function E_(i){return t6(i)&&S_(i)}function t6(i){for(const t of i.filters)if(t instanceof zo)return!1;return!0}function h0(i){if(i instanceof er)return i.field.canonicalString()+i.op.toString()+Sh(i.value);if(E_(i))return i.filters.map(t=>h0(t)).join(",");{const t=i.filters.map(e=>h0(e)).join(",");return`${i.op}(${t})`}}function T_(i,t){return i instanceof er?function(r,a){return a instanceof er&&r.op===a.op&&r.field.isEqual(a.field)&&qo(r.value,a.value)}(i,t):i instanceof zo?function(r,a){return a instanceof zo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&T_(c,a.filters[f]),!0):!1}(i,t):void ke(19439)}function x_(i){return i instanceof er?function(e){return`${e.field.canonicalString()} ${e.op} ${Sh(e.value)}`}(i):i instanceof zo?function(e){return e.op.toString()+" {"+e.getFilters().map(x_).join(" ,")+"}"}(i):"Filter"}class e6 extends er{constructor(t,e,r){super(t,e,r),this.key=xe.fromName(r.referenceValue)}matches(t){const e=xe.comparator(t.key,this.key);return this.matchesComparison(e)}}class n6 extends er{constructor(t,e){super(t,"in",e),this.keys=N_("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class i6 extends er{constructor(t,e){super(t,"not-in",e),this.keys=N_("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function N_(i,t){return(t.arrayValue?.values||[]).map(e=>xe.fromName(e.referenceValue))}class r6 extends er{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return W0(e)&&Uf(e.arrayValue,this.value)}}class s6 extends er{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Uf(this.value.arrayValue,e)}}class a6 extends er{constructor(t,e){super(t,"not-in",e)}matches(t){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Uf(this.value.arrayValue,e)}}class o6 extends er{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!W0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(t,e=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Ay(i,t=null,e=[],r=[],a=null,l=null,c=null){return new l6(i,t,e,r,a,l,c)}function $0(i){const t=He(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>h0(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),$p(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Sh(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Sh(r)).join(",")),t.Te=e}return t.Te}function J0(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!ZA(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!T_(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!wy(i.startAt,t.startAt)&&wy(i.endAt,t.endAt)}function f0(i){return xe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,e=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u6(i,t,e,r,a,l,c,f){return new Zp(i,t,e,r,a,l,c,f)}function t1(i){return new Zp(i)}function Sy(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function c6(i){return i.collectionGroup!==null}function Rf(i){const t=He(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nr(Er.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Pp(l,r))}),e.has(Er.keyField().canonicalString())||t.Ie.push(new Pp(Er.keyField(),r))}return t.Ie}function ko(i){const t=He(i);return t.Ee||(t.Ee=h6(t,Rf(i))),t.Ee}function h6(i,t){if(i.limitType==="F")return Ay(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Pp(a.field,l)});const e=i.endAt?new Dp(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Dp(i.startAt.position,i.startAt.inclusive):null;return Ay(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function d0(i,t,e){return new Zp(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function e1(i,t){return J0(ko(i),ko(t))&&i.limitType===t.limitType}function I_(i){return`${$0(ko(i))}|lt:${i.limitType}`}function ih(i){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(a=>x_(a)).join(", ")}]`),$p(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Sh(a)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Sh(a)).join(",")),`Target(${r})`}(ko(i))}; limitType=${i.limitType})`}function n1(i,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):xe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,t)&&function(r,a){for(const l of Rf(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,t)&&function(r,a){return!(r.startAt&&!function(c,f,p){const y=by(c,f,p);return c.inclusive?y<=0:y<0}(r.startAt,Rf(r),a)||r.endAt&&!function(c,f,p){const y=by(c,f,p);return c.inclusive?y>=0:y>0}(r.endAt,Rf(r),a))}(i,t)}function f6(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function R_(i){return(t,e)=>{let r=!1;for(const a of Rf(i)){const l=d6(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function d6(i,t,e){const r=i.field.isKeyField()?xe.comparator(t.key,e.key):function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Ah(p,y):ke(42886)}(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Vu(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return d_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new di(xe.comparator);function Cl(){return p6}const C_=new di(xe.comparator);function Ef(...i){let t=C_;for(const e of i)t=t.insert(e.key,e);return t}function L_(i){let t=C_;return i.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function hc(){return Cf()}function D_(){return Cf()}function Cf(){return new Ac(i=>i.toString(),(i,t)=>i.isEqual(t))}const m6=new di(xe.comparator),g6=new nr(xe.comparator);function cn(...i){let t=g6;for(const e of i)t=t.add(e);return t}const y6=new nr(un);function v6(){return y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(t)?"-0":t}}function P_(i){return{integerValue:""+i}}function O_(i,t){return GA(t)?P_(t):Z0(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this._=void 0}}function _6(i,t,e){return i instanceof Op?function(a,l){const c={fields:{[g_]:{stringValue:m_},[v_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&X0(l)&&(l=Jp(l)),l&&(c.fields[y_]=l),{mapValue:c}}(e,t):i instanceof Bf?k_(i,t):i instanceof Ff?j_(i,t):function(a,l){const c=M_(a,l),f=Ey(c)+Ey(a.Ae);return c0(c)&&c0(a.Ae)?P_(f):Z0(a.serializer,f)}(i,t)}function b6(i,t,e){return i instanceof Bf?k_(i,t):i instanceof Ff?j_(i,t):e}function M_(i,t){return i instanceof qf?function(r){return c0(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Op extends i1{}class Bf extends i1{constructor(t){super(),this.elements=t}}function k_(i,t){const e=V_(t);for(const r of i.elements)e.some(a=>qo(a,r))||e.push(r);return{arrayValue:{values:e}}}class Ff extends i1{constructor(t){super(),this.elements=t}}function j_(i,t){let e=V_(t);for(const r of i.elements)e=e.filter(a=>!qo(a,r));return{arrayValue:{values:e}}}class qf extends i1{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ey(i){return Oi(i.integerValue||i.doubleValue)}function V_(i){return W0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,e){this.field=t,this.transform=e}}function A6(i,t){return i.field.isEqual(t.field)&&function(r,a){return r instanceof Bf&&a instanceof Bf||r instanceof Ff&&a instanceof Ff?wh(r.elements,a.elements,qo):r instanceof qf&&a instanceof qf?qo(r.Ae,a.Ae):r instanceof Op&&a instanceof Op}(i.transform,t.transform)}class S6{constructor(t,e){this.version=t,this.transformResults=e}}class _a{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _a}static exists(t){return new _a(void 0,t)}static updateTime(t){return new _a(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mp(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class r1{}function U_(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new tm(i.key,_a.none()):new Xf(i.key,i.data,_a.none());{const e=i.data,r=As.empty();let a=new nr(Er.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Uu(i.key,r,new Ks(a.toArray()),_a.none())}}function E6(i,t,e){i instanceof Xf?function(a,l,c){const f=a.value.clone(),p=xy(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(i,t,e):i instanceof Uu?function(a,l,c){if(!mp(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=xy(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(B_(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Lf(i,t,e,r){return i instanceof Xf?function(l,c,f,p){if(!mp(l.precondition,c))return f;const y=l.value.clone(),v=Ny(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(i,t,e,r):i instanceof Uu?function(l,c,f,p){if(!mp(l.precondition,c))return f;const y=Ny(l.fieldTransforms,p,c),v=c.data;return v.setAll(B_(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(i,t,e,r):function(l,c,f){return mp(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(i,t,e)}function T6(i,t){let e=null;for(const r of i.fieldTransforms){const a=t.data.field(r.field),l=M_(r.transform,a||null);l!=null&&(e===null&&(e=As.empty()),e.set(r.field,l))}return e||null}function Ty(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&wh(r,a,(l,c)=>A6(l,c))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Xf extends r1{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uu extends r1{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B_(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}}),t}function xy(i,t,e){const r=new Map;Ln(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let a=0;a<e.length;a++){const l=i[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,b6(c,f,e[a]))}return r}function Ny(i,t,e){const r=new Map;for(const a of i){const l=a.transform,c=e.data.field(a.field);r.set(a.field,_6(l,c,t))}return r}class tm extends r1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x6 extends r1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&E6(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Lf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Lf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=D_();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=e.has(a.key)?null:f;const p=U_(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),cn())}isEqual(t){return this.batchId===t.batchId&&wh(this.mutations,t.mutations,(e,r)=>Ty(e,r))&&wh(this.baseMutations,t.baseMutations,(e,r)=>Ty(e,r))}}class em{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){Ln(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=function(){return m6}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new em(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi,gn;function C6(i){switch(i){case Qt.OK:return ke(64938);case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0;default:return ke(15467,{code:i})}}function F_(i){if(i===void 0)return Rl("GRPC error has no .code"),Qt.UNKNOWN;switch(i){case Gi.OK:return Qt.OK;case Gi.CANCELLED:return Qt.CANCELLED;case Gi.UNKNOWN:return Qt.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return Qt.INTERNAL;case Gi.UNAVAILABLE:return Qt.UNAVAILABLE;case Gi.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case Gi.NOT_FOUND:return Qt.NOT_FOUND;case Gi.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case Gi.ABORTED:return Qt.ABORTED;case Gi.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case Gi.DATA_LOSS:return Qt.DATA_LOSS;default:return ke(39323,{code:i})}}(gn=Gi||(Gi={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new Iu([4294967295,4294967295],0);function Iy(i){const t=L6().encode(i),e=new n_;return e.update(t),new Uint8Array(e.digest())}function Ry(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Iu([e,r],0),new Iu([a,l],0)]}class nm{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Tf(`Invalid padding: ${e}`);if(r<0)throw new Tf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Tf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Iu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Iu.fromNumber(r)));return a.compare(D6)===1&&(a=new Iu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Iy(t),[r,a]=Ry(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new nm(l,a,e);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.ge===0)return;const e=Iy(t),[r,a]=Ry(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Wf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new s1(qe.min(),a,new di(un),Cl(),cn())}}class Wf{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Wf(r,e,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class q_{constructor(t,e){this.targetId=t,this.Ce=e}}class z_{constructor(t,e,r=xr.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Cy{constructor(){this.ve=0,this.Fe=Ly(),this.Me=xr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=cn(),e=cn(),r=cn();return this.Fe.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:ke(38017,{changeType:l})}}),new Wf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=Ly()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ln(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Cl(),this.Je=rp(),this.He=rp(),this.Ye=new di(un)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:ke(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,a)=>{this.rt(a)&&e(a)})}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(f0(l))if(r===0){const c=new xe(l.path);this.et(e,c,Qr.newNoDocument(c,qe.min()))}else Ln(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const f=this.ut(t),p=f?this.ct(f,t,c):1;if(p!==0){this.it(e);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,y)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,f;try{c=Du(r).toUint8Array()}catch(p){if(p instanceof p_)return bh("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new nm(c,a,l)}catch(p){return bh(p instanceof Tf?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)}),a}Tt(t){const e=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&f0(f.target)){const p=new xe(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Qr.newNoDocument(p,t))}l.Be&&(e.set(c,l.ke()),l.qe())}});let r=cn();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.je.forEach((l,c)=>c.setReadTime(t));const a=new s1(t,e,this.Ye,this.je,r);return this.je=Cl(),this.Je=rp(),this.He=rp(),this.Ye=new di(un),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Cy,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new nr(un),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new nr(un),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ce("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Cy),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rp(){return new di(xe.comparator)}function Ly(){return new di(xe.comparator)}const O6={asc:"ASCENDING",desc:"DESCENDING"},M6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k6={and:"AND",or:"OR"};class j6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function p0(i,t){return i.useProto3Json||$p(t)?t:{value:t}}function Mp(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H_(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function V6(i,t){return Mp(i,t.toTimestamp())}function jo(i){return Ln(!!i,49232),qe.fromTimestamp(function(e){const r=Lu(e);return new Jn(r.seconds,r.nanos)}(i))}function im(i,t){return m0(i,t).canonicalString()}function m0(i,t){const e=function(a){return new $n(["projects",a.projectId,"databases",a.database])}(i).child("documents");return t===void 0?e:e.child(t)}function G_(i){const t=$n.fromString(i);return Ln(W_(t),10190,{key:t.toString()}),t}function g0(i,t){return im(i.databaseId,t.path)}function B2(i,t){const e=G_(t);if(e.get(1)!==i.databaseId.projectId)throw new ve(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ve(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new xe(K_(e))}function Y_(i,t){return im(i.databaseId,t)}function U6(i){const t=G_(i);return t.length===4?$n.emptyPath():K_(t)}function y0(i){return new $n(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function K_(i){return Ln(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Dy(i,t,e){return{name:g0(i,t),fields:e.value.mapValue.fields}}function B6(i,t){let e;if("targetChange"in t){t.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ke(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(Ln(v===void 0||typeof v=="string",58123),xr.fromBase64String(v||"")):(Ln(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xr.fromUint8Array(v||new Uint8Array))}(i,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(y){const v=y.code===void 0?Qt.UNKNOWN:F_(y.code);return new ve(v,y.message||"")}(c);e=new z_(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=B2(i,r.document.name),l=jo(r.document.updateTime),c=r.document.createTime?jo(r.document.createTime):qe.min(),f=new As({mapValue:{fields:r.document.fields}}),p=Qr.newFoundDocument(a,l,c,f),y=r.targetIds||[],v=r.removedTargetIds||[];e=new gp(y,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=B2(i,r.document),l=r.readTime?jo(r.readTime):qe.min(),c=Qr.newNoDocument(a,l),f=r.removedTargetIds||[];e=new gp([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=B2(i,r.document),l=r.removedTargetIds||[];e=new gp([],l,a,null)}else{if(!("filter"in t))return ke(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new R6(a,l),f=r.targetId;e=new q_(f,c)}}return e}function F6(i,t){let e;if(t instanceof Xf)e={update:Dy(i,t.key,t.value)};else if(t instanceof tm)e={delete:g0(i,t.key)};else if(t instanceof Uu)e={update:Dy(i,t.key,t.data),updateMask:W6(t.fieldMask)};else{if(!(t instanceof x6))return ke(16599,{Vt:t.type});e={verify:g0(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Op)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ff)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:V6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)}(i,t.precondition)),e}function q6(i,t){return i&&i.length>0?(Ln(t!==void 0,14353),i.map(e=>function(a,l){let c=a.updateTime?jo(a.updateTime):jo(l);return c.isEqual(qe.min())&&(c=jo(l)),new S6(c,a.transformResults||[])}(e,t))):[]}function z6(i,t){return{documents:[Y_(i,t.path)]}}function H6(i,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Y_(i,a);const l=function(y){if(y.length!==0)return X_(zo.create(y,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(T){return{field:rh(T.field),direction:K6(T.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=p0(i,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ft:e,parent:a}}function G6(i){let t=U6(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){Ln(r===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=function(E){const T=Q_(E);return T instanceof zo&&E_(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(T=>function(R){return new Pp(sh(R.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(e.orderBy));let f=null;e.limit&&(f=function(E){let T;return T=typeof E=="object"?E.value:E,$p(T)?null:T}(e.limit));let p=null;e.startAt&&(p=function(E){const T=!!E.before,A=E.values||[];return new Dp(A,T)}(e.startAt));let y=null;return e.endAt&&(y=function(E){const T=!E.before,A=E.values||[];return new Dp(A,T)}(e.endAt)),u6(t,a,c,l,f,"F",p,y)}function Y6(i,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Q_(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=sh(e.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=sh(e.unaryFilter.field);return er.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sh(e.unaryFilter.field);return er.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sh(e.unaryFilter.field);return er.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(i):i.fieldFilter!==void 0?function(e){return er.create(sh(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return zo.create(e.compositeFilter.filters.map(r=>Q_(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(e.compositeFilter.op))}(i):ke(30097,{filter:i})}function K6(i){return O6[i]}function Q6(i){return M6[i]}function X6(i){return k6[i]}function rh(i){return{fieldPath:i.canonicalString()}}function sh(i){return Er.fromServerFormat(i.fieldPath)}function X_(i){return i instanceof er?function(e){if(e.op==="=="){if(_y(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NAN"}};if(vy(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_y(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NOT_NAN"}};if(vy(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(e.field),op:Q6(e.op),value:e.value}}}(i):i instanceof zo?function(e){const r=e.getFilters().map(a=>X_(a));return r.length===1?r[0]:{compositeFilter:{op:X6(e.op),filters:r}}}(i):ke(54877,{filter:i})}function W6(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function W_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,e,r,a,l=qe.min(),c=qe.min(),f=xr.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Su(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(t){this.yt=t}}function J6(i){const t=G6({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?d0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.Cn=new tS}addToCollectionParentIndex(t,e){return this.Cn.add(e),Yt.resolve()}getCollectionParents(t,e){return Yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Yt.resolve()}deleteFieldIndex(t,e){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,e){return Yt.resolve()}getDocumentsMatchingTarget(t,e){return Yt.resolve(null)}getIndexType(t,e){return Yt.resolve(0)}getFieldIndexes(t,e){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,e){return Yt.resolve(Cu.min())}getMinOffsetFromCollectionGroup(t,e){return Yt.resolve(Cu.min())}updateCollectionGroup(t,e,r){return Yt.resolve()}updateIndexEntries(t,e){return Yt.resolve()}}class tS{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new nr($n.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new nr($n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class bs{static withCacheSize(t){return new bs(t,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs($_,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Eh(0)}static cr(){return new Eh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LruGarbageCollector",eS=1048576;function My([i,t],[e,r]){const a=un(i,e);return a===0?un(t,r):a}class nS{constructor(t){this.Ir=t,this.buffer=new nr(My),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();My(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class iS{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ce(Oy,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lh(e)?ce(Oy,"Ignoring IndexedDB error during garbage collection: ",e):await Ch(e)}await this.Vr(3e5)})}}class rS{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return Yt.resolve(Wp.ce);const r=new nS(e);return this.mr.forEachTarget(t,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(Py)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Py):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,l,c,f,p,y;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(r=E,f=Date.now(),this.removeTargets(t,r,e))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(y=Date.now(),nh()<=ln.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function sS(i,t){return new rS(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.changes=new Ac(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Qr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Yt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(r!==null&&Lf(r.mutation,a,Ks.empty(),Jn.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,cn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=cn()){const a=hc();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,r).next(l=>{let c=Ef();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=hc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,cn()))}populateOverlays(t,e,r){const a=[];return r.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{e.set(c,f)})})}computeViews(t,e,r,a){let l=Cl();const c=Cf(),f=function(){return Cf()}();return e.forEach((p,y)=>{const v=r.get(y.key);a.has(y.key)&&(v===void 0||v.mutation instanceof Uu)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),Lf(v.mutation,y,v.mutation.getFieldMask(),Jn.now())):c.set(y.key,Ks.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),e.forEach((y,v)=>f.set(y,new oS(v,c.get(y)??null))),f))}recalculateAndSaveOverlays(t,e){const r=Cf();let a=new di((c,f)=>c-f),l=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=e.get(p);if(y===null)return;let v=r.get(p)||Ks.empty();v=f.applyToLocalView(y,v),r.set(p,v);const E=(a.get(f.batchId)||cn()).add(p);a=a.insert(f.batchId,E)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,E=D_();v.forEach(T=>{if(!l.has(T)){const A=U_(e.get(T),r.get(T));A!==null&&E.set(T,A),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,E))}return Yt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,a){return function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):c6(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):Yt.resolve(hc());let f=kf,p=l;return c.next(y=>Yt.forEach(y,(v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?Yt.resolve():this.remoteDocumentCache.getEntry(t,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(t,y,l)).next(()=>this.computeViews(t,p,y,cn())).next(v=>({batchId:f,changes:L_(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xe(e)).next(r=>{let a=Ef();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=Ef();return this.indexManager.getCollectionParents(t,l).next(f=>Yt.forEach(f,p=>{const y=function(E,T){return new Zp(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,y,r,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Qr.newInvalidDocument(v)))});let f=Ef();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&Lf(v.mutation,y,Ks.empty(),Jn.now()),n1(e,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Yt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:jo(a.createTime)}}(e)),Yt.resolve()}getNamedQuery(t,e){return Yt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(a){return{name:a.name,query:J6(a.bundledQuery),readTime:jo(a.readTime)}}(e)),Yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.overlays=new di(xe.comparator),this.qr=new Map}getOverlay(t,e){return Yt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=hc();return Yt.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((a,l)=>{this.St(t,e,l)}),Yt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(r)),Yt.resolve()}getOverlaysForCollection(t,e,r){const a=hc(),l=e.length+1,c=new xe(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return Yt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new di((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>r){let v=l.get(y.largestBatchId);v===null&&(v=hc(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=hc(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=a)););return Yt.resolve(f)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new I6(e,r));let l=this.qr.get(e);l===void 0&&(l=cn(),this.qr.set(e,l)),this.qr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Qr=new nr(dr.$r),this.Ur=new nr(dr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new dr(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new dr(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){const e=new xe(new $n([])),r=new dr(e,t),a=new dr(e,t+1),l=[];return this.Ur.forEachInRange([r,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new xe(new $n([])),r=new dr(e,t),a=new dr(e,t+1);let l=cn();return this.Ur.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new dr(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class dr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return xe.comparator(t.key,e.key)||un(t.Yr,e.Yr)}static Kr(t,e){return un(t.Yr,e.Yr)||xe.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new nr(dr.$r)}checkEmpty(t){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new N6(l,e,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new dr(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Yt.resolve(c)}lookupMutationBatch(t,e){return Yt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),l=a<0?0:a;return Yt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?Q0:this.tr-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new dr(e,0),a=new dr(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],c=>{const f=this.Xr(c.Yr);l.push(f)}),Yt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new nr(un);return e.forEach(a=>{const l=new dr(a,0),c=new dr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{r=r.add(f.Yr)})}),Yt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;xe.isDocumentKey(l)||(l=l.child(""));const c=new dr(new xe(l),0);let f=new nr(un);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===a&&(f=f.add(p.Yr)),!0)},c),Yt.resolve(this.ti(f))}ti(t){const e=[];return t.forEach(r=>{const a=this.Xr(r);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Ln(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Yt.forEach(e.mutations,a=>{const l=new dr(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){const r=new dr(e,0),a=this.Zr.firstAfterOrEqual(r);return Yt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Yt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.ri=t,this.docs=function(){return new di(xe.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Yt.resolve(r?r.document.mutableCopy():Qr.newInvalidDocument(e))}getEntries(t,e){let r=Cl();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Qr.newInvalidDocument(a))}),Yt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=Cl();const c=e.path,f=new xe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||FA(BA(v),r)<=0||(a.has(v.key)||n1(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Yt.resolve(l)}getAllFromCollectionGroup(t,e,r,a){ke(9500)}ii(t,e){return Yt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new pS(this)}getSize(t){return Yt.resolve(this.size)}}class pS extends aS{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)}),Yt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.persistence=t,this.si=new Ac(e=>$0(e),J0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new rm,this.targetCount=0,this.ai=Eh.ur()}forEachTarget(t,e){return this.si.forEach((r,a)=>e(a)),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Yt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Eh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Yt.resolve()}updateTargetData(t,e){return this.Pr(e),Yt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=e&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),Yt.waitFor(l).next(()=>a)}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Yt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Yt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),Yt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Yt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Yt.resolve(r)}containsKey(t,e){return Yt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t,e){this.ui={},this.overlays={},this.ci=new Wp(0),this.li=!1,this.li=!0,this.hi=new hS,this.referenceDelegate=t(this),this.Pi=new mS(this),this.indexManager=new Z6,this.remoteDocumentCache=function(a){return new dS(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new $6(e),this.Ii=new uS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new cS,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new fS(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ce("MemoryPersistence","Starting transaction:",t);const a=new gS(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(t,e){return Yt.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}}class gS extends zA{constructor(t){super(),this.currentSequenceNumber=t}}class sm{constructor(t){this.persistence=t,this.Ri=new rm,this.Vi=null}static mi(t){return new sm(t)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Yt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Yt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Yt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.fi,r=>{const a=xe.fromPath(r);return this.gi(t,a).next(l=>{l||e.removeEntry(a,qe.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Yt.or([()=>Yt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class kp{constructor(t,e){this.persistence=t,this.pi=new Ac(r=>YA(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=sS(this,e)}static mi(t,e){return new kp(t,e)}Ei(){}di(t){return Yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return Yt.forEach(this.pi,(r,a)=>this.br(t,r,a).next(l=>l?Yt.resolve():e(a)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,c=>this.br(t,c,e).next(f=>{f||(r++,l.removeEntry(c,qe.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Yt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=dp(t.data.value)),e}br(t,e,r){return Yt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Yt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=cn(),a=cn();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new am(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cw()?8:HA(Wr())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.ys(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(t,e,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yS;return this.Ss(t,e,c).next(f=>{if(l.result=f,this.Vs)return this.bs(t,e,c,f.size)})}).next(()=>l.result)}bs(t,e,r,a){return r.documentReadCount<this.fs?(nh()<=ln.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ih(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Yt.resolve()):(nh()<=ln.DEBUG&&ce("QueryEngine","Query:",ih(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(nh()<=ln.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ih(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ko(e))):Yt.resolve())}ys(t,e){if(Sy(e))return Yt.resolve(null);let r=ko(e);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=d0(e,null,"F"),r=ko(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=cn(...l);return this.ps.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(p=>{const y=this.Ds(e,f);return this.Cs(e,y,c,p.readTime)?this.ys(t,d0(e,null,"F")):this.vs(t,y,e,p)}))})))}ws(t,e,r,a){return Sy(e)||a.isEqual(qe.min())?Yt.resolve(null):this.ps.getDocuments(t,r).next(l=>{const c=this.Ds(e,l);return this.Cs(e,c,r,a)?Yt.resolve(null):(nh()<=ln.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ih(e)),this.vs(t,c,e,UA(a,kf)).next(f=>f))})}Ds(t,e){let r=new nr(R_(t));return e.forEach((a,l)=>{n1(t,l)&&(r=r.add(l))}),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,r){return nh()<=ln.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ih(e)),this.ps.getDocumentsMatchingQuery(t,e,Cu.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",_S=3e8;class bS{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new di(un),this.xs=new Ac(l=>$0(l),J0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function wS(i,t,e,r){return new bS(i,t,e,r)}async function Z_(i,t){const e=He(i);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let p=cn();for(const y of a){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next(y=>({Ls:y,removedBatchIds:c,addedBatchIds:f}))})})}function AS(i,t){const e=He(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const E=y.batch,T=E.keys();let A=Yt.resolve();return T.forEach(R=>{A=A.next(()=>v.getEntry(p,R)).next(V=>{const H=y.docVersions.get(R);Ln(H!==null,48541),V.version.compareTo(H)<0&&(E.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),v.addEntry(V)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=cn();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(t))).next(()=>e.localDocuments.getDocuments(r,a))})}function tb(i){const t=He(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function SS(i,t){const e=He(i),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const f=[];t.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;f.push(e.Pi.removeMatchingKeys(l,v.removedDocuments,E).next(()=>e.Pi.addMatchingKeys(l,v.addedDocuments,E)));let A=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?A=A.withResumeToken(xr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(E,A),function(V,H,j){return V.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=_S?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(T,A,v)&&f.push(e.Pi.updateTargetData(l,A))});let p=Cl(),y=cn();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(ES(l,c,t.documentUpdates).next(v=>{p=v.ks,y=v.qs})),!r.isEqual(qe.min())){const v=e.Pi.getLastRemoteSnapshotVersion(l).next(E=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(v)}return Yt.waitFor(f).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(e.Ms=a,l))}function ES(i,t,e){let r=cn(),a=cn();return e.forEach(l=>r=r.add(l)),t.getEntries(i,r).next(l=>{let c=Cl();return e.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(qe.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):ce(om,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{ks:c,qs:a}})}function TS(i,t){const e=He(i);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Q0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function xS(i,t){const e=He(i);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.Pi.getTargetData(r,t).next(l=>l?(a=l,Yt.resolve(a)):e.Pi.allocateTargetId(r).next(c=>(a=new Su(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function v0(i,t,e){const r=He(i),a=r.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Lh(c))throw c;ce(om,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function ky(i,t,e){const r=He(i);let a=qe.min(),l=cn();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const E=He(p),T=E.xs.get(v);return T!==void 0?Yt.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,v)}(r,c,ko(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(c,t,e?a:qe.min(),e?l:cn())).next(f=>(NS(r,f6(t),f),{documents:f,Qs:l})))}function NS(i,t,e){let r=i.Os.get(t)||qe.min();e.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Os.set(t,r)}class jy{constructor(){this.activeTargetIds=v6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IS{constructor(){this.Mo=new jy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new jy,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Vy,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ce(Vy,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp=null;function _0(){return sp===null?sp=function(){return 268435456+Math.round(2147483648*Math.random())}():sp++,"0x"+sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="RestConnection",CS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LS{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Cp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,l){const c=_0(),f=this.zo(t,e.toUriEncodedString());ce(F2,`Sending RPC '${t}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:y}=new URL(f),v=Nh(y);return this.Jo(t,f,p,r,v).then(E=>(ce(F2,`Received RPC '${t}' ${c}: `,E),E),E=>{throw bh(F2,`RPC '${t}' ${c} failed with error: `,E,"url: ",f,"request:",r),E})}Ho(t,e,r,a,l,c){return this.Go(t,e,r,a,l)}jo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}zo(t,e){const r=CS[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="WebChannelConnection";class PS extends LS{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,l){const c=_0();return new Promise((f,p)=>{const y=new i_;y.setWithCredentials(!0),y.listenOnce(r_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case fp.NO_ERROR:const E=y.getResponseJson();ce(Br,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case fp.TIMEOUT:ce(Br,`RPC '${t}' ${c} timed out`),p(new ve(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:const T=y.getStatus();if(ce(Br,`RPC '${t}' ${c} failed with status:`,T,"response text:",y.getResponseText()),T>0){let A=y.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const V=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(Qt).indexOf(X)>=0?X:Qt.UNKNOWN}(R.status);p(new ve(V,R.message))}else p(new ve(Qt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ve(Qt.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Br,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);ce(Br,`RPC '${t}' ${c} sending request:`,a),y.send(e,"POST",v,r,15)})}T_(t,e,r){const a=_0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=o_(),f=a_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=l.join("");ce(Br,`Creating RPC '${t}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let T=!1,A=!1;const R=new DS({Yo:H=>{A?ce(Br,`Not sending because RPC '${t}' stream ${a} is closed:`,H):(T||(ce(Br,`Opening RPC '${t}' stream ${a} transport.`),E.open(),T=!0),ce(Br,`RPC '${t}' stream ${a} sending:`,H),E.send(H))},Zo:()=>E.close()}),V=(H,j,X)=>{H.listen(j,nt=>{try{X(nt)}catch(At){setTimeout(()=>{throw At},0)}})};return V(E,Sf.EventType.OPEN,()=>{A||(ce(Br,`RPC '${t}' stream ${a} transport opened.`),R.o_())}),V(E,Sf.EventType.CLOSE,()=>{A||(A=!0,ce(Br,`RPC '${t}' stream ${a} transport closed`),R.a_(),this.E_(E))}),V(E,Sf.EventType.ERROR,H=>{A||(A=!0,bh(Br,`RPC '${t}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),R.a_(new ve(Qt.UNAVAILABLE,"The operation could not be completed")))}),V(E,Sf.EventType.MESSAGE,H=>{if(!A){const j=H.data[0];Ln(!!j,16349);const X=j,nt=X?.error||X[0]?.error;if(nt){ce(Br,`RPC '${t}' stream ${a} received error:`,nt);const At=nt.status;let bt=function(L){const z=Gi[L];if(z!==void 0)return F_(z)}(At),kt=nt.message;bt===void 0&&(bt=Qt.INTERNAL,kt="Unknown error status: "+At+" with message "+nt.message),A=!0,R.a_(new ve(bt,kt)),E.close()}else ce(Br,`RPC '${t}' stream ${a} received:`,j),R.u_(j)}}),V(f,s_.STAT_EVENT,H=>{H.stat===o0.PROXY?ce(Br,`RPC '${t}' stream ${a} detected buffering proxy`):H.stat===o0.NOPROXY&&ce(Br,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function q2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i){return new j6(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="PersistentStream";class nb{constructor(t,e,r,a,l,c,f,p){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Qt.RESOURCE_EXHAUSTED?(Rl(e.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Qt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===e&&this.G_(r,a)},r=>{t(()=>{const a=new ve(Qt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ce(By,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(ce(By,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends nb{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=B6(this.serializer,t),r=function(l){if(!("targetChange"in l))return qe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?jo(c.readTime):qe.min()}(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=y0(this.serializer),e.addTarget=function(l,c){let f;const p=c.target;if(f=f0(p)?{documents:z6(l,p)}:{query:H6(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=H_(l,c.resumeToken);const y=p0(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(qe.min())>0){f.readTime=Mp(l,c.snapshotVersion.toTimestamp());const y=p0(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,t);const r=Y6(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=y0(this.serializer),e.removeTarget=t,this.q_(e)}}class MS extends nb{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ln(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ln(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ln(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=q6(t.writeResults,t.commitTime),r=jo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=y0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>F6(this.serializer,r))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{}class jS extends kS{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(t,m0(e,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(Qt.UNKNOWN,l.toString())})}Ho(t,e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(t,m0(e,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(Qt.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VS{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rl(e),this.aa=!1):ce("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="RemoteStore";class US{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{r.enqueueAndForget(async()=>{Sc(this)&&(ce(bc,"Restarting streams for network reachability change."),await async function(p){const y=He(p);y.Ea.add(4),await $f(y),y.Ra.set("Unknown"),y.Ea.delete(4),await o1(y)}(this))})}),this.Ra=new VS(r,a)}}async function o1(i){if(Sc(i))for(const t of i.da)await t(!0)}async function $f(i){for(const t of i.da)await t(!1)}function ib(i,t){const e=He(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),hm(e)?cm(e):Dh(e).O_()&&um(e,t))}function lm(i,t){const e=He(i),r=Dh(e);e.Ia.delete(t),r.O_()&&rb(e,t),e.Ia.size===0&&(r.O_()?r.L_():Sc(e)&&e.Ra.set("Unknown"))}function um(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qe.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Dh(i).Y_(t)}function rb(i,t){i.Va.Ue(t),Dh(i).Z_(t)}function cm(i){i.Va=new P6({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Dh(i).start(),i.Ra.ua()}function hm(i){return Sc(i)&&!Dh(i).x_()&&i.Ia.size>0}function Sc(i){return He(i).Ea.size===0}function sb(i){i.Va=void 0}async function BS(i){i.Ra.set("Online")}async function FS(i){i.Ia.forEach((t,e)=>{um(i,t)})}async function qS(i,t){sb(i),hm(i)?(i.Ra.ha(t),cm(i)):i.Ra.set("Unknown")}async function zS(i,t,e){if(i.Ra.set("Online"),t instanceof z_&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))}(i,t)}catch(r){ce(bc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await jp(i,r)}else if(t instanceof gp?i.Va.Ze(t):t instanceof q_?i.Va.st(t):i.Va.tt(t),!e.isEqual(qe.min()))try{const r=await tb(i.localStore);e.compareTo(r)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(xr.EMPTY_BYTE_STRING,v.snapshotVersion)),rb(l,p);const E=new Su(v.target,p,y,v.sequenceNumber);um(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(i,e)}catch(r){ce(bc,"Failed to raise snapshot:",r),await jp(i,r)}}async function jp(i,t,e){if(!Lh(t))throw t;i.Ea.add(1),await $f(i),i.Ra.set("Offline"),e||(e=()=>tb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(bc,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await o1(i)})}function ab(i,t){return t().catch(e=>jp(i,e,t))}async function l1(i){const t=He(i),e=Ou(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Q0;for(;HS(t);)try{const a=await TS(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,GS(t,a)}catch(a){await jp(t,a)}ob(t)&&lb(t)}function HS(i){return Sc(i)&&i.Ta.length<10}function GS(i,t){i.Ta.push(t);const e=Ou(i);e.O_()&&e.X_&&e.ea(t.mutations)}function ob(i){return Sc(i)&&!Ou(i).x_()&&i.Ta.length>0}function lb(i){Ou(i).start()}async function YS(i){Ou(i).ra()}async function KS(i){const t=Ou(i);for(const e of i.Ta)t.ea(e.mutations)}async function QS(i,t,e){const r=i.Ta.shift(),a=em.from(r,t,e);await ab(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await l1(i)}async function XS(i,t){t&&Ou(i).X_&&await async function(r,a){if(function(c){return C6(c)&&c!==Qt.ABORTED}(a.code)){const l=r.Ta.shift();Ou(r).B_(),await ab(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await l1(r)}}(i,t),ob(i)&&lb(i)}async function Fy(i,t){const e=He(i);e.asyncQueue.verifyOperationInProgress(),ce(bc,"RemoteStore received new credentials");const r=Sc(e);e.Ea.add(3),await $f(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await o1(e)}async function WS(i,t){const e=He(i);t?(e.Ea.delete(2),await o1(e)):t||(e.Ea.add(2),await $f(e),e.Ra.set("Unknown"))}function Dh(i){return i.ma||(i.ma=function(e,r,a){const l=He(e);return l.sa(),new OS(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{Xo:BS.bind(null,i),t_:FS.bind(null,i),r_:qS.bind(null,i),H_:zS.bind(null,i)}),i.da.push(async t=>{t?(i.ma.B_(),hm(i)?cm(i):i.Ra.set("Unknown")):(await i.ma.stop(),sb(i))})),i.ma}function Ou(i){return i.fa||(i.fa=function(e,r,a){const l=He(e);return l.sa(),new MS(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:YS.bind(null,i),r_:XS.bind(null,i),ta:KS.bind(null,i),na:QS.bind(null,i)}),i.da.push(async t=>{t?(i.fa.B_(),await l1(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(bc,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,f=new fm(t,e,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(Qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(i,t){if(Rl("AsyncQueue",`${t}: ${i}`),Lh(i))return new ve(Qt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{static emptySet(t){return new uh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||xe.comparator(e.key,r.key):(e,r)=>xe.comparator(e.key,r.key),this.keyedMap=Ef(),this.sortedSet=new di(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new uh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.ga=new di(xe.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ke(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}}class Th{constructor(t,e,r,a,l,c,f,p,y){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach(f=>{c.push({type:0,doc:f})}),new Th(t,e,uh.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&e1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class JS{constructor(){this.queries=zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=He(e),l=a.queries;a.queries=zy(),l.forEach((c,f)=>{for(const p of f.Sa)p.onError(r)})})(this,new ve(Qt.ABORTED,"Firestore shutting down"))}}function zy(){return new Ac(i=>I_(i),e1)}async function pm(i,t){const e=He(i);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new $S,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const f=dm(c,`Initialization of query '${ih(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&gm(e)}async function mm(i,t){const e=He(i),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function ZS(i,t){const e=He(i);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&gm(e)}function tE(i,t,e){const r=He(i),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);r.queries.delete(t)}function gm(i){i.Ca.forEach(t=>{t.next()})}var b0,Hy;(Hy=b0||(b0={})).Ma="default",Hy.Cache="cache";class ym{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Th(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Th.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==b0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.key=t}}class cb{constructor(t){this.key=t}}class eE{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cn(),this.mutatedKeys=cn(),this.eu=R_(t),this.tu=new uh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new qy,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const T=a.get(v),A=n1(this.query,E)?E:null,R=!!T&&this.mutatedKeys.has(T.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let H=!1;T&&A?T.data.isEqual(A.data)?R!==V&&(r.track({type:3,doc:A}),H=!0):this.su(T,A)||(r.track({type:2,doc:A}),H=!0,(p&&this.eu(A,p)>0||y&&this.eu(A,y)<0)&&(f=!0)):!T&&A?(r.track({type:0,doc:A}),H=!0):T&&!A&&(r.track({type:1,doc:T}),H=!0,(p||y)&&(f=!0)),H&&(A?(c=c.add(A),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort((v,E)=>function(A,R){const V=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:H})}};return V(A)-V(R)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(r),a=a??!1;const f=e&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Th(this.query,t.tu,l,c,t.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=cn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new cb(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new ub(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=cn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Th.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vm="SyncEngine";class nE{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class iE{constructor(t){this.key=t,this.hu=!1}}class rE{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ac(f=>I_(f),e1),this.Iu=new Map,this.Eu=new Set,this.du=new di(xe.comparator),this.Au=new Map,this.Ru=new rm,this.Vu={},this.mu=new Map,this.fu=Eh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sE(i,t,e=!0){const r=gb(i);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hb(r,t,e,!0),a}async function aE(i,t){const e=gb(i);await hb(e,t,!0,!1)}async function hb(i,t,e,r){const a=await xS(i.localStore,ko(t)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,e);let f;return r&&(f=await oE(i,t,l,c==="current",a.resumeToken)),i.isPrimaryClient&&e&&ib(i.remoteStore,a),f}async function oE(i,t,e,r,a){i.pu=(E,T,A)=>async function(V,H,j,X){let nt=H.view.ru(j);nt.Cs&&(nt=await ky(V.localStore,H.query,!1).then(({documents:W})=>H.view.ru(W,nt)));const At=X&&X.targetChanges.get(H.targetId),bt=X&&X.targetMismatches.get(H.targetId)!=null,kt=H.view.applyChanges(nt,V.isPrimaryClient,At,bt);return Yy(V,H.targetId,kt.au),kt.snapshot}(i,E,T,A);const l=await ky(i.localStore,t,!0),c=new eE(t,l.Qs),f=c.ru(l.documents),p=Wf.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",a),y=c.applyChanges(f,i.isPrimaryClient,p);Yy(i,e,y.au);const v=new nE(t,e,c);return i.Tu.set(t,v),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),y.snapshot}async function lE(i,t,e){const r=He(i),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter(c=>!e1(c,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await v0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),e&&lm(r.remoteStore,a.targetId),w0(r,a.targetId)}).catch(Ch)):(w0(r,a.targetId),await v0(r.localStore,a.targetId,!0))}async function uE(i,t){const e=He(i),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),lm(e.remoteStore,r.targetId))}async function cE(i,t,e){const r=yE(i);try{const a=await function(c,f){const p=He(c),y=Jn.now(),v=f.reduce((A,R)=>A.add(R.key),cn());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Cl(),V=cn();return p.Ns.getEntries(A,v).next(H=>{R=H,R.forEach((j,X)=>{X.isValidDocument()||(V=V.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,R)).next(H=>{E=H;const j=[];for(const X of f){const nt=T6(X,E.get(X.key).overlayedDocument);nt!=null&&j.push(new Uu(X.key,nt,w_(nt.value.mapValue),_a.exists(!0)))}return p.mutationQueue.addMutationBatch(A,y,j,f)}).next(H=>{T=H;const j=H.applyToLocalDocumentSet(E,V);return p.documentOverlayCache.saveOverlays(A,H.batchId,j)})}).then(()=>({batchId:T.batchId,changes:L_(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new di(un)),y=y.insert(f,p),c.Vu[c.currentUser.toKey()]=y}(r,a.batchId,e),await Jf(r,a.changes),await l1(r.remoteStore)}catch(a){const l=dm(a,"Failed to persist write");e.reject(l)}}async function fb(i,t){const e=He(i);try{const r=await SS(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Au.get(l);c&&(Ln(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ln(c.hu,14607):a.removedDocuments.size>0&&(Ln(c.hu,42227),c.hu=!1))}),await Jf(e,r,t)}catch(r){await Ch(r)}}function Gy(i,t,e){const r=He(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=He(c);p.onlineState=f;let y=!1;p.queries.forEach((v,E)=>{for(const T of E.Sa)T.va(f)&&(y=!0)}),y&&gm(p)}(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function hE(i,t,e){const r=He(i);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new di(xe.comparator);c=c.insert(l,Qr.newNoDocument(l,qe.min()));const f=cn().add(l),p=new s1(qe.min(),new Map,new di(un),c,f);await fb(r,p),r.du=r.du.remove(l),r.Au.delete(t),_m(r)}else await v0(r.localStore,t,!1).then(()=>w0(r,t,e)).catch(Ch)}async function fE(i,t){const e=He(i),r=t.batch.batchId;try{const a=await AS(e.localStore,t);pb(e,r,null),db(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(e,a)}catch(a){await Ch(a)}}async function dE(i,t,e){const r=He(i);try{const a=await function(c,f){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(E=>(Ln(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(r.localStore,t);pb(r,t,e),db(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Jf(r,a)}catch(a){await Ch(a)}}function db(i,t){(i.mu.get(t)||[]).forEach(e=>{e.resolve()}),i.mu.delete(t)}function pb(i,t,e){const r=He(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function w0(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach(r=>{i.Ru.containsKey(r)||mb(i,r)})}function mb(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(lm(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),_m(i))}function Yy(i,t,e){for(const r of e)r instanceof ub?(i.Ru.addReference(r.key,t),pE(i,r)):r instanceof cb?(ce(vm,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||mb(i,r.key)):ke(19791,{wu:r})}function pE(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(ce(vm,"New document in limbo: "+e),i.Eu.add(r),_m(i))}function _m(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new xe($n.fromString(t)),r=i.fu.next();i.Au.set(r,new iE(e)),i.du=i.du.insert(e,r),ib(i.remoteStore,new Su(ko(t1(e.path)),r,"TargetPurposeLimboResolution",Wp.ce))}}async function Jf(i,t,e){const r=He(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach((f,p)=>{c.push(r.pu(p,t,e).then(y=>{if((y||e)&&r.isPrimaryClient){const v=y?!y.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){a.push(y);const v=am.As(p.targetId,y);l.push(v)}}))}),await Promise.all(c),r.Pu.H_(a),await async function(p,y){const v=He(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Yt.forEach(y,T=>Yt.forEach(T.Es,A=>v.persistence.referenceDelegate.addReference(E,T.targetId,A)).next(()=>Yt.forEach(T.ds,A=>v.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))}catch(E){if(!Lh(E))throw E;ce(om,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const A=v.Ms.get(T),R=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(T,V)}}}(r.localStore,l))}async function mE(i,t){const e=He(i);if(!e.currentUser.isEqual(t)){ce(vm,"User change. New user:",t.toKey());const r=await Z_(e.localStore,t);e.currentUser=t,function(l,c){l.mu.forEach(f=>{f.forEach(p=>{p.reject(new ve(Qt.CANCELLED,c))})}),l.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jf(e,r.Ls)}}function gE(i,t){const e=He(i),r=e.Au.get(t);if(r&&r.hu)return cn().add(r.key);{let a=cn();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const f=e.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function gb(i){const t=He(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hE.bind(null,t),t.Pu.H_=ZS.bind(null,t.eventManager),t.Pu.yu=tE.bind(null,t.eventManager),t}function yE(i){const t=He(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dE.bind(null,t),t}class Vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=a1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return wS(this.persistence,new vS,t.initialUser,this.serializer)}Cu(t){return new J_(sm.mi,this.serializer)}Du(t){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vp.provider={build:()=>new Vp};class vE extends Vp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ln(this.persistence.referenceDelegate instanceof kp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iS(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new J_(r=>kp.mi(r,e),this.serializer)}}class A0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mE.bind(null,this.syncEngine),await WS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JS}()}createDatastore(t){const e=a1(t.databaseInfo.databaseId),r=function(l){return new PS(l)}(t.databaseInfo);return function(l,c,f,p){return new jS(l,c,f,p)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,a,l,c,f){return new US(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,e=>Gy(this.syncEngine,e,0),function(){return Uy.v()?new Uy:new RS}())}createSyncEngine(t,e){return function(a,l,c,f,p,y,v){const E=new rE(a,l,c,f,p,y);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const r=He(e);ce(bc,"RemoteStore shutting down."),r.Ea.add(5),await $f(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}A0.provider={build:()=>new A0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Rl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="FirestoreClient";class _E{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Gr.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ce(Mu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ce(Mu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=dm(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function z2(i,t){i.asyncQueue.verifyOperationInProgress(),ce(Mu,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Z_(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function Ky(i,t){i.asyncQueue.verifyOperationInProgress();const e=await bE(i);ce(Mu,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(r=>Fy(t.remoteStore,r)),i.setAppCheckTokenChangeListener((r,a)=>Fy(t.remoteStore,a)),i._onlineComponents=t}async function bE(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Mu,"Using user provided OfflineComponentProvider");try{await z2(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===Qt.FAILED_PRECONDITION||a.code===Qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;bh("Error using user provided cache. Falling back to memory cache: "+e),await z2(i,new Vp)}}else ce(Mu,"Using default OfflineComponentProvider"),await z2(i,new vE(void 0));return i._offlineComponents}async function yb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Mu,"Using user provided OnlineComponentProvider"),await Ky(i,i._uninitializedComponentsProvider._online)):(ce(Mu,"Using default OnlineComponentProvider"),await Ky(i,new A0))),i._onlineComponents}function wE(i){return yb(i).then(t=>t.syncEngine)}async function Up(i){const t=await yb(i),e=t.eventManager;return e.onListen=sE.bind(null,t.syncEngine),e.onUnlisten=lE.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=aE.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=uE.bind(null,t.syncEngine),e}function AE(i,t,e={}){const r=new Nl;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,y){const v=new bm({next:T=>{v.Nu(),c.enqueueAndForget(()=>mm(l,E));const A=T.docs.has(f);!A&&T.fromCache?y.reject(new ve(Qt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&p&&p.source==="server"?y.reject(new ve(Qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new ym(t1(f.path),v,{includeMetadataChanges:!0,qa:!0});return pm(l,E)}(await Up(i),i.asyncQueue,t,e,r)),r.promise}function SE(i,t,e={}){const r=new Nl;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,y){const v=new bm({next:T=>{v.Nu(),c.enqueueAndForget(()=>mm(l,E)),T.fromCache&&p.source==="server"?y.reject(new ve(Qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new ym(f,v,{includeMetadataChanges:!0,qa:!0});return pm(l,E)}(await Up(i),i.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firestore.googleapis.com",Xy=!0;class Wy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ve(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_b,this.ssl=Xy}else this.host=t.host,this.ssl=t.ssl??Xy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eS)throw new ve(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class u1{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ve(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IA;switch(r.type){case"firstParty":return new DA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Qy.get(e);r&&(ce("ComponentProvider","Removing Datastore"),Qy.delete(e),r.terminate())}(this),Promise.resolve()}}function EE(i,t,e,r={}){i=Ss(i,u1);const a=Nh(t),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},f=`${t}:${e}`;a&&(Qv(`https://${f}`),Xv("Firestore",!0)),l.host!==_b&&l.host!==f&&bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:r};if(!yc(p,c)&&(i._setSettings(p),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Gr.MOCK_USER;else{y=ew(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ve(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gr(E)}i._authCredentials=new RA(new u_(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zf(this.firestore,t,this._query)}}class Vi{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}toJSON(){return{type:Vi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Qf(e,Vi._jsonSchema))return new Vi(t,r||null,new xe($n.fromString(e.referencePath)))}}Vi._jsonSchemaVersion="firestore/documentReference/1.0",Vi._jsonSchema={type:Yi("string",Vi._jsonSchemaVersion),referencePath:Yi("string")};class Ru extends Zf{constructor(t,e,r){super(t,e,t1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new xe(t))}withConverter(t){return new Ru(this.firestore,t,this._path)}}function Si(i,t,...e){if(i=Tr(i),c_("collection","path",t),i instanceof u1){const r=$n.fromString(t,...e);return cy(r),new Ru(i,null,r)}{if(!(i instanceof Vi||i instanceof Ru))throw new ve(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child($n.fromString(t,...e));return cy(r),new Ru(i.firestore,null,r)}}function Tn(i,t,...e){if(i=Tr(i),arguments.length===1&&(t=Y0.newId()),c_("doc","path",t),i instanceof u1){const r=$n.fromString(t,...e);return uy(r),new Vi(i,null,new xe(r))}{if(!(i instanceof Vi||i instanceof Ru))throw new ve(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child($n.fromString(t,...e));return uy(r),new Vi(i.firestore,i instanceof Ru?i.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="AsyncQueue";class Jy{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const r=q2();r&&ce($y,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=q2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=q2();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Nl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lh(t))throw t;ce($y,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Rl("INTERNAL UNHANDLED ERROR: ",Zy(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=fm.createAndSchedule(this,t,e,r,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&ke(47125,{Pc:Zy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Zy(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(i){return function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(i,["next","error","complete"])}class Ll extends u1{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new Jy,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jy(t),this._firestoreClient=void 0,await t}}}function TE(i,t){const e=typeof i=="object"?i:Zv(),r=typeof i=="string"?i:Cp,a=H0(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Z4("firestore");l&&EE(a,...l)}return a}function c1(i){if(i._terminated)throw new ve(Qt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xE(i),i._firestoreClient}function xE(i){const t=i._freezeSettings(),e=function(a,l,c,f){return new XA(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new _E(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new va(xr.fromBase64String(t))}catch(e){throw new ve(Qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new va(xr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:va._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qf(t,va._jsonSchema))return va.fromBase64String(t.bytes)}}va._jsonSchemaVersion="firestore/bytes/1.0",va._jsonSchema={type:Yi("string",va._jsonSchemaVersion),bytes:Yi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ve(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ve(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ve(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return un(this._lat,t._lat)||un(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vo._jsonSchemaVersion}}static fromJSON(t){if(Qf(t,Vo._jsonSchema))return new Vo(t.latitude,t.longitude)}}Vo._jsonSchemaVersion="firestore/geoPoint/1.0",Vo._jsonSchema={type:Yi("string",Vo._jsonSchemaVersion),latitude:Yi("number"),longitude:Yi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qf(t,Uo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Uo(t.vectorValues);throw new ve(Qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Uo._jsonSchemaVersion="firestore/vectorValue/1.0",Uo._jsonSchema={type:Yi("string",Uo._jsonSchemaVersion),vectorValues:Yi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=/^__.*__$/;class IE{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xf(t,this.data,e,this.fieldTransforms)}}class bb{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function wb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:i})}}class wm{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Bp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wb(this.Ac)&&NE.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RE{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||a1(t)}Cc(t,e,r,a=!1){return new wm({Ac:t,methodName:e,Dc:r,path:Er.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(i){const t=i._freezeSettings(),e=a1(i._databaseId);return new RE(i._databaseId,!!t.ignoreUndefinedProperties,e)}function Ab(i,t,e,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,t,e,a);Em("Data must be an object, but it was:",c,r);const f=Sb(r,c);let p,y;if(l.merge)p=new Ks(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=S0(t,E,e);if(!c.contains(T))throw new ve(Qt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Tb(v,T)||v.push(T)}p=new Ks(v),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new IE(new As(f),p,y)}class d1 extends f1{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof d1}}class Sm extends f1{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new qf(t.serializer,O_(t.serializer,this.Fc));return new w6(t.path,e)}isEqual(t){return t instanceof Sm&&this.Fc===t.Fc}}function CE(i,t,e,r){const a=i.Cc(1,t,e);Em("Data must be an object, but it was:",a,r);const l=[],c=As.empty();Vu(r,(p,y)=>{const v=Tm(t,p,e);y=Tr(y);const E=a.yc(v);if(y instanceof d1)l.push(v);else{const T=p1(y,E);T!=null&&(l.push(v),c.set(v,T))}});const f=new Ks(l);return new bb(c,f,a.fieldTransforms)}function LE(i,t,e,r,a,l){const c=i.Cc(1,t,e),f=[S0(t,r,e)],p=[a];if(l.length%2!=0)throw new ve(Qt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(S0(t,l[T])),p.push(l[T+1]);const y=[],v=As.empty();for(let T=f.length-1;T>=0;--T)if(!Tb(y,f[T])){const A=f[T];let R=p[T];R=Tr(R);const V=c.yc(A);if(R instanceof d1)y.push(A);else{const H=p1(R,V);H!=null&&(y.push(A),v.set(A,H))}}const E=new Ks(y);return new bb(v,E,c.fieldTransforms)}function p1(i,t){if(Eb(i=Tr(i)))return Em("Unsupported field value:",t,i),Sb(i,t);if(i instanceof f1)return function(r,a){if(!wb(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let p=p1(f,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(i,t)}return function(r,a){if((r=Tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O_(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Jn.fromDate(r);return{timestampValue:Mp(a.serializer,l)}}if(r instanceof Jn){const l=new Jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mp(a.serializer,l)}}if(r instanceof Vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:H_(a.serializer,r._byteString)};if(r instanceof Vi){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:im(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Uo)return function(c,f){return{mapValue:{fields:{[__]:{stringValue:b_},[Lp]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Z0(f.serializer,y)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${K0(r)}`)}(i,t)}function Sb(i,t){const e={};return d_(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(i,(r,a)=>{const l=p1(a,t.mc(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function Eb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Jn||i instanceof Vo||i instanceof va||i instanceof Vi||i instanceof f1||i instanceof Uo)}function Em(i,t,e){if(!Eb(e)||!h_(e)){const r=K0(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function S0(i,t,e){if((t=Tr(t))instanceof h1)return t._internalPath;if(typeof t=="string")return Tm(i,t);throw Bp("Field path arguments must be of type string or ",i,!1,void 0,e)}const DE=new RegExp("[~\\*/\\[\\]]");function Tm(i,t,e){if(t.search(DE)>=0)throw Bp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new h1(...t.split("."))._internalPath}catch{throw Bp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Bp(i,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new ve(Qt.INVALID_ARGUMENT,f+i+p)}function Tb(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Nb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class PE extends xb{data(){return super.data()}}function Nb(i,t){return typeof t=="string"?Tm(i,t):t instanceof h1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(Qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OE{convertValue(t,e="none"){switch(Pu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Du(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ke(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Vu(t,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertVectorValue(t){const e=t.fields?.[Lp].arrayValue?.values?.map(r=>Oi(r.doubleValue));return new Uo(e)}convertGeoPoint(t){return new Vo(Oi(t.latitude),Oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Jp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(jf(t));default:return null}}convertTimestamp(t){const e=Lu(t);return new Jn(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=$n.fromString(t);Ln(W_(r),9688,{name:t});const a=new Vf(r.get(1),r.get(3)),l=new xe(r.popFirst(5));return a.isEqual(e)||Rl(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i,t,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,r}class xf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dc extends xb{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Nb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(Qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=dc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}dc._jsonSchemaVersion="firestore/documentSnapshot/1.0",dc._jsonSchema={type:Yi("string",dc._jsonSchemaVersion),bundleSource:Yi("string","DocumentSnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class yp extends dc{data(t={}){return super.data(t)}}class pc{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new xf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new yp(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ve(Qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new yp(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new yp(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,v=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:ME(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(Qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Y0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ME(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){i=Ss(i,Vi);const t=Ss(i.firestore,Ll);return AE(c1(t),i._key).then(e=>Cb(t,i,e))}pc._jsonSchemaVersion="firestore/querySnapshot/1.0",pc._jsonSchema={type:Yi("string",pc._jsonSchemaVersion),bundleSource:Yi("string","QuerySnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class xm extends OE{constructor(t){super(),this.firestore=t}convertBytes(t){return new va(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,e)}}function Yr(i){i=Ss(i,Zf);const t=Ss(i.firestore,Ll),e=c1(t),r=new xm(t);return Ib(i._query),SE(e,i._query).then(a=>new pc(t,r,i,a))}function _u(i,t,e){i=Ss(i,Vi);const r=Ss(i.firestore,Ll),a=Rb(i.converter,t,e);return g1(r,[Ab(Am(r),"setDoc",i._key,a,i.converter!==null,e).toMutation(i._key,_a.none())])}function Kr(i,t,e,...r){i=Ss(i,Vi);const a=Ss(i.firestore,Ll),l=Am(a);let c;return c=typeof(t=Tr(t))=="string"||t instanceof h1?LE(l,"updateDoc",i._key,t,e,r):CE(l,"updateDoc",i._key,t),g1(a,[c.toMutation(i._key,_a.exists(!0))])}function ch(i){return g1(Ss(i.firestore,Ll),[new tm(i._key,_a.none())])}function m1(i,t){const e=Ss(i.firestore,Ll),r=Tn(i),a=Rb(i.converter,t);return g1(e,[Ab(Am(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,_a.exists(!1))]).then(()=>r)}function H2(i,...t){i=Tr(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||tv(t[r])||(e=t[r++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(tv(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let l,c,f;if(i instanceof Vi)c=Ss(i.firestore,Ll),f=t1(i._key.path),l={next:p=>{t[r]&&t[r](Cb(c,i,p))},error:t[r+1],complete:t[r+2]};else{const p=Ss(i,Zf);c=Ss(p.firestore,Ll),f=p._query;const y=new xm(c);l={next:v=>{t[r]&&t[r](new pc(c,y,p,v))},error:t[r+1],complete:t[r+2]},Ib(i._query)}return function(y,v,E,T){const A=new bm(T),R=new ym(v,A,E);return y.asyncQueue.enqueueAndForget(async()=>pm(await Up(y),R)),()=>{A.Nu(),y.asyncQueue.enqueueAndForget(async()=>mm(await Up(y),R))}}(c1(c),f,a,l)}function g1(i,t){return function(r,a){const l=new Nl;return r.asyncQueue.enqueueAndForget(async()=>cE(await wE(r),a,l)),l.promise}(c1(i),t)}function Cb(i,t,e){const r=e.docs.get(t._key),a=new xm(i);return new dc(i,a,t._key,r,new xf(e.hasPendingWrites,e.fromCache),t.converter)}function ws(i){return new Sm("increment",i)}(function(t,e=!0){(function(a){Rh=a})(Ih),_h(new vc("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Ll(new CA(r.getProvider("auth-internal")),new PA(c,r.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(y.options.projectId,v)}(c,a),c);return l={useFetchStreams:e,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Nu(sy,ay,t),Nu(sy,ay,"esm2020")})();function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kE=Lb,Db=new Yf("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new q0("@firebase/auth");function jE(i,...t){Fp.logLevel<=ln.WARN&&Fp.warn(`Auth (${Ih}): ${i}`,...t)}function vp(i,...t){Fp.logLevel<=ln.ERROR&&Fp.error(`Auth (${Ih}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(i,...t){throw Im(i,...t)}function $a(i,...t){return Im(i,...t)}function Nm(i,t,e){const r={...kE(),[t]:e};return new Yf("auth","Firebase",r).create(t,{appName:i.name})}function mc(i){return Nm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VE(i,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ho(i,"argument-error"),Nm(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Im(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return Db.create(i,...t)}function Ve(i,t,...e){if(!i)throw Im(t,...e)}function Tl(i){const t="INTERNAL ASSERTION FAILED: "+i;throw vp(t),new Error(t)}function Dl(i,t){i||Tl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){return typeof self<"u"&&self.location?.href||""}function UE(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UE()||ow()||"connection"in navigator)?navigator.onLine:!0}function FE(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this.shortDelay=t,this.longDelay=e,Dl(e>t,"Short delay should be less than long delay!"),this.isMobile=rw()||lw()}get(){return BE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(i,t){Dl(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HE=new td(3e4,6e4);function Cm(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Ph(i,t,e,r,a={}){return Ob(i,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=Kf({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:t,headers:p,...l};return aw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Nh(i.emulatorConfig.host)&&(y.credentials="include"),Pb.fetch()(await Mb(i,i.config.apiHost,e,f),y)})}async function Ob(i,t,e){i._canInitEmulator=!1;const r={...qE,...t};try{const a=new YE(i),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ap(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ap(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ap(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw ap(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Nm(i,v,y);Ho(i,v)}}catch(a){if(a instanceof Pl)throw a;Ho(i,"network-request-failed",{message:String(a)})}}async function GE(i,t,e,r,a={}){const l=await Ph(i,t,e,r,a);return"mfaPendingCredential"in l&&Ho(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Mb(i,t,e,r){const a=`${t}${e}?${r}`,l=i,c=l.config.emulator?Rm(i.config,a):`${i.config.apiScheme}://${a}`;return zE.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class YE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r($a(this.auth,"network-request-failed")),HE.get())})}}function ap(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=$a(i,t,r);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(i,t){return Ph(i,"POST","/v1/accounts:delete",t)}async function qp(i,t){return Ph(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QE(i,t=!1){const e=Tr(i),r=await e.getIdToken(t),a=Lm(r);Ve(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Df(G2(a.auth_time)),issuedAtTime:Df(G2(a.iat)),expirationTime:Df(G2(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function G2(i){return Number(i)*1e3}function Lm(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const a=Hv(e);return a?JSON.parse(a):(vp("Failed to decode base64 JWT payload"),null)}catch(a){return vp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function nv(i){const t=Lm(i);return Ve(t,"internal-error"),Ve(typeof t.exp<"u","internal-error"),Ve(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Pl&&XE(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function XE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Df(this.lastLoginAt),this.creationTime=Df(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(i){const t=i.auth,e=await i.getIdToken(),r=await zf(i,qp(t,{idToken:e}));Ve(r?.users.length,t,"internal-error");const a=r.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?kb(a.providerUserInfo):[],c=JE(i.providerData,l),f=i.isAnonymous,p=!(i.email&&a.passwordHash)&&!c?.length,y=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new x0(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function $E(i){const t=Tr(i);await zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JE(i,t){return[...i.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function kb(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(i,t){const e=await Ob(i,{},async()=>{const r=Kf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await Mb(i,a,"/v1/token",`key=${l}`),f=await i._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return i.emulatorConfig&&Nh(i.emulatorConfig.host)&&(p.credentials="include"),Pb.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tT(i,t){return Ph(i,"POST","/v2/accounts:revokeToken",Cm(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ve(t.idToken,"internal-error"),Ve(typeof t.idToken<"u","internal-error"),Ve(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ve(t.length!==0,"internal-error");const e=nv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:l}=await ZE(t,e);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:l}=e,c=new hh;return r&&(Ve(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new hh,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i,t){Ve(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Wa{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new WE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new x0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await zf(this,this.stsTokenManager.getToken(this.auth,t));return Ve(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return QE(this,t)}reload(){return $E(this)}_assign(t){this!==t&&(Ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Wa({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xa(this.auth.app))return Promise.reject(mc(this.auth));const t=await this.getIdToken();return await zf(this,KE(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,f=e.tenantId??void 0,p=e._redirectEventId??void 0,y=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:R,stsTokenManager:V}=e;Ve(E&&V,t,"internal-error");const H=hh.fromJSON(this.name,V);Ve(typeof E=="string",t,"internal-error"),gu(r,t.name),gu(a,t.name),Ve(typeof T=="boolean",t,"internal-error"),Ve(typeof A=="boolean",t,"internal-error"),gu(l,t.name),gu(c,t.name),gu(f,t.name),gu(p,t.name),gu(y,t.name),gu(v,t.name);const j=new Wa({uid:E,auth:t,email:a,emailVerified:T,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:H,createdAt:y,lastLoginAt:v});return R&&Array.isArray(R)&&(j.providerData=R.map(X=>({...X}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,e,r=!1){const a=new hh;a.updateFromServerResponse(e);const l=new Wa({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await zp(l),l}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new hh;f.updateFromIdToken(r);const p=new Wa({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new x0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function xl(i){Dl(i instanceof Function,"Expected a class definition");let t=iv.get(i);return t?(Dl(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,iv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}jb.type="NONE";const rv=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(i,t,e){return`firebase:${i}:${t}:${e}`}class fh{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=_p(this.userKey,a.apiKey,l),this.fullPersistenceKey=_p("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await qp(this.auth,{idToken:t}).catch(()=>{});return e?Wa._fromGetAccountInfoResponse(this.auth,e,t):null}return Wa._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new fh(xl(rv),t,r);const a=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||xl(rv);const c=_p(r,t.config.apiKey,t.name);let f=null;for(const y of e)try{const v=await y._get(c);if(v){let E;if(typeof v=="string"){const T=await qp(t,{idToken:v}).catch(()=>{});if(!T)break;E=await Wa._fromGetAccountInfoResponse(t,T,v)}else E=Wa._fromJSON(t,v);y!==l&&(f=E),l=y;break}}catch{}const p=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new fh(l,t,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(e.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new fh(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zb(t))return"Blackberry";if(Hb(t))return"Webos";if(Ub(t))return"Safari";if((t.includes("chrome/")||Bb(t))&&!t.includes("edge/"))return"Chrome";if(qb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if(r?.length===2)return r[1]}return"Other"}function Vb(i=Wr()){return/firefox\//i.test(i)}function Ub(i=Wr()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bb(i=Wr()){return/crios\//i.test(i)}function Fb(i=Wr()){return/iemobile/i.test(i)}function qb(i=Wr()){return/android/i.test(i)}function zb(i=Wr()){return/blackberry/i.test(i)}function Hb(i=Wr()){return/webos/i.test(i)}function Dm(i=Wr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eT(i=Wr()){return Dm(i)&&!!window.navigator?.standalone}function nT(){return uw()&&document.documentMode===10}function Gb(i=Wr()){return Dm(i)||qb(i)||Hb(i)||zb(i)||/windows phone/i.test(i)||Fb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i,t=[]){let e;switch(i){case"Browser":e=sv(Wr());break;case"Worker":e=`${sv(Wr())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ih}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(i,t={}){return Ph(i,"GET","/v2/passwordPolicy",Cm(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=6;class aT{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??sT,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new iT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qp(this,{idToken:t}),r=await Wa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xa(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xa(this.app))return Promise.reject(mc(this));const e=t?Tr(t):null;return e&&Ve(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xa(this.app)?Promise.reject(mc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xa(this.app)?Promise.reject(mc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rT(this),e=new aT(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yf("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await tT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xl(t)||this._popupRedirectResolver;Ve(e,this,"argument-error"),this.redirectPersistenceManager=await fh.create(this,[xl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Xa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function y1(i){return Tr(i)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=yw(e=>this.observer=e)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lT(i){Pm=i}function uT(i){return Pm.loadJS(i)}function cT(){return Pm.gapiScript}function hT(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i,t){const e=H0(i,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(yc(l,t??{}))return a;Ho(a,"already-initialized")}return e.initialize({options:t})}function dT(i,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(xl);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function pT(i,t,e){const r=y1(i);Ve(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=Kb(t),{host:c,port:f}=mT(t),p=f===null?"":`:${f}`,y={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(yc(y,r.config.emulator)&&yc(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Nh(c)?(Qv(`${l}//${c}${p}`),Xv("Auth",!0)):gT()}function Kb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function mT(i){const t=Kb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:ov(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:ov(c)}}}function ov(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function gT(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Tl("not implemented")}_getIdTokenResponse(t){return Tl("not implemented")}_linkToIdToken(t,e){return Tl("not implemented")}_getReauthenticationResolver(t){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(i,t){return GE(i,"POST","/v1/accounts:signInWithIdp",Cm(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="http://localhost";class wc extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new wc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ho("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=e;if(!r||!a)return null;const c=new wc(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return dh(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,dh(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,dh(t,e)}buildRequest(){const t={requestUri:yT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Kf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ed{constructor(){super("facebook.com")}static credential(t){return wc._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bu.credentialFromTaggedObject(t)}static credentialFromError(t){return bu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bu.credential(t.oauthAccessToken)}catch{return null}}}bu.FACEBOOK_SIGN_IN_METHOD="facebook.com";bu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return wc._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return El.credentialFromTaggedObject(t)}static credentialFromError(t){return El.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return El.credential(e,r)}catch{return null}}}El.GOOGLE_SIGN_IN_METHOD="google.com";El.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends ed{constructor(){super("github.com")}static credential(t){return wc._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wu.credentialFromTaggedObject(t)}static credentialFromError(t){return wu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wu.credential(t.oauthAccessToken)}catch{return null}}}wu.GITHUB_SIGN_IN_METHOD="github.com";wu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends ed{constructor(){super("twitter.com")}static credential(t,e){return wc._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Au.credentialFromTaggedObject(t)}static credentialFromError(t){return Au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Au.credential(e,r)}catch{return null}}}Au.TWITTER_SIGN_IN_METHOD="twitter.com";Au.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const l=await Wa._fromIdTokenResponse(t,r,a),c=lv(r);return new xh({user:l,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=lv(r);return new xh({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function lv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Pl{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Hp(t,e,r,a)}}function Xb(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hp._fromErrorAndOperation(i,l,t,r):l})}async function vT(i,t,e=!1){const r=await zf(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return xh._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(i,t,e=!1){const{auth:r}=i;if(Xa(r.app))return Promise.reject(mc(r));const a="reauthenticate";try{const l=await zf(i,Xb(r,a,t,i),e);Ve(l.idToken,r,"internal-error");const c=Lm(l.idToken);Ve(c,r,"internal-error");const{sub:f}=c;return Ve(i.uid===f,r,"user-mismatch"),xh._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ho(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(i,t,e=!1){if(Xa(i.app))return Promise.reject(mc(i));const r="signIn",a=await Xb(i,r,t),l=await xh._fromIdTokenResponse(i,r,a);return e||await i._updateCurrentUser(l.user),l}function wT(i,t,e,r){return Tr(i).onIdTokenChanged(t,e,r)}function AT(i,t,e){return Tr(i).beforeAuthStateChanged(t,e)}function ST(i,t,e,r){return Tr(i).onAuthStateChanged(t,e,r)}function uv(i){return Tr(i).signOut()}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1e3,TT=10;class $b extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);nT()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,TT):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},ET)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}$b.type="LOCAL";const xT=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Jb.type="SESSION";const Zb=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new v1(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async y=>y(e.origin,l)),p=await NT(f);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const y=Mm("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return window}function RT(i){Bo().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return typeof Bo().WorkerGlobalScope<"u"&&typeof Bo().importScripts=="function"}async function CT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LT(){return navigator?.serviceWorker?.controller||null}function DT(){return t3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebaseLocalStorageDb",PT=1,Yp="firebaseLocalStorage",n3="fbase_key";class nd{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function _1(i,t){return i.transaction([Yp],t?"readwrite":"readonly").objectStore(Yp)}function OT(){const i=indexedDB.deleteDatabase(e3);return new nd(i).toPromise()}function N0(){const i=indexedDB.open(e3,PT);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Yp,{keyPath:n3})}catch(a){e(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Yp)?t(r):(r.close(),await OT(),t(await N0()))})})}async function cv(i,t,e){const r=_1(i,!0).put({[n3]:t,value:e});return new nd(r).toPromise()}async function MT(i,t){const e=_1(i,!1).get(t),r=await new nd(e).toPromise();return r===void 0?null:r.value}function hv(i,t){const e=_1(i,!0).delete(t);return new nd(e).toPromise()}const kT=800,jT=3;class i3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>jT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v1._getInstance(DT()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CT(),!this.activeServiceWorker)return;this.sender=new IT(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await N0();return await cv(t,Gp,"1"),await hv(t,Gp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>cv(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>MT(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=_1(a,!1).getAll();return new nd(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i3.type="LOCAL";const VT=i3;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(i,t){return t?xl(t):(Ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Qb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return dh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return dh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return dh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function UT(i){return bT(i.auth,new km(i),i.bypassAuthState)}function BT(i){const{auth:t,user:e}=i;return Ve(e,t,"internal-error"),_T(e,new km(i),i.bypassAuthState)}async function FT(i){const{auth:t,user:e}=i;return Ve(e,t,"internal-error"),vT(e,new km(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(t,e,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UT;case"linkViaPopup":case"linkViaRedirect":return FT;case"reauthViaPopup":case"reauthViaRedirect":return BT;default:Ho(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new td(2e3,1e4);async function zT(i,t,e){if(Xa(i.app))return Promise.reject($a(i,"operation-not-supported-in-this-environment"));const r=y1(i);VE(i,t,Om);const a=r3(r,e);return new fc(r,"signInViaPopup",t,a).executeNotNull()}class fc extends s3{constructor(t,e,r,a,l){super(t,e,a,l),this.provider=r,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ve(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qT.get())};t()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="pendingRedirect",bp=new Map;class GT extends s3{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=bp.get(this.auth._key());if(!t){try{const r=await YT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}bp.set(this.auth._key(),t)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YT(i,t){const e=XT(t),r=QT(i);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function KT(i,t){bp.set(i._key(),t)}function QT(i){return xl(i._redirectPersistence)}function XT(i){return _p(HT,i.config.apiKey,i.name)}async function WT(i,t,e=!1){if(Xa(i.app))return Promise.reject(mc(i));const r=y1(i),a=r3(r,t),c=await new GT(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=600*1e3;class JT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZT(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!a3(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError($a(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$T&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function a3({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function ZT(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a3(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(i,t={}){return Ph(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nx=/^https?/;async function ix(i){if(i.config.emulator)return;const{authorizedDomains:t}=await tx(i);for(const e of t)try{if(rx(e))return}catch{}Ho(i,"unauthorized-domain")}function rx(i){const t=T0(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!nx.test(e))return!1;if(ex.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new td(3e4,6e4);function dv(){const i=Bo().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function ax(i){return new Promise((t,e)=>{function r(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),e($a(i,"network-request-failed"))},timeout:sx.get()})}if(Bo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Bo().gapi?.load)r();else{const a=hT("iframefcb");return Bo()[a]=()=>{gapi.load?r():e($a(i,"network-request-failed"))},uT(`${cT()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw wp=null,t})}let wp=null;function ox(i){return wp=wp||ax(i),wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new td(5e3,15e3),ux="__/auth/iframe",cx="emulator/auth/iframe",hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(i){const t=i.config;Ve(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Rm(t,cx):`https://${i.config.authDomain}/${ux}`,r={apiKey:t.apiKey,appName:i.name,v:Ih},a=fx.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${Kf(r).slice(1)}`}async function px(i){const t=await ox(i),e=Bo().gapi;return Ve(e,i,"internal-error"),t.open({where:document.body,url:dx(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hx,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=$a(i,"network-request-failed"),f=Bo().setTimeout(()=>{l(c)},lx.get());function p(){Bo().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gx=500,yx=600,vx="_blank",_x="http://localhost";class pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(i,t,e,r=gx,a=yx){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p={...mx,width:r.toString(),height:a.toString(),top:l,left:c},y=Wr().toLowerCase();e&&(f=Bb(y)?vx:e),Vb(y)&&(t=t||_x,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[A,R])=>`${T}${A}=${R},`,"");if(eT(y)&&f!=="_self")return wx(t||"",f),new pv(null);const E=window.open(t||"",f,v);Ve(E,i,"popup-blocked");try{E.focus()}catch{}return new pv(E)}function wx(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="__/auth/handler",Sx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function mv(i,t,e,r,a,l){Ve(i.config.authDomain,i,"auth-domain-config-required"),Ve(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:Ih,eventId:a};if(t instanceof Om){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",gw(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof ed){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await i._getAppCheckToken(),y=p?`#${Ex}=${encodeURIComponent(p)}`:"";return`${Tx(i)}?${Kf(f).slice(1)}${y}`}function Tx({config:i}){return i.emulator?Rm(i,Sx):`https://${i.authDomain}/${Ax}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="webStorageSupport";class xx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=WT,this._overrideRedirectResult=KT}async _openPopup(t,e,r,a){Dl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mv(t,e,r,T0(),a);return bx(t,l,Mm())}async _openRedirect(t,e,r,a){await this._originValidation(t);const l=await mv(t,e,r,T0(),a);return RT(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Dl(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await px(t),r=new JT(t);return e.register("authEvent",a=>(Ve(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Y2,{type:Y2},a=>{const l=a?.[0]?.[Y2];l!==void 0&&e(!!l),Ho(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ix(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Gb()||Ub()||Dm()}}const Nx=xx;var gv="@firebase/auth",yv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cx(i){_h(new vc("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yb(i)},y=new oT(r,a,l,p);return dT(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),_h(new vc("auth-internal",t=>{const e=y1(t.getProvider("auth").getImmediate());return(r=>new Ix(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nu(gv,yv,Rx(i)),Nu(gv,yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=300,Dx=Kv("authIdTokenMaxAge")||Lx;let vv=null;const Px=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>Dx)return;const a=e?.token;vv!==a&&(vv=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ox(i=Zv()){const t=H0(i,"auth");if(t.isInitialized())return t.getImmediate();const e=fT(i,{popupRedirectResolver:Nx,persistence:[VT,xT,Zb]}),r=Kv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Px(l.toString());AT(e,c,()=>c(e.currentUser)),wT(e,f=>c(f))}}const a=Gv("auth");return a&&pT(e,`http://${a}`),e}function Mx(){return document.getElementsByTagName("head")?.[0]??document}lT({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=a=>{const l=$a("internal-error");l.customData=a,e(l)},r.type="text/javascript",r.charset="UTF-8",Mx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cx("Browser");var kx="firebase",jx="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nu(kx,jx,"app");const Vx={apiKey:"AIzaSyCHzTCyftHepygeA79tAy751FQrIJwoZo8",authDomain:"vende-plus.firebaseapp.com",projectId:"vende-plus",storageBucket:"vende-plus.firebasestorage.app",messagingSenderId:"705665006588",appId:"1:705665006588:web:93b8cd8bca720f0534d079"},o3=Jv(Vx),Le=TE(o3),op=Ox(o3),Ux=new El,l3=me.createContext(null);function Bx({children:i}){const[t,e]=me.useState(null),[r,a]=me.useState(null);me.useEffect(()=>ST(op,async p=>{if(p){const y=Tn(Le,"usuarios",p.email),v=await E0(y);if(!v.exists()){await uv(op),e(null),a(null);return}const E=v.data(),T=Tn(Le,"users",p.uid),A=await E0(T);let R;A.exists()?(R=A.data(),a(R.role),R.email||(await _u(T,{email:p.email,displayName:p.displayName,photoURL:p.photoURL},{merge:!0}),R.email=p.email,R.displayName=R.displayName||p.displayName,R.photoURL=p.photoURL)):(R={role:E?.role||"Vendedor",email:p.email,displayName:E?.name||p.displayName,photoURL:p.photoURL},await _u(T,R),a(R.role)),e({...p,...R,id:p.uid})}else e(null),a(null)}),[]);const l=()=>zT(op,Ux),c=()=>uv(op);return G.jsx(l3.Provider,{value:{user:t,role:r,login:l,logout:c},children:i})}const id=()=>me.useContext(l3);function I0({go:i,onDone:t,client:e}){const[r,a]=me.useState(""),[l,c]=me.useState(""),[f,p]=me.useState("");me.useEffect(()=>{e&&(a(e.name||""),c((e.phone||"").replace(/\D/g,"")),p(e.notes||""))},[e]);const y=async v=>{v.preventDefault();const E={name:r.toUpperCase(),phone:l?`(${l.slice(0,3)}) ${l.slice(3,6)} ${l.slice(6,10)}`:"",notes:f.toUpperCase()};e?await Kr(Tn(Le,"clients",e.id),E):await m1(Si(Le,"clients"),{...E,balance:0}),t?t():i("list")};return G.jsxs("form",{onSubmit:y,className:"bg-white p-4 rounded shadow max-w-md mx-auto space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold text-center",children:e?"Editar Cliente":"Nuevo Cliente"}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:r,onChange:v=>a(v.target.value.toUpperCase()),placeholder:"Nombre",required:!0}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:l,onChange:v=>c(v.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"Telfono",pattern:"\\d{10}"}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:f,onChange:v=>p(v.target.value.toUpperCase()),placeholder:"Observaciones"}),G.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Guardar"})]})}function Oo({children:i,onClose:t}){return G.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",onClick:t,children:G.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-2xl relative max-w-full max-h-screen overflow-y-auto",onClick:e=>e.stopPropagation(),children:[G.jsx("button",{className:"absolute top-1 right-1",onClick:t,children:""}),i]})})}const Fx="modulepreload",qx=function(i){return"/"+i},_v={},R0=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=p(e.map(y=>{if(y=qx(y),y in _v)return;_v[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":Fx,v||(T.as="script"),T.crossOrigin="",T.href=y,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((A,R)=>{T.addEventListener("load",A),T.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};function kn(i){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(i)}var Xr=Uint8Array,Qs=Uint16Array,jm=Int32Array,b1=new Xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w1=new Xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C0=new Xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u3=function(i,t){for(var e=new Qs(31),r=0;r<31;++r)e[r]=t+=1<<i[r-1];for(var a=new jm(e[30]),r=1;r<30;++r)for(var l=e[r];l<e[r+1];++l)a[l]=l-e[r]<<5|r;return{b:e,r:a}},c3=u3(b1,2),h3=c3.b,L0=c3.r;h3[28]=258,L0[258]=28;var f3=u3(w1,0),zx=f3.b,bv=f3.r,D0=new Qs(32768);for(var Zn=0;Zn<32768;++Zn){var yu=(Zn&43690)>>1|(Zn&21845)<<1;yu=(yu&52428)>>2|(yu&13107)<<2,yu=(yu&61680)>>4|(yu&3855)<<4,D0[Zn]=((yu&65280)>>8|(yu&255)<<8)>>1}var Fo=function(i,t,e){for(var r=i.length,a=0,l=new Qs(t);a<r;++a)i[a]&&++l[i[a]-1];var c=new Qs(t);for(a=1;a<t;++a)c[a]=c[a-1]+l[a-1]<<1;var f;if(e){f=new Qs(1<<t);var p=15-t;for(a=0;a<r;++a)if(i[a])for(var y=a<<4|i[a],v=t-i[a],E=c[i[a]-1]++<<v,T=E|(1<<v)-1;E<=T;++E)f[D0[E]>>p]=y}else for(f=new Qs(r),a=0;a<r;++a)i[a]&&(f[a]=D0[c[i[a]-1]++]>>15-i[a]);return f},ku=new Xr(288);for(var Zn=0;Zn<144;++Zn)ku[Zn]=8;for(var Zn=144;Zn<256;++Zn)ku[Zn]=9;for(var Zn=256;Zn<280;++Zn)ku[Zn]=7;for(var Zn=280;Zn<288;++Zn)ku[Zn]=8;var Hf=new Xr(32);for(var Zn=0;Zn<32;++Zn)Hf[Zn]=5;var Hx=Fo(ku,9,0),Gx=Fo(ku,9,1),Yx=Fo(Hf,5,0),Kx=Fo(Hf,5,1),K2=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},Ya=function(i,t,e){var r=t/8|0;return(i[r]|i[r+1]<<8)>>(t&7)&e},Q2=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},Vm=function(i){return(i+7)/8|0},d3=function(i,t,e){return(e==null||e>i.length)&&(e=i.length),new Xr(i.subarray(t,e))},Qx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qa=function(i,t,e){var r=new Error(t||Qx[i]);if(r.code=i,Error.captureStackTrace&&Error.captureStackTrace(r,Qa),!e)throw r;return r},Xx=function(i,t,e,r){var a=i.length,l=0;if(!a||t.f&&!t.l)return e||new Xr(0);var c=!e,f=c||t.i!=2,p=t.i;c&&(e=new Xr(a*3));var y=function(Wt){var ne=e.length;if(Wt>ne){var te=new Xr(Math.max(ne*2,Wt));te.set(e),e=te}},v=t.f||0,E=t.p||0,T=t.b||0,A=t.l,R=t.d,V=t.m,H=t.n,j=a*8;do{if(!A){v=Ya(i,E,1);var X=Ya(i,E+1,3);if(E+=3,X)if(X==1)A=Gx,R=Kx,V=9,H=5;else if(X==2){var kt=Ya(i,E,31)+257,W=Ya(i,E+10,15)+4,L=kt+Ya(i,E+5,31)+1;E+=14;for(var z=new Xr(L),Z=new Xr(19),I=0;I<W;++I)Z[C0[I]]=Ya(i,E+I*3,7);E+=W*3;for(var C=K2(Z),O=(1<<C)-1,at=Fo(Z,C,1),I=0;I<L;){var Tt=at[Ya(i,E,O)];E+=Tt&15;var nt=Tt>>4;if(nt<16)z[I++]=nt;else{var et=0,ht=0;for(nt==16?(ht=3+Ya(i,E,3),E+=2,et=z[I-1]):nt==17?(ht=3+Ya(i,E,7),E+=3):nt==18&&(ht=11+Ya(i,E,127),E+=7);ht--;)z[I++]=et}}var ut=z.subarray(0,kt),Nt=z.subarray(kt);V=K2(ut),H=K2(Nt),A=Fo(ut,V,1),R=Fo(Nt,H,1)}else Qa(1);else{var nt=Vm(E)+4,At=i[nt-4]|i[nt-3]<<8,bt=nt+At;if(bt>a){p&&Qa(0);break}f&&y(T+At),e.set(i.subarray(nt,bt),T),t.b=T+=At,t.p=E=bt*8,t.f=v;continue}if(E>j){p&&Qa(0);break}}f&&y(T+131072);for(var B=(1<<V)-1,pt=(1<<H)-1,P=E;;P=E){var et=A[Q2(i,E)&B],U=et>>4;if(E+=et&15,E>j){p&&Qa(0);break}if(et||Qa(2),U<256)e[T++]=U;else if(U==256){P=E,A=null;break}else{var J=U-254;if(U>264){var I=U-257,rt=b1[I];J=Ya(i,E,(1<<rt)-1)+h3[I],E+=rt}var lt=R[Q2(i,E)&pt],Et=lt>>4;lt||Qa(3),E+=lt&15;var Nt=zx[Et];if(Et>3){var rt=w1[Et];Nt+=Q2(i,E)&(1<<rt)-1,E+=rt}if(E>j){p&&Qa(0);break}f&&y(T+131072);var St=T+J;if(T<Nt){var Dt=l-Nt,Jt=Math.min(Nt,St);for(Dt+T<0&&Qa(3);T<Jt;++T)e[T]=r[Dt+T]}for(;T<St;++T)e[T]=e[T-Nt]}}t.l=A,t.p=P,t.b=T,t.f=v,A&&(v=1,t.m=V,t.d=R,t.n=H)}while(!v);return T!=e.length&&c?d3(e,0,T):e.subarray(0,T)},Sl=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8},wf=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8,i[r+2]|=e>>16},X2=function(i,t){for(var e=[],r=0;r<i.length;++r)i[r]&&e.push({s:r,f:i[r]});var a=e.length,l=e.slice();if(!a)return{t:m3,l:0};if(a==1){var c=new Xr(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(bt,kt){return bt.f-kt.f}),e.push({s:-1,f:25001});var f=e[0],p=e[1],y=0,v=1,E=2;for(e[0]={s:-1,f:f.f+p.f,l:f,r:p};v!=a-1;)f=e[e[y].f<e[E].f?y++:E++],p=e[y!=v&&e[y].f<e[E].f?y++:E++],e[v++]={s:-1,f:f.f+p.f,l:f,r:p};for(var T=l[0].s,r=1;r<a;++r)l[r].s>T&&(T=l[r].s);var A=new Qs(T+1),R=P0(e[v-1],A,0);if(R>t){var r=0,V=0,H=R-t,j=1<<H;for(l.sort(function(kt,W){return A[W.s]-A[kt.s]||kt.f-W.f});r<a;++r){var X=l[r].s;if(A[X]>t)V+=j-(1<<R-A[X]),A[X]=t;else break}for(V>>=H;V>0;){var nt=l[r].s;A[nt]<t?V-=1<<t-A[nt]++-1:++r}for(;r>=0&&V;--r){var At=l[r].s;A[At]==t&&(--A[At],++V)}R=t}return{t:new Xr(A),l:R}},P0=function(i,t,e){return i.s==-1?Math.max(P0(i.l,t,e+1),P0(i.r,t,e+1)):t[i.s]=e},wv=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Qs(++t),r=0,a=i[0],l=1,c=function(p){e[r++]=p},f=1;f<=t;++f)if(i[f]==a&&f!=t)++l;else{if(!a&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(a),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(a);l=1,a=i[f]}return{c:e.subarray(0,r),n:t}},Af=function(i,t){for(var e=0,r=0;r<t.length;++r)e+=i[r]*t[r];return e},p3=function(i,t,e){var r=e.length,a=Vm(t+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var l=0;l<r;++l)i[a+l+4]=e[l];return(a+4+r)*8},Av=function(i,t,e,r,a,l,c,f,p,y,v){Sl(t,v++,e),++a[256];for(var E=X2(a,15),T=E.t,A=E.l,R=X2(l,15),V=R.t,H=R.l,j=wv(T),X=j.c,nt=j.n,At=wv(V),bt=At.c,kt=At.n,W=new Qs(19),L=0;L<X.length;++L)++W[X[L]&31];for(var L=0;L<bt.length;++L)++W[bt[L]&31];for(var z=X2(W,7),Z=z.t,I=z.l,C=19;C>4&&!Z[C0[C-1]];--C);var O=y+5<<3,at=Af(a,ku)+Af(l,Hf)+c,Tt=Af(a,T)+Af(l,V)+c+14+3*C+Af(W,Z)+2*W[16]+3*W[17]+7*W[18];if(p>=0&&O<=at&&O<=Tt)return p3(t,v,i.subarray(p,p+y));var et,ht,ut,Nt;if(Sl(t,v,1+(Tt<at)),v+=2,Tt<at){et=Fo(T,A,0),ht=T,ut=Fo(V,H,0),Nt=V;var B=Fo(Z,I,0);Sl(t,v,nt-257),Sl(t,v+5,kt-1),Sl(t,v+10,C-4),v+=14;for(var L=0;L<C;++L)Sl(t,v+3*L,Z[C0[L]]);v+=3*C;for(var pt=[X,bt],P=0;P<2;++P)for(var U=pt[P],L=0;L<U.length;++L){var J=U[L]&31;Sl(t,v,B[J]),v+=Z[J],J>15&&(Sl(t,v,U[L]>>5&127),v+=U[L]>>12)}}else et=Hx,ht=ku,ut=Yx,Nt=Hf;for(var L=0;L<f;++L){var rt=r[L];if(rt>255){var J=rt>>18&31;wf(t,v,et[J+257]),v+=ht[J+257],J>7&&(Sl(t,v,rt>>23&31),v+=b1[J]);var lt=rt&31;wf(t,v,ut[lt]),v+=Nt[lt],lt>3&&(wf(t,v,rt>>5&8191),v+=w1[lt])}else wf(t,v,et[rt]),v+=ht[rt]}return wf(t,v,et[256]),v+ht[256]},Wx=new jm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m3=new Xr(0),$x=function(i,t,e,r,a,l){var c=l.z||i.length,f=new Xr(r+c+5*(1+Math.ceil(c/7e3))+a),p=f.subarray(r,f.length-a),y=l.l,v=(l.r||0)&7;if(t){v&&(p[0]=l.r>>3);for(var E=Wx[t-1],T=E>>13,A=E&8191,R=(1<<e)-1,V=l.p||new Qs(32768),H=l.h||new Qs(R+1),j=Math.ceil(e/3),X=2*j,nt=function(we){return(i[we]^i[we+1]<<j^i[we+2]<<X)&R},At=new jm(25e3),bt=new Qs(288),kt=new Qs(32),W=0,L=0,z=l.i||0,Z=0,I=l.w||0,C=0;z+2<c;++z){var O=nt(z),at=z&32767,Tt=H[O];if(V[at]=Tt,H[O]=at,I<=z){var et=c-z;if((W>7e3||Z>24576)&&(et>423||!y)){v=Av(i,p,0,At,bt,kt,L,Z,C,z-C,v),Z=W=L=0,C=z;for(var ht=0;ht<286;++ht)bt[ht]=0;for(var ht=0;ht<30;++ht)kt[ht]=0}var ut=2,Nt=0,B=A,pt=at-Tt&32767;if(et>2&&O==nt(z-pt))for(var P=Math.min(T,et)-1,U=Math.min(32767,z),J=Math.min(258,et);pt<=U&&--B&&at!=Tt;){if(i[z+ut]==i[z+ut-pt]){for(var rt=0;rt<J&&i[z+rt]==i[z+rt-pt];++rt);if(rt>ut){if(ut=rt,Nt=pt,rt>P)break;for(var lt=Math.min(pt,rt-2),Et=0,ht=0;ht<lt;++ht){var St=z-pt+ht&32767,Dt=V[St],Jt=St-Dt&32767;Jt>Et&&(Et=Jt,Tt=St)}}}at=Tt,Tt=V[at],pt+=at-Tt&32767}if(Nt){At[Z++]=268435456|L0[ut]<<18|bv[Nt];var Wt=L0[ut]&31,ne=bv[Nt]&31;L+=b1[Wt]+w1[ne],++bt[257+Wt],++kt[ne],I=z+ut,++W}else At[Z++]=i[z],++bt[i[z]]}}for(z=Math.max(z,I);z<c;++z)At[Z++]=i[z],++bt[i[z]];v=Av(i,p,y,At,bt,kt,L,Z,C,z-C,v),y||(l.r=v&7|p[v/8|0]<<3,v-=7,l.h=H,l.p=V,l.i=z,l.w=I)}else{for(var z=l.w||0;z<c+y;z+=65535){var te=z+65535;te>=c&&(p[v/8|0]=y,te=c),v=p3(p,v+1,i.subarray(z,te))}l.i=c}return d3(f,0,r+Vm(v)+a)},g3=function(){var i=1,t=0;return{p:function(e){for(var r=i,a=t,l=e.length|0,c=0;c!=l;){for(var f=Math.min(c+2655,l);c<f;++c)a+=r+=e[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,t=a},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},Jx=function(i,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),c=new Xr(l.length+i.length);c.set(l),c.set(i,l.length),i=c,a.w=l.length}return $x(i,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,r,a)},y3=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},Zx=function(i,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=r<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var a=g3();a.p(t.dictionary),y3(i,2,a.d())}},tN=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Qa(6,"invalid zlib data"),(i[1]>>5&1)==1&&Qa(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function O0(i,t){t||(t={});var e=g3();e.p(i);var r=Jx(i,t,t.dictionary?6:2,4);return Zx(r,t),y3(r,r.length-4,e.d()),r}function eN(i,t){return Xx(i.subarray(tN(i),-4),{i:2},t,t)}var nN=typeof TextDecoder<"u"&&new TextDecoder,iN=0;try{nN.decode(m3,{stream:!0}),iN=1}catch{}var Me=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function W2(){Me.console&&typeof Me.console.log=="function"&&Me.console.log.apply(Me.console,arguments)}var Yn={log:W2,warn:function(i){Me.console&&(typeof Me.console.warn=="function"?Me.console.warn.apply(Me.console,arguments):W2.call(null,arguments))},error:function(i){Me.console&&(typeof Me.console.error=="function"?Me.console.error.apply(Me.console,arguments):W2(i))}};function $2(i,t,e){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){uc(r.response,t,e)},r.onerror=function(){Yn.error("could not download file")},r.send()}function Sv(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Pf,M0,uc=Me.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==Me?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var r=Me.URL||Me.webkitURL,a=document.createElement("a");t=t||i.name||"download",a.download=t,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?Sv(a.href)?$2(i,t,e):lp(a,a.target="_blank"):lp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){lp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(Sv(i))$2(i,t,e);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){lp(r)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:kn(l)!=="object"&&(Yn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(i,e),t)}:function(i,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return $2(i,t,e);var a=i.type==="application/octet-stream",l=/constructor/i.test(Me.HTMLElement)||Me.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var v=f.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},f.readAsDataURL(i)}else{var p=Me.URL||Me.webkitURL,y=p.createObjectURL(i);r?r.location=y:location.href=y,r=null,setTimeout(function(){p.revokeObjectURL(y)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function v3(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,l=e[r].process,c=a.exec(i);c&&(t=l(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),p=this.g.toString(16),y=this.b.toString(16);return f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),y.length==1&&(y="0"+y),"#"+f+p+y}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function J2(i,t){var e=i[0],r=i[1],a=i[2],l=i[3];e=Fr(e,r,a,l,t[0],7,-680876936),l=Fr(l,e,r,a,t[1],12,-389564586),a=Fr(a,l,e,r,t[2],17,606105819),r=Fr(r,a,l,e,t[3],22,-1044525330),e=Fr(e,r,a,l,t[4],7,-176418897),l=Fr(l,e,r,a,t[5],12,1200080426),a=Fr(a,l,e,r,t[6],17,-1473231341),r=Fr(r,a,l,e,t[7],22,-45705983),e=Fr(e,r,a,l,t[8],7,1770035416),l=Fr(l,e,r,a,t[9],12,-1958414417),a=Fr(a,l,e,r,t[10],17,-42063),r=Fr(r,a,l,e,t[11],22,-1990404162),e=Fr(e,r,a,l,t[12],7,1804603682),l=Fr(l,e,r,a,t[13],12,-40341101),a=Fr(a,l,e,r,t[14],17,-1502002290),e=qr(e,r=Fr(r,a,l,e,t[15],22,1236535329),a,l,t[1],5,-165796510),l=qr(l,e,r,a,t[6],9,-1069501632),a=qr(a,l,e,r,t[11],14,643717713),r=qr(r,a,l,e,t[0],20,-373897302),e=qr(e,r,a,l,t[5],5,-701558691),l=qr(l,e,r,a,t[10],9,38016083),a=qr(a,l,e,r,t[15],14,-660478335),r=qr(r,a,l,e,t[4],20,-405537848),e=qr(e,r,a,l,t[9],5,568446438),l=qr(l,e,r,a,t[14],9,-1019803690),a=qr(a,l,e,r,t[3],14,-187363961),r=qr(r,a,l,e,t[8],20,1163531501),e=qr(e,r,a,l,t[13],5,-1444681467),l=qr(l,e,r,a,t[2],9,-51403784),a=qr(a,l,e,r,t[7],14,1735328473),e=zr(e,r=qr(r,a,l,e,t[12],20,-1926607734),a,l,t[5],4,-378558),l=zr(l,e,r,a,t[8],11,-2022574463),a=zr(a,l,e,r,t[11],16,1839030562),r=zr(r,a,l,e,t[14],23,-35309556),e=zr(e,r,a,l,t[1],4,-1530992060),l=zr(l,e,r,a,t[4],11,1272893353),a=zr(a,l,e,r,t[7],16,-155497632),r=zr(r,a,l,e,t[10],23,-1094730640),e=zr(e,r,a,l,t[13],4,681279174),l=zr(l,e,r,a,t[0],11,-358537222),a=zr(a,l,e,r,t[3],16,-722521979),r=zr(r,a,l,e,t[6],23,76029189),e=zr(e,r,a,l,t[9],4,-640364487),l=zr(l,e,r,a,t[12],11,-421815835),a=zr(a,l,e,r,t[15],16,530742520),e=Hr(e,r=zr(r,a,l,e,t[2],23,-995338651),a,l,t[0],6,-198630844),l=Hr(l,e,r,a,t[7],10,1126891415),a=Hr(a,l,e,r,t[14],15,-1416354905),r=Hr(r,a,l,e,t[5],21,-57434055),e=Hr(e,r,a,l,t[12],6,1700485571),l=Hr(l,e,r,a,t[3],10,-1894986606),a=Hr(a,l,e,r,t[10],15,-1051523),r=Hr(r,a,l,e,t[1],21,-2054922799),e=Hr(e,r,a,l,t[8],6,1873313359),l=Hr(l,e,r,a,t[15],10,-30611744),a=Hr(a,l,e,r,t[6],15,-1560198380),r=Hr(r,a,l,e,t[13],21,1309151649),e=Hr(e,r,a,l,t[4],6,-145523070),l=Hr(l,e,r,a,t[11],10,-1120210379),a=Hr(a,l,e,r,t[2],15,718787259),r=Hr(r,a,l,e,t[9],21,-343485551),i[0]=Eu(e,i[0]),i[1]=Eu(r,i[1]),i[2]=Eu(a,i[2]),i[3]=Eu(l,i[3])}function A1(i,t,e,r,a,l){return t=Eu(Eu(t,i),Eu(r,l)),Eu(t<<a|t>>>32-a,e)}function Fr(i,t,e,r,a,l,c){return A1(t&e|~t&r,i,t,a,l,c)}function qr(i,t,e,r,a,l,c){return A1(t&r|e&~r,i,t,a,l,c)}function zr(i,t,e,r,a,l,c){return A1(t^e^r,i,t,a,l,c)}function Hr(i,t,e,r,a,l,c){return A1(e^(t|~r),i,t,a,l,c)}function _3(i){var t,e=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)J2(r,rN(i.substring(t-64,t)));i=i.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)a[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(J2(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,J2(r,a),r}function rN(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}Pf=Me.atob.bind(Me),M0=Me.btoa.bind(Me);var Ev="0123456789abcdef".split("");function sN(i){for(var t="",e=0;e<4;e++)t+=Ev[i>>8*e+4&15]+Ev[i>>8*e&15];return t}function aN(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function k0(i){return _3(i).map(aN).join("")}var oN=function(i){for(var t=0;t<i.length;t++)i[t]=sN(i[t]);return i.join("")}(_3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eu(i,t){if(oN){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j0(i,t){var e,r,a,l;if(i!==e){for(var c=(a=i,l=1+(256/i.length>>0),new Array(l+1).join(a)),f=[],p=0;p<256;p++)f[p]=p;var y=0;for(p=0;p<256;p++){var v=f[p];y=(y+v+c.charCodeAt(p))%256,f[p]=f[y],f[y]=v}e=i,r=f}else f=r;var E=t.length,T=0,A=0,R="";for(p=0;p<E;p++)A=(A+(v=f[T=(T+1)%256]))%256,f[T]=f[A],f[A]=v,c=f[(f[T]+f[A])%256],R+=String.fromCharCode(t.charCodeAt(p)^c);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tv={print:4,modify:8,copy:16,"annot-forms":32};function ah(i,t,e,r){this.v=1,this.r=2;var a=192;i.forEach(function(f){if(Tv.perm!==void 0)throw new Error("Invalid permission: "+f);a+=Tv[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^a)),this.encryptionKey=k0(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=j0(this.encryptionKey,this.padding)}function oh(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,r=0;r<e;r++){var a=i.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=i[r]}return t}function xv(i){if(kn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var l=Math.random().toString(35);return t[e][l]=[r,!!a],l},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var l in t[e]){var c=t[e][l];try{c[0].apply(i,r)}catch(f){Me.console&&Yn.error("jsPDF PubSub Error",f.message,f)}c[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Kp(i){if(!(this instanceof Kp))return new Kp(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function b3(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function cc(i,t,e,r,a){if(!(this instanceof cc))return new cc(i,t,e,r,a);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,b3.call(this,r,a)}function lh(i,t,e,r,a){if(!(this instanceof lh))return new lh(i,t,e,r,a);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,b3.call(this,r,a)}function Ce(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],l=arguments[3],c=[],f=1,p=16,y="S",v=null;kn(i=i||{})==="object"&&(e=i.orientation,r=i.unit||r,a=i.format||a,l=i.compress||i.compressPdf||l,(v=i.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),f=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(p=i.floatPrecision),y=i.defaultPathOperation||"S"),c=i.filters||(l===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var E=i.putOnlyUsedFonts||!1,T={},A={internal:{},__private__:{}};A.__private__.PubSub=xv;var R="1.3",V=A.__private__.getPdfVersion=function(){return R};A.__private__.setPdfVersion=function(b){R=b};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return H};var j=A.__private__.getPageFormat=function(b){return H[b]};a=a||"a4";var X={COMPAT:"compat",ADVANCED:"advanced"},nt=X.COMPAT;function At(){this.saveGraphicsState(),st(new le(oe,0,0,-oe,0,lr()*oe).toString()+" cm"),this.setFontSize(this.getFontSize()/oe),y="n",nt=X.ADVANCED}function bt(){this.restoreGraphicsState(),y="S",nt=X.COMPAT}var kt=A.__private__.combineFontStyleAndFontWeight=function(b,k){if(b=="bold"&&k=="normal"||b=="bold"&&k==400||b=="normal"&&k=="italic"||b=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(b=k==400||k==="normal"?b==="italic"?"italic":"normal":k!=700&&k!=="bold"||b!=="normal"?(k==700?"bold":k)+""+b:"bold"),b};A.advancedAPI=function(b){var k=nt===X.COMPAT;return k&&At.call(this),typeof b!="function"||(b(this),k&&bt.call(this)),this},A.compatAPI=function(b){var k=nt===X.ADVANCED;return k&&bt.call(this),typeof b!="function"||(b(this),k&&At.call(this)),this},A.isAdvancedAPI=function(){return nt===X.ADVANCED};var W,L=function(b){if(nt!==X.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=A.roundToPrecision=A.__private__.roundToPrecision=function(b,k){var it=t||k;if(isNaN(b)||isNaN(it))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(it).replace(/0+$/,"")};W=A.hpf=A.__private__.hpf=typeof p=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return z(b,p)}:p==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return z(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return z(b,16)};var Z=A.f2=A.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return z(b,2)},I=A.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return z(b,3)},C=A.scale=A.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return nt===X.COMPAT?b*oe:nt===X.ADVANCED?b:void 0},O=function(b){return nt===X.COMPAT?lr()-b:nt===X.ADVANCED?b:void 0},at=function(b){return C(O(b))};A.__private__.setPrecision=A.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var Tt,et="00000000000000000000000000000000",ht=A.__private__.getFileId=function(){return et},ut=A.__private__.setFileId=function(b){return et=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():et.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Dn=new ah(v.userPermissions,v.userPassword,v.ownerPassword,et)),et};A.setFileId=function(b){return ut(b),this},A.getFileId=function(){return ht()};var Nt=A.__private__.convertDateToPDFDate=function(b){var k=b.getTimezoneOffset(),it=k<0?"+":"-",ct=Math.floor(Math.abs(k/60)),vt=Math.abs(k%60),jt=[it,J(ct),"'",J(vt),"'"].join("");return["D:",b.getFullYear(),J(b.getMonth()+1),J(b.getDate()),J(b.getHours()),J(b.getMinutes()),J(b.getSeconds()),jt].join("")},B=A.__private__.convertPDFDateToDate=function(b){var k=parseInt(b.substr(2,4),10),it=parseInt(b.substr(6,2),10)-1,ct=parseInt(b.substr(8,2),10),vt=parseInt(b.substr(10,2),10),jt=parseInt(b.substr(12,2),10),Kt=parseInt(b.substr(14,2),10);return new Date(k,it,ct,vt,jt,Kt,0)},pt=A.__private__.setCreationDate=function(b){var k;if(b===void 0&&(b=new Date),b instanceof Date)k=Nt(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=b}return Tt=k},P=A.__private__.getCreationDate=function(b){var k=Tt;return b==="jsDate"&&(k=B(Tt)),k};A.setCreationDate=function(b){return pt(b),this},A.getCreationDate=function(b){return P(b)};var U,J=A.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},rt=A.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},lt=0,Et=[],St=[],Dt=0,Jt=[],Wt=[],ne=!1,te=St,we=function(){lt=0,Dt=0,St=[],Et=[],Jt=[],mr=ni(),Ui=ni()};A.__private__.setCustomOutputDestination=function(b){ne=!0,te=b};var Vt=function(b){ne||(te=b)};A.__private__.resetCustomOutputDestination=function(){ne=!1,te=St};var st=A.__private__.out=function(b){return b=b.toString(),Dt+=b.length+1,te.push(b),te},Se=A.__private__.write=function(b){return st(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},he=A.__private__.getArrayBuffer=function(b){for(var k=b.length,it=new ArrayBuffer(k),ct=new Uint8Array(it);k--;)ct[k]=b.charCodeAt(k);return it},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return $t};var Zt=i.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(b){return Zt=nt===X.ADVANCED?b/oe:b,this};var se,ae=A.__private__.getFontSize=A.getFontSize=function(){return nt===X.COMPAT?Zt:Zt*oe},ye=i.R2L||!1;A.__private__.setR2L=A.setR2L=function(b){return ye=b,this},A.__private__.getR2L=A.getR2L=function(){return ye};var De,Ue=A.__private__.setZoomMode=function(b){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))se=b;else if(isNaN(b)){if(k.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');se=b}else se=parseInt(b,10)};A.__private__.getZoomMode=function(){return se};var _e,ge=A.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');De=b};A.__private__.getPageMode=function(){return De};var Ge=A.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');_e=b};A.__private__.getLayoutMode=function(){return _e},A.__private__.setDisplayMode=A.setDisplayMode=function(b,k,it){return Ue(b),Ge(k),ge(it),this};var fe={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(b){if(Object.keys(fe).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fe[b]},A.__private__.getDocumentProperties=function(){return fe},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(b){for(var k in fe)fe.hasOwnProperty(k)&&b[k]&&(fe[k]=b[k]);return this},A.__private__.setDocumentProperty=function(b,k){if(Object.keys(fe).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fe[b]=k};var Ye,oe,ti,Xe,Ki,$e={},xn={},ir=[],an={},Ts={},jn={},Ei={},Qi=null,Vn=0,Ee=[],on=new xv(A),Nr=i.hotfixes||[],ei={},Xi={},$r=[],le=function b(k,it,ct,vt,jt,Kt){if(!(this instanceof b))return new b(k,it,ct,vt,jt,Kt);isNaN(k)&&(k=1),isNaN(it)&&(it=0),isNaN(ct)&&(ct=0),isNaN(vt)&&(vt=1),isNaN(jt)&&(jt=0),isNaN(Kt)&&(Kt=0),this._matrix=[k,it,ct,vt,jt,Kt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(b)},le.prototype.multiply=function(b){var k=b.sx*this.sx+b.shy*this.shx,it=b.sx*this.shy+b.shy*this.sy,ct=b.shx*this.sx+b.sy*this.shx,vt=b.shx*this.shy+b.sy*this.sy,jt=b.tx*this.sx+b.ty*this.shx+this.tx,Kt=b.tx*this.shy+b.ty*this.sy+this.ty;return new le(k,it,ct,vt,jt,Kt)},le.prototype.decompose=function(){var b=this.sx,k=this.shy,it=this.shx,ct=this.sy,vt=this.tx,jt=this.ty,Kt=Math.sqrt(b*b+k*k),ie=(b/=Kt)*it+(k/=Kt)*ct;it-=b*ie,ct-=k*ie;var d=Math.sqrt(it*it+ct*ct);return ie/=d,b*(ct/=d)<k*(it/=d)&&(b=-b,k=-k,ie=-ie,Kt=-Kt),{scale:new le(Kt,0,0,d,0,0),translate:new le(1,0,0,1,vt,jt),rotate:new le(b,k,-k,b,0,0),skew:new le(1,0,ie,1,0,0)}},le.prototype.toString=function(b){return this.join(" ")},le.prototype.inversed=function(){var b=this.sx,k=this.shy,it=this.shx,ct=this.sy,vt=this.tx,jt=this.ty,Kt=1/(b*ct-k*it),ie=ct*Kt,d=-k*Kt,S=-it*Kt,N=b*Kt;return new le(ie,d,S,N,-ie*vt-S*jt,-d*vt-N*jt)},le.prototype.applyToPoint=function(b){var k=b.x*this.sx+b.y*this.shx+this.tx,it=b.x*this.shy+b.y*this.sy+this.ty;return new Na(k,it)},le.prototype.applyToRectangle=function(b){var k=this.applyToPoint(b),it=this.applyToPoint(new Na(b.x+b.w,b.y+b.h));return new ao(k.x,k.y,it.x-k.x,it.y-k.y)},le.prototype.clone=function(){var b=this.sx,k=this.shy,it=this.shx,ct=this.sy,vt=this.tx,jt=this.ty;return new le(b,k,it,ct,vt,jt)},A.Matrix=le;var Nn=A.matrixMult=function(b,k){return k.multiply(b)},In=new le(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=In;var Hn=function(b,k){if(!Ts[b]){var it=(k instanceof cc?"Sh":"P")+(Object.keys(an).length+1).toString(10);k.id=it,Ts[b]=it,an[it]=k,on.publish("addPattern",k)}};A.ShadingPattern=cc,A.TilingPattern=lh,A.addShadingPattern=function(b,k){return L("addShadingPattern()"),Hn(b,k),this},A.beginTilingPattern=function(b){L("beginTilingPattern()"),ra(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},A.endTilingPattern=function(b,k){L("endTilingPattern()"),k.stream=Wt[U].join(`
`),Hn(b,k),on.publish("endTilingPattern",k),$r.pop().restore()};var Xn=A.__private__.newObject=function(){var b=ni();return pi(b,!0),b},ni=A.__private__.newObjectDeferred=function(){return lt++,Et[lt]=function(){return Dt},lt},pi=function(b,k){return k=typeof k=="boolean"&&k,Et[b]=Dt,k&&st(b+" 0 obj"),b},ba=A.__private__.newAdditionalObject=function(){var b={objId:ni(),content:""};return Jt.push(b),b},mr=ni(),Ui=ni(),Ti=A.__private__.decodeColorString=function(b){var k=b.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var it=parseFloat(k[0]);k=[it,it,it,"r"]}for(var ct="#",vt=0;vt<3;vt++)ct+=("0"+Math.floor(255*parseFloat(k[vt])).toString(16)).slice(-2);return ct},mi=A.__private__.encodeColorString=function(b){var k;typeof b=="string"&&(b={ch1:b});var it=b.ch1,ct=b.ch2,vt=b.ch3,jt=b.ch4,Kt=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof it=="string"&&it.charAt(0)!=="#"){var ie=new v3(it);if(ie.ok)it=ie.toHex();else if(!/^\d*\.?\d*$/.test(it))throw new Error('Invalid color "'+it+'" passed to jsPDF.encodeColorString.')}if(typeof it=="string"&&/^#[0-9A-Fa-f]{3}$/.test(it)&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),typeof it=="string"&&/^#[0-9A-Fa-f]{6}$/.test(it)){var d=parseInt(it.substr(1),16);it=d>>16&255,ct=d>>8&255,vt=255&d}if(ct===void 0||jt===void 0&&it===ct&&ct===vt)if(typeof it=="string")k=it+" "+Kt[0];else switch(b.precision){case 2:k=Z(it/255)+" "+Kt[0];break;case 3:default:k=I(it/255)+" "+Kt[0]}else if(jt===void 0||kn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return k=["1.","1.","1.",Kt[1]].join(" ");if(typeof it=="string")k=[it,ct,vt,Kt[1]].join(" ");else switch(b.precision){case 2:k=[Z(it/255),Z(ct/255),Z(vt/255),Kt[1]].join(" ");break;default:case 3:k=[I(it/255),I(ct/255),I(vt/255),Kt[1]].join(" ")}}else if(typeof it=="string")k=[it,ct,vt,jt,Kt[2]].join(" ");else switch(b.precision){case 2:k=[Z(it),Z(ct),Z(vt),Z(jt),Kt[2]].join(" ");break;case 3:default:k=[I(it),I(ct),I(vt),I(jt),Kt[2]].join(" ")}return k},xi=A.__private__.getFilters=function(){return c},Un=A.__private__.putStream=function(b){var k=(b=b||{}).data||"",it=b.filters||xi(),ct=b.alreadyAppliedFilters||[],vt=b.addLength1||!1,jt=k.length,Kt=b.objectId,ie=function(Ie){return Ie};if(v!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ie=Dn.encryptor(Kt,0));var d={};it===!0&&(it=["FlateEncode"]);var S=b.additionalKeyValues||[],N=(d=Ce.API.processDataByFilters!==void 0?Ce.API.processDataByFilters(k,it):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(d.data.length!==0&&(S.push({key:"Length",value:d.data.length}),vt===!0&&S.push({key:"Length1",value:jt})),N.length!=0)if(N.split("/").length-1==1)S.push({key:"Filter",value:N});else{S.push({key:"Filter",value:"["+N+"]"});for(var K=0;K<S.length;K+=1)if(S[K].key==="DecodeParms"){for(var yt=[],Ct=0;Ct<d.reverseChain.split("/").length-1;Ct+=1)yt.push("null");yt.push(S[K].value),S[K].value="["+yt.join(" ")+"]"}}st("<<");for(var Xt=0;Xt<S.length;Xt++)st("/"+S[Xt].key+" "+S[Xt].value);st(">>"),d.data.length!==0&&(st("stream"),st(ie(d.data)),st("endstream"))},vn=A.__private__.putPage=function(b){var k=b.number,it=b.data,ct=b.objId,vt=b.contentsObjId;pi(ct,!0),st("<</Type /Page"),st("/Parent "+b.rootDictionaryObjId+" 0 R"),st("/Resources "+b.resourceDictionaryObjId+" 0 R"),st("/MediaBox ["+parseFloat(W(b.mediaBox.bottomLeftX))+" "+parseFloat(W(b.mediaBox.bottomLeftY))+" "+W(b.mediaBox.topRightX)+" "+W(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&st("/CropBox ["+W(b.cropBox.bottomLeftX)+" "+W(b.cropBox.bottomLeftY)+" "+W(b.cropBox.topRightX)+" "+W(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&st("/BleedBox ["+W(b.bleedBox.bottomLeftX)+" "+W(b.bleedBox.bottomLeftY)+" "+W(b.bleedBox.topRightX)+" "+W(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&st("/TrimBox ["+W(b.trimBox.bottomLeftX)+" "+W(b.trimBox.bottomLeftY)+" "+W(b.trimBox.topRightX)+" "+W(b.trimBox.topRightY)+"]"),b.artBox!==null&&st("/ArtBox ["+W(b.artBox.bottomLeftX)+" "+W(b.artBox.bottomLeftY)+" "+W(b.artBox.topRightX)+" "+W(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&st("/UserUnit "+b.userUnit),on.publish("putPage",{objId:ct,pageContext:Ee[k],pageNumber:k,page:it}),st("/Contents "+vt+" 0 R"),st(">>"),st("endobj");var jt=it.join(`
`);return nt===X.ADVANCED&&(jt+=`
Q`),pi(vt,!0),Un({data:jt,filters:xi(),objectId:vt}),st("endobj"),ct},xs=A.__private__.putPages=function(){var b,k,it=[];for(b=1;b<=Vn;b++)Ee[b].objId=ni(),Ee[b].contentsObjId=ni();for(b=1;b<=Vn;b++)it.push(vn({number:b,data:Wt[b],objId:Ee[b].objId,contentsObjId:Ee[b].contentsObjId,mediaBox:Ee[b].mediaBox,cropBox:Ee[b].cropBox,bleedBox:Ee[b].bleedBox,trimBox:Ee[b].trimBox,artBox:Ee[b].artBox,userUnit:Ee[b].userUnit,rootDictionaryObjId:mr,resourceDictionaryObjId:Ui}));pi(mr,!0),st("<</Type /Pages");var ct="/Kids [";for(k=0;k<Vn;k++)ct+=it[k]+" 0 R ";st(ct+"]"),st("/Count "+Vn),st(">>"),st("endobj"),on.publish("postPutPages")},Ns=function(b){on.publish("putFont",{font:b,out:st,newObject:Xn,putStream:Un}),b.isAlreadyPutted!==!0&&(b.objectNumber=Xn(),st("<<"),st("/Type /Font"),st("/BaseFont /"+oh(b.postScriptName)),st("/Subtype /Type1"),typeof b.encoding=="string"&&st("/Encoding /"+b.encoding),st("/FirstChar 32"),st("/LastChar 255"),st(">>"),st("endobj"))},rr=function(){for(var b in $e)$e.hasOwnProperty(b)&&(E===!1||E===!0&&T.hasOwnProperty(b))&&Ns($e[b])},Ir=function(b){b.objectNumber=Xn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[W(b.x),W(b.y),W(b.x+b.width),W(b.y+b.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var it=b.pages[1].join(`
`);Un({data:it,additionalKeyValues:k,objectId:b.objectNumber}),st("endobj")},wa=function(){for(var b in ei)ei.hasOwnProperty(b)&&Ir(ei[b])},Yo=function(b,k){var it,ct=[],vt=1/(k-1);for(it=0;it<1;it+=vt)ct.push(it);if(ct.push(1),b[0].offset!=0){var jt={offset:0,color:b[0].color};b.unshift(jt)}if(b[b.length-1].offset!=1){var Kt={offset:1,color:b[b.length-1].color};b.push(Kt)}for(var ie="",d=0,S=0;S<ct.length;S++){for(it=ct[S];it>b[d+1].offset;)d++;var N=b[d].offset,K=(it-N)/(b[d+1].offset-N),yt=b[d].color,Ct=b[d+1].color;ie+=rt(Math.round((1-K)*yt[0]+K*Ct[0]).toString(16))+rt(Math.round((1-K)*yt[1]+K*Ct[1]).toString(16))+rt(Math.round((1-K)*yt[2]+K*Ct[2]).toString(16))}return ie.trim()},Aa=function(b,k){k||(k=21);var it=Xn(),ct=Yo(b.colors,k),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+k+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Un({data:ct,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:it}),st("endobj"),b.objectNumber=Xn(),st("<< /ShadingType "+b.type),st("/ColorSpace /DeviceRGB");var jt="/Coords ["+W(parseFloat(b.coords[0]))+" "+W(parseFloat(b.coords[1]))+" ";b.type===2?jt+=W(parseFloat(b.coords[2]))+" "+W(parseFloat(b.coords[3])):jt+=W(parseFloat(b.coords[2]))+" "+W(parseFloat(b.coords[3]))+" "+W(parseFloat(b.coords[4]))+" "+W(parseFloat(b.coords[5])),st(jt+="]"),b.matrix&&st("/Matrix ["+b.matrix.toString()+"]"),st("/Function "+it+" 0 R"),st("/Extend [true true]"),st(">>"),st("endobj")},Ol=function(b,k){var it=ni(),ct=Xn();k.push({resourcesOid:it,objectOid:ct}),b.objectNumber=ct;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+b.boundingBox.map(W).join(" ")+"]"}),vt.push({key:"XStep",value:W(b.xStep)}),vt.push({key:"YStep",value:W(b.yStep)}),vt.push({key:"Resources",value:it+" 0 R"}),b.matrix&&vt.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Un({data:b.stream,additionalKeyValues:vt,objectId:b.objectNumber}),st("endobj")},Jr=function(b){var k;for(k in an)an.hasOwnProperty(k)&&(an[k]instanceof cc?Aa(an[k]):an[k]instanceof lh&&Ol(an[k],b))},Zr=function(b){for(var k in b.objectNumber=Xn(),st("<<"),b)switch(k){case"opacity":st("/ca "+Z(b[k]));break;case"stroke-opacity":st("/CA "+Z(b[k]))}st(">>"),st("endobj")},Ni=function(){var b;for(b in jn)jn.hasOwnProperty(b)&&Zr(jn[b])},Is=function(){for(var b in st("/XObject <<"),ei)ei.hasOwnProperty(b)&&ei[b].objectNumber>=0&&st("/"+b+" "+ei[b].objectNumber+" 0 R");on.publish("putXobjectDict"),st(">>")},Ml=function(){Dn.oid=Xn(),st("<<"),st("/Filter /Standard"),st("/V "+Dn.v),st("/R "+Dn.r),st("/U <"+Dn.toHexString(Dn.U)+">"),st("/O <"+Dn.toHexString(Dn.O)+">"),st("/P "+Dn.P),st(">>"),st("endobj")},rs=function(){for(var b in st("/Font <<"),$e)$e.hasOwnProperty(b)&&(E===!1||E===!0&&T.hasOwnProperty(b))&&st("/"+b+" "+$e[b].objectNumber+" 0 R");st(">>")},to=function(){if(Object.keys(an).length>0){for(var b in st("/Shading <<"),an)an.hasOwnProperty(b)&&an[b]instanceof cc&&an[b].objectNumber>=0&&st("/"+b+" "+an[b].objectNumber+" 0 R");on.publish("putShadingPatternDict"),st(">>")}},Rs=function(b){if(Object.keys(an).length>0){for(var k in st("/Pattern <<"),an)an.hasOwnProperty(k)&&an[k]instanceof A.TilingPattern&&an[k].objectNumber>=0&&an[k].objectNumber<b&&st("/"+k+" "+an[k].objectNumber+" 0 R");on.publish("putTilingPatternDict"),st(">>")}},Ko=function(){if(Object.keys(jn).length>0){var b;for(b in st("/ExtGState <<"),jn)jn.hasOwnProperty(b)&&jn[b].objectNumber>=0&&st("/"+b+" "+jn[b].objectNumber+" 0 R");on.publish("putGStateDict"),st(">>")}},Bn=function(b){pi(b.resourcesOid,!0),st("<<"),st("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rs(),to(),Rs(b.objectOid),Ko(),Is(),st(">>"),st("endobj")},Bi=function(){var b=[];rr(),Ni(),wa(),Jr(b),on.publish("putResources"),b.forEach(Bn),Bn({resourcesOid:Ui,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},eo=function(){on.publish("putAdditionalObjects");for(var b=0;b<Jt.length;b++){var k=Jt[b];pi(k.objId,!0),st(k.content),st("endobj")}on.publish("postPutAdditionalObjects")},kl=function(b){xn[b.fontName]=xn[b.fontName]||{},xn[b.fontName][b.fontStyle]=b.id},Xs=function(b,k,it,ct,vt){var jt={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:b,fontName:k,fontStyle:it,encoding:ct,isStandardFont:vt||!1,metadata:{}};return on.publish("addFont",{font:jt,instance:this}),$e[jt.id]=jt,kl(jt),jt.id},Qo=function(b){for(var k=0,it=$t.length;k<it;k++){var ct=Xs.call(this,b[k][0],b[k][1],b[k][2],$t[k][3],!0);E===!1&&(T[ct]=!0);var vt=b[k][0].split("-");kl({id:ct,fontName:vt[0],fontStyle:vt[1]||""})}on.publish("addFonts",{fonts:$e,dictionary:xn})},Wi=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(ct){var k=ct.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var it="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ct.message;if(!Me.console)throw new Error(it);Me.console.error(it,ct),Me.alert&&alert(it)}},b.foo.bar=b,b.foo},no=function(b,k){var it,ct,vt,jt,Kt,ie,d,S,N;if(vt=(k=k||{}).sourceEncoding||"Unicode",Kt=k.outputEncoding,(k.autoencode||Kt)&&$e[Ye].metadata&&$e[Ye].metadata[vt]&&$e[Ye].metadata[vt].encoding&&(jt=$e[Ye].metadata[vt].encoding,!Kt&&$e[Ye].encoding&&(Kt=$e[Ye].encoding),!Kt&&jt.codePages&&(Kt=jt.codePages[0]),typeof Kt=="string"&&(Kt=jt[Kt]),Kt)){for(d=!1,ie=[],it=0,ct=b.length;it<ct;it++)(S=Kt[b.charCodeAt(it)])?ie.push(String.fromCharCode(S)):ie.push(b[it]),ie[it].charCodeAt(0)>>8&&(d=!0);b=ie.join("")}for(it=b.length;d===void 0&&it!==0;)b.charCodeAt(it-1)>>8&&(d=!0),it--;if(!d)return b;for(ie=k.noBOM?[]:[254,255],it=0,ct=b.length;it<ct;it++){if((N=(S=b.charCodeAt(it))>>8)>>8)throw new Error("Character at position "+it+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ie.push(N),ie.push(S-(N<<8))}return String.fromCharCode.apply(void 0,ie)},hn=A.__private__.pdfEscape=A.pdfEscape=function(b,k){return no(b,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$i=A.__private__.beginPage=function(b){Wt[++Vn]=[],Ee[Vn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ss(Vn),Vt(Wt[U])},Ws=function(b,k){var it,ct,vt;switch(e=k||e,typeof b=="string"&&(it=j(b.toLowerCase()),Array.isArray(it)&&(ct=it[0],vt=it[1])),Array.isArray(b)&&(ct=b[0]*oe,vt=b[1]*oe),isNaN(ct)&&(ct=a[0],vt=a[1]),(ct>14400||vt>14400)&&(Yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),vt=Math.min(14400,vt)),a=[ct,vt],e.substr(0,1)){case"l":vt>ct&&(a=[vt,ct]);break;case"p":ct>vt&&(a=[vt,ct])}$i(a),Jo(ta),st(Ji),Zo!==0&&st(Zo+" J"),xa!==0&&st(xa+" j"),on.publish("addPage",{pageNumber:Vn})},$s=function(b){b>0&&b<=Vn&&(Wt.splice(b,1),Ee.splice(b,1),Vn--,U>Vn&&(U=Vn),this.setPage(U))},ss=function(b){b>0&&b<=Vn&&(U=b)},_n=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Wt.length-1},Js=function(b,k,it){var ct,vt=void 0;return it=it||{},b=b!==void 0?b:$e[Ye].fontName,k=k!==void 0?k:$e[Ye].fontStyle,ct=b.toLowerCase(),xn[ct]!==void 0&&xn[ct][k]!==void 0?vt=xn[ct][k]:xn[b]!==void 0&&xn[b][k]!==void 0?vt=xn[b][k]:it.disableWarning===!1&&Yn.warn("Unable to look up font label for font '"+b+"', '"+k+"'. Refer to getFontList() for available fonts."),vt||it.noFallback||(vt=xn.times[k])==null&&(vt=xn.times.normal),vt},Rr=A.__private__.putInfo=function(){var b=Xn(),k=function(ct){return ct};for(var it in v!==null&&(k=Dn.encryptor(b,0)),st("<<"),st("/Producer ("+hn(k("jsPDF "+Ce.version))+")"),fe)fe.hasOwnProperty(it)&&fe[it]&&st("/"+it.substr(0,1).toUpperCase()+it.substr(1)+" ("+hn(k(fe[it]))+")");st("/CreationDate ("+hn(k(Tt))+")"),st(">>"),st("endobj")},Cs=A.__private__.putCatalog=function(b){var k=(b=b||{}).rootDictionaryObjId||mr;switch(Xn(),st("<<"),st("/Type /Catalog"),st("/Pages "+k+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":st("/OpenAction [3 0 R /FitH null]");break;case"fullheight":st("/OpenAction [3 0 R /FitV null]");break;case"fullpage":st("/OpenAction [3 0 R /Fit]");break;case"original":st("/OpenAction [3 0 R /XYZ null null 1]");break;default:var it=""+se;it.substr(it.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&st("/OpenAction [3 0 R /XYZ null null "+Z(se)+"]")}switch(_e||(_e="continuous"),_e){case"continuous":st("/PageLayout /OneColumn");break;case"single":st("/PageLayout /SinglePage");break;case"two":case"twoleft":st("/PageLayout /TwoColumnLeft");break;case"tworight":st("/PageLayout /TwoColumnRight")}De&&st("/PageMode /"+De),on.publish("putCatalog"),st(">>"),st("endobj")},jl=A.__private__.putTrailer=function(){st("trailer"),st("<<"),st("/Size "+(lt+1)),st("/Root "+lt+" 0 R"),st("/Info "+(lt-1)+" 0 R"),v!==null&&st("/Encrypt "+Dn.oid+" 0 R"),st("/ID [ <"+et+"> <"+et+"> ]"),st(">>")},Xo=A.__private__.putHeader=function(){st("%PDF-"+R),st("%")},Wo=A.__private__.putXRef=function(){var b="0000000000";st("xref"),st("0 "+(lt+1)),st("0000000000 65535 f ");for(var k=1;k<=lt;k++)typeof Et[k]=="function"?st((b+Et[k]()).slice(-10)+" 00000 n "):Et[k]!==void 0?st((b+Et[k]).slice(-10)+" 00000 n "):st("0000000000 00000 n ")},Ls=A.__private__.buildDocument=function(){we(),Vt(St),on.publish("buildDocument"),Xo(),xs(),eo(),Bi(),v!==null&&Ml(),Rr(),Cs();var b=Dt;return Wo(),jl(),st("startxref"),st(""+b),st("%%EOF"),Vt(Wt[U]),St.join(`
`)},io=A.__private__.getBlob=function(b){return new Blob([he(b)],{type:"application/pdf"})},Ds=A.output=A.__private__.output=Wi(function(b,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",b){case void 0:return Ls();case"save":A.save(k.filename);break;case"arraybuffer":return he(Ls());case"blob":return io(Ls());case"bloburi":case"bloburl":if(Me.URL!==void 0&&typeof Me.URL.createObjectURL=="function")return Me.URL&&Me.URL.createObjectURL(io(Ls()))||void 0;Yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var it="",ct=Ls();try{it=M0(ct)}catch{it=M0(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+k.filename+";base64,"+it;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(vt=k.pdfObjectUrl,jt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",ie=Me.open();return ie!==null&&ie.document.write(Kt),ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',S=Me.open();if(S!==null){S.document.write(d);var N=this;S.document.documentElement.querySelector("#pdfViewer").onload=function(){S.document.title=k.filename,S.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(N.output("bloburl"))}}return S}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Me)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var K='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',yt=Me.open();if(yt!==null&&(yt.document.write(K),yt.document.title=k.filename),yt||typeof safari>"u")return yt;break;case"datauri":case"dataurl":return Me.document.location.href=this.output("datauristring",k);default:return null}}),as=function(b){return Array.isArray(Nr)===!0&&Nr.indexOf(b)>-1};switch(r){case"pt":oe=1;break;case"mm":oe=72/25.4;break;case"cm":oe=72/2.54;break;case"in":oe=72;break;case"px":oe=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":oe=12;break;case"ex":oe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);oe=r}var Dn=null;pt(),ut();var Ps=function(b){return v!==null?Dn.encryptor(b,0):function(k){return k}},os=A.__private__.getPageInfo=A.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[b].objId,pageNumber:b,pageContext:Ee[b]}},Ne=A.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in Ee)if(Ee[k].objId===b)break;return os(k)},ls=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Ee[U].objId,pageNumber:U,pageContext:Ee[U]}};A.addPage=function(){return Ws.apply(this,arguments),this},A.setPage=function(){return ss.apply(this,arguments),Vt.call(this,Wt[U]),this},A.insertPage=function(b){return this.addPage(),this.movePage(U,b),this},A.movePage=function(b,k){var it,ct;if(b>k){it=Wt[b],ct=Ee[b];for(var vt=b;vt>k;vt--)Wt[vt]=Wt[vt-1],Ee[vt]=Ee[vt-1];Wt[k]=it,Ee[k]=ct,this.setPage(k)}else if(b<k){it=Wt[b],ct=Ee[b];for(var jt=b;jt<k;jt++)Wt[jt]=Wt[jt+1],Ee[jt]=Ee[jt+1];Wt[k]=it,Ee[k]=ct,this.setPage(k)}return this},A.deletePage=function(){return $s.apply(this,arguments),this},A.__private__.text=A.text=function(b,k,it,ct,vt){var jt,Kt,ie,d,S,N,K,yt,Ct,Xt=(ct=ct||{}).scope||this;if(typeof b=="number"&&typeof k=="number"&&(typeof it=="string"||Array.isArray(it))){var Ie=it;it=k,k=b,b=Ie}if(arguments[3]instanceof le?(L("The transform parameter of text() with a Matrix value"),Ct=vt):(ie=arguments[4],d=arguments[5],kn(K=arguments[3])==="object"&&K!==null||(typeof ie=="string"&&(d=ie,ie=null),typeof K=="string"&&(d=K,K=null),typeof K=="number"&&(ie=K,K=null),ct={flags:K,angle:ie,align:d})),isNaN(k)||isNaN(it)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Xt;var en="",Be=!1,bn=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:tn,Rn=Xt.internal.scaleFactor;function fs(Je){return Je=Je.split("	").join(Array(ct.TabLen||9).join(" ")),hn(Je,K)}function li(Je){for(var Ze,Fn=Je.concat(),ui=[],ps=Fn.length;ps--;)typeof(Ze=Fn.shift())=="string"?ui.push(Ze):Array.isArray(Je)&&(Ze.length===1||Ze[1]===void 0&&Ze[2]===void 0)?ui.push(Ze[0]):ui.push([Ze[0],Ze[1],Ze[2]]);return ui}function Pr(Je,Ze){var Fn;if(typeof Je=="string")Fn=Ze(Je)[0];else if(Array.isArray(Je)){for(var ui,ps,vo=Je.concat(),_o=[],Da=vo.length;Da--;)typeof(ui=vo.shift())=="string"?_o.push(Ze(ui)[0]):Array.isArray(ui)&&typeof ui[0]=="string"&&(ps=Ze(ui[0],ui[1],ui[2]),_o.push([ps[0],ps[1],ps[2]]));Fn=_o}return Fn}var aa=!1,lo=!0;if(typeof b=="string")aa=!0;else if(Array.isArray(b)){var Fl=b.concat();Kt=[];for(var tl,Ii=Fl.length;Ii--;)(typeof(tl=Fl.shift())!="string"||Array.isArray(tl)&&typeof tl[0]!="string")&&(lo=!1);aa=lo}if(aa===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var uo=Zt/Xt.internal.scaleFactor,el=uo*(bn-1);switch(ct.baseline){case"bottom":it-=el;break;case"top":it+=uo-el;break;case"hanging":it+=uo-2*el;break;case"middle":it+=uo/2-el}if((N=ct.maxWidth||0)>0&&(typeof b=="string"?b=Xt.splitTextToSize(b,N):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Je,Ze){return Je.concat(Xt.splitTextToSize(Ze,N))},[]))),jt={text:b,x:k,y:it,options:ct,mutex:{pdfEscape:hn,activeFontKey:Ye,fonts:$e,activeFontSize:Zt}},on.publish("preProcessText",jt),b=jt.text,ie=(ct=jt.options).angle,!(Ct instanceof le)&&ie&&typeof ie=="number"){ie*=Math.PI/180,ct.rotationDirection===0&&(ie=-ie),nt===X.ADVANCED&&(ie=-ie);var nl=Math.cos(ie),ql=Math.sin(ie);Ct=new le(nl,ql,-ql,nl,0,0)}else ie&&ie instanceof le&&(Ct=ie);nt!==X.ADVANCED||Ct||(Ct=In),(S=ct.charSpace||Ta)!==void 0&&(en+=W(C(S))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yt=ct.horizontalScale)!==void 0&&(en+=W(100*yt)+` Tz
`),ct.lang;var Or=-1,Oh=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,Bu=Xt.internal.getCurrentPageInfo().pageContext;switch(Oh){case 0:case!1:case"fill":Or=0;break;case 1:case!0:case"stroke":Or=1;break;case 2:case"fillThenStroke":Or=2;break;case 3:case"invisible":Or=3;break;case 4:case"fillAndAddForClipping":Or=4;break;case 5:case"strokeAndAddPathForClipping":Or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Or=6;break;case 7:case"addToPathForClipping":Or=7}var Tc=Bu.usedRenderingMode!==void 0?Bu.usedRenderingMode:-1;Or!==-1?en+=Or+` Tr
`:Tc!==-1&&(en+=`0 Tr
`),Or!==-1&&(Bu.usedRenderingMode=Or),d=ct.align||"left";var ds,Fi=Zt*bn,co=Xt.internal.pageSize.getWidth(),Fu=$e[Ye];S=ct.charSpace||Ta,N=ct.maxWidth||0,K=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var Ca=[],ho=function(Je){return Xt.getStringUnitWidth(Je,{font:Fu,charSpace:S,fontSize:Zt,doKerning:!1})*Zt/Rn};if(Object.prototype.toString.call(b)==="[object Array]"){var yr;Kt=li(b),d!=="left"&&(ds=Kt.map(ho));var Zi,fo=0;if(d==="right"){k-=ds[0],b=[],Ii=Kt.length;for(var Mr=0;Mr<Ii;Mr++)Mr===0?(Zi=or(k),yr=yi(it)):(Zi=C(fo-ds[Mr]),yr=-Fi),b.push([Kt[Mr],Zi,yr]),fo=ds[Mr]}else if(d==="center"){k-=ds[0]/2,b=[],Ii=Kt.length;for(var js=0;js<Ii;js++)js===0?(Zi=or(k),yr=yi(it)):(Zi=C((fo-ds[js])/2),yr=-Fi),b.push([Kt[js],Zi,yr]),fo=ds[js]}else if(d==="left"){b=[],Ii=Kt.length;for(var oa=0;oa<Ii;oa++)b.push(Kt[oa])}else if(d==="justify"&&Fu.encoding==="Identity-H"){b=[],Ii=Kt.length,N=N!==0?N:co;for(var Vs=0,ii=0;ii<Ii;ii++)if(yr=ii===0?yi(it):-Fi,Zi=ii===0?or(k):Vs,ii<Ii-1){var Us=C((N-ds[ii])/(Kt[ii].split(" ").length-1)),vi=Kt[ii].split(" ");b.push([vi[0]+" ",Zi,yr]),Vs=0;for(var kr=1;kr<vi.length;kr++){var il=(ho(vi[kr-1]+" "+vi[kr])-ho(vi[kr]))*Rn+Us;kr==vi.length-1?b.push([vi[kr],il,0]):b.push([vi[kr]+" ",il,0]),Vs-=il}}else b.push([Kt[ii],Zi,yr]);b.push(["",Vs,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Ii=Kt.length,N=N!==0?N:co,ii=0;ii<Ii;ii++)yr=ii===0?yi(it):-Fi,Zi=ii===0?or(k):0,ii<Ii-1?Ca.push(W(C((N-ds[ii])/(Kt[ii].split(" ").length-1)))):Ca.push(0),b.push([Kt[ii],Zi,yr])}}var la=typeof ct.R2L=="boolean"?ct.R2L:ye;la===!0&&(b=Pr(b,function(Je,Ze,Fn){return[Je.split("").reverse().join(""),Ze,Fn]})),jt={text:b,x:k,y:it,options:ct,mutex:{pdfEscape:hn,activeFontKey:Ye,fonts:$e,activeFontSize:Zt}},on.publish("postProcessText",jt),b=jt.text,Be=jt.mutex.isHex||!1;var zl=$e[Ye].encoding;zl!=="WinAnsiEncoding"&&zl!=="StandardEncoding"||(b=Pr(b,function(Je,Ze,Fn){return[fs(Je),Ze,Fn]})),Kt=li(b),b=[];for(var po,mo,go,rl=0,Hl=1,yo=Array.isArray(Kt[0])?Hl:rl,La="",sl=function(Je,Ze,Fn){var ui="";return Fn instanceof le?(Fn=typeof ct.angle=="number"?Nn(Fn,new le(1,0,0,1,Je,Ze)):Nn(new le(1,0,0,1,Je,Ze),Fn),nt===X.ADVANCED&&(Fn=Nn(new le(1,0,0,-1,0,0),Fn)),ui=Fn.join(" ")+` Tm
`):ui=W(Je)+" "+W(Ze)+` Td
`,ui},ri=0;ri<Kt.length;ri++){switch(La="",yo){case Hl:go=(Be?"<":"(")+Kt[ri][0]+(Be?">":")"),po=parseFloat(Kt[ri][1]),mo=parseFloat(Kt[ri][2]);break;case rl:go=(Be?"<":"(")+Kt[ri]+(Be?">":")"),po=or(k),mo=yi(it)}Ca!==void 0&&Ca[ri]!==void 0&&(La=Ca[ri]+` Tw
`),ri===0?b.push(La+sl(po,mo,Ct)+go):yo===rl?b.push(La+go):yo===Hl&&b.push(La+sl(po,mo,Ct)+go)}b=yo===rl?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var es=`BT
/`;return es+=Ye+" "+Zt+` Tf
`,es+=W(Zt*bn)+` TL
`,es+=Ms+`
`,es+=en,es+=b,st(es+="ET"),T[Ye]=!0,Xt};var Vl=A.__private__.clip=A.clip=function(b){return st(b==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Vl("evenodd")},A.__private__.discardPath=A.discardPath=function(){return st("n"),this};var sr=A.__private__.isValidStyle=function(b){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(k=!0),k};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(b){return sr(b)&&(y=b),this};var Cr=A.__private__.getStyle=A.getStyle=function(b){var k=y;switch(b){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=b}return k},gr=A.close=function(){return st("h"),this};A.stroke=function(){return st("S"),this},A.fill=function(b){return us("f",b),this},A.fillEvenOdd=function(b){return us("f*",b),this},A.fillStroke=function(b){return us("B",b),this},A.fillStrokeEvenOdd=function(b){return us("B*",b),this};var us=function(b,k){kn(k)==="object"?Os(k,b):st(b)},Lr=function(b){b===null||nt===X.ADVANCED&&b===void 0||(b=Cr(b),st(b))};function Zs(b,k,it,ct,vt){var jt=new lh(k||this.boundingBox,it||this.xStep,ct||this.yStep,this.gState,vt||this.matrix);jt.stream=this.stream;var Kt=b+"$$"+this.cloneIndex+++"$$";return Hn(Kt,jt),jt}var Os=function(b,k){var it=Ts[b.key],ct=an[it];if(ct instanceof cc)st("q"),st($o(k)),ct.gState&&A.setGState(ct.gState),st(b.matrix.toString()+" cm"),st("/"+it+" sh"),st("Q");else if(ct instanceof lh){var vt=new le(1,0,0,-1,0,lr());b.matrix&&(vt=vt.multiply(b.matrix||In),it=Zs.call(ct,b.key,b.boundingBox,b.xStep,b.yStep,vt).id),st("q"),st("/Pattern cs"),st("/"+it+" scn"),ct.gState&&A.setGState(ct.gState),st(k),st("Q")}},$o=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Dr=A.moveTo=function(b,k){return st(W(C(b))+" "+W(at(k))+" m"),this},ar=A.lineTo=function(b,k){return st(W(C(b))+" "+W(at(k))+" l"),this},cs=A.curveTo=function(b,k,it,ct,vt,jt){return st([W(C(b)),W(at(k)),W(C(it)),W(at(ct)),W(C(vt)),W(at(jt)),"c"].join(" ")),this};A.__private__.line=A.line=function(b,k,it,ct,vt){if(isNaN(b)||isNaN(k)||isNaN(it)||isNaN(ct)||!sr(vt))throw new Error("Invalid arguments passed to jsPDF.line");return nt===X.COMPAT?this.lines([[it-b,ct-k]],b,k,[1,1],vt||"S"):this.lines([[it-b,ct-k]],b,k,[1,1]).stroke()},A.__private__.lines=A.lines=function(b,k,it,ct,vt,jt){var Kt,ie,d,S,N,K,yt,Ct,Xt,Ie,en,Be;if(typeof b=="number"&&(Be=it,it=k,k=b,b=Be),ct=ct||[1,1],jt=jt||!1,isNaN(k)||isNaN(it)||!Array.isArray(b)||!Array.isArray(ct)||!sr(vt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dr(k,it),Kt=ct[0],ie=ct[1],S=b.length,Ie=k,en=it,d=0;d<S;d++)(N=b[d]).length===2?(Ie=N[0]*Kt+Ie,en=N[1]*ie+en,ar(Ie,en)):(K=N[0]*Kt+Ie,yt=N[1]*ie+en,Ct=N[2]*Kt+Ie,Xt=N[3]*ie+en,Ie=N[4]*Kt+Ie,en=N[5]*ie+en,cs(K,yt,Ct,Xt,Ie,en));return jt&&gr(),Lr(vt),this},A.path=function(b){for(var k=0;k<b.length;k++){var it=b[k],ct=it.c;switch(it.op){case"m":Dr(ct[0],ct[1]);break;case"l":ar(ct[0],ct[1]);break;case"c":cs.apply(this,ct);break;case"h":gr()}}return this},A.__private__.rect=A.rect=function(b,k,it,ct,vt){if(isNaN(b)||isNaN(k)||isNaN(it)||isNaN(ct)||!sr(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return nt===X.COMPAT&&(ct=-ct),st([W(C(b)),W(at(k)),W(C(it)),W(C(ct)),"re"].join(" ")),Lr(vt),this},A.__private__.triangle=A.triangle=function(b,k,it,ct,vt,jt,Kt){if(isNaN(b)||isNaN(k)||isNaN(it)||isNaN(ct)||isNaN(vt)||isNaN(jt)||!sr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[it-b,ct-k],[vt-it,jt-ct],[b-vt,k-jt]],b,k,[1,1],Kt,!0),this},A.__private__.roundedRect=A.roundedRect=function(b,k,it,ct,vt,jt,Kt){if(isNaN(b)||isNaN(k)||isNaN(it)||isNaN(ct)||isNaN(vt)||isNaN(jt)||!sr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ie=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*it),jt=Math.min(jt,.5*ct),this.lines([[it-2*vt,0],[vt*ie,0,vt,jt-jt*ie,vt,jt],[0,ct-2*jt],[0,jt*ie,-vt*ie,jt,-vt,jt],[2*vt-it,0],[-vt*ie,0,-vt,-jt*ie,-vt,-jt],[0,2*jt-ct],[0,-jt*ie,vt*ie,-jt,vt,-jt]],b+vt,k,[1,1],Kt,!0),this},A.__private__.ellipse=A.ellipse=function(b,k,it,ct,vt){if(isNaN(b)||isNaN(k)||isNaN(it)||isNaN(ct)||!sr(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*it,Kt=4/3*(Math.SQRT2-1)*ct;return Dr(b+it,k),cs(b+it,k-Kt,b+jt,k-ct,b,k-ct),cs(b-jt,k-ct,b-it,k-Kt,b-it,k),cs(b-it,k+Kt,b-jt,k+ct,b,k+ct),cs(b+jt,k+ct,b+it,k+Kt,b+it,k),Lr(vt),this},A.__private__.circle=A.circle=function(b,k,it,ct){if(isNaN(b)||isNaN(k)||isNaN(it)||!sr(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,k,it,it,ct)},A.setFont=function(b,k,it){return it&&(k=kt(k,it)),Ye=Js(b,k,{disableWarning:!1}),this};var gi=A.__private__.getFont=A.getFont=function(){return $e[Js.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var b,k,it={};for(b in xn)if(xn.hasOwnProperty(b))for(k in it[b]=[],xn[b])xn[b].hasOwnProperty(k)&&it[b].push(k);return it},A.addFont=function(b,k,it,ct,vt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?vt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(it=kt(it,ct)),vt=vt||"Identity-H",Xs.call(this,b,k,it,vt)};var tn,ta=i.lineWidth||.200025,hs=A.__private__.getLineWidth=A.getLineWidth=function(){return ta},Jo=A.__private__.setLineWidth=A.setLineWidth=function(b){return ta=b,st(W(C(b))+" w"),this};A.__private__.setLineDash=Ce.API.setLineDash=Ce.API.setLineDashPattern=function(b,k){if(b=b||[],k=k||0,isNaN(k)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(it){return W(C(it))}).join(" "),k=W(C(k)),st("["+b+"] "+k+" d"),this};var Sa=A.__private__.getLineHeight=A.getLineHeight=function(){return Zt*tn};A.__private__.getLineHeight=A.getLineHeight=function(){return Zt*tn};var Ea=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(tn=b),this},ts=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return tn};Ea(i.lineHeight);var or=A.__private__.getHorizontalCoordinate=function(b){return C(b)},yi=A.__private__.getVerticalCoordinate=function(b){return nt===X.ADVANCED?b:Ee[U].mediaBox.topRightY-Ee[U].mediaBox.bottomLeftY-C(b)},Ul=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(b){return W(or(b))},ea=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(b){return W(yi(b))},Ji=i.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Ti(Ji)},A.__private__.setStrokeColor=A.setDrawColor=function(b,k,it,ct){return Ji=mi({ch1:b,ch2:k,ch3:it,ch4:ct,pdfColorType:"draw",precision:2}),st(Ji),this};var na=i.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Ti(na)},A.__private__.setFillColor=A.setFillColor=function(b,k,it,ct){return na=mi({ch1:b,ch2:k,ch3:it,ch4:ct,pdfColorType:"fill",precision:2}),st(na),this};var Ms=i.textColor||"0 g",ro=A.__private__.getTextColor=A.getTextColor=function(){return Ti(Ms)};A.__private__.setTextColor=A.setTextColor=function(b,k,it,ct){return Ms=mi({ch1:b,ch2:k,ch3:it,ch4:ct,pdfColorType:"text",precision:3}),this};var Ta=i.charSpace,so=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Ta||0)};A.__private__.setCharSpace=A.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ta=b,this};var Zo=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(b){var k=A.CapJoinStyles[b];if(k===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zo=k,st(k+" J"),this};var xa=0;A.__private__.setLineJoin=A.setLineJoin=function(b){var k=A.CapJoinStyles[b];if(k===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xa=k,st(k+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return st(W(C(b))+" M"),this},A.GState=Kp,A.setGState=function(b){(b=typeof b=="string"?jn[Ei[b]]:ia(null,b)).equals(Qi)||(st("/"+b.id+" gs"),Qi=b)};var ia=function(b,k){if(!b||!Ei[b]){var it=!1;for(var ct in jn)if(jn.hasOwnProperty(ct)&&jn[ct].equals(k)){it=!0;break}if(it)k=jn[ct];else{var vt="GS"+(Object.keys(jn).length+1).toString(10);jn[vt]=k,k.id=vt}return b&&(Ei[b]=k.id),on.publish("addGState",k),k}};A.addGState=function(b,k){return ia(b,k),this},A.saveGraphicsState=function(){return st("q"),ir.push({key:Ye,size:Zt,color:Ms}),this},A.restoreGraphicsState=function(){st("Q");var b=ir.pop();return Ye=b.key,Zt=b.size,Ms=b.color,Qi=null,this},A.setCurrentTransformationMatrix=function(b){return st(b.toString()+" cm"),this},A.comment=function(b){return st("#"+b),this};var Na=function(b,k){var it=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return it},set:function(jt){isNaN(jt)||(it=parseFloat(jt))}});var ct=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(jt){isNaN(jt)||(ct=parseFloat(jt))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(jt){vt=jt.toString()}}),this},ao=function(b,k,it,ct){Na.call(this,b,k),this.type="rect";var vt=it||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function(Kt){isNaN(Kt)||(vt=parseFloat(Kt))}});var jt=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Kt){isNaN(Kt)||(jt=parseFloat(Kt))}}),this},Ia=function(){this.page=Vn,this.currentPage=U,this.pages=Wt.slice(0),this.pagesContext=Ee.slice(0),this.x=ti,this.y=Xe,this.matrix=Ki,this.width=sa(U),this.height=lr(U),this.outputDestination=te,this.id="",this.objectNumber=-1};Ia.prototype.restore=function(){Vn=this.page,U=this.currentPage,Ee=this.pagesContext,Wt=this.pages,ti=this.x,Xe=this.y,Ki=this.matrix,Ra(U,this.width),oo(U,this.height),te=this.outputDestination};var ra=function(b,k,it,ct,vt){$r.push(new Ia),Vn=U=0,Wt=[],ti=b,Xe=k,Ki=vt,$i([it,ct])},Bl=function(b){if(Xi[b])$r.pop().restore();else{var k=new Ia,it="Xo"+(Object.keys(ei).length+1).toString(10);k.id=it,Xi[b]=it,ei[it]=k,on.publish("addFormObject",k),$r.pop().restore()}};for(var ks in A.beginFormObject=function(b,k,it,ct,vt){return ra(b,k,it,ct,vt),this},A.endFormObject=function(b){return Bl(b),this},A.doFormObject=function(b,k){var it=ei[Xi[b]];return st("q"),st(k.toString()+" cm"),st("/"+it.id+" Do"),st("Q"),this},A.getFormObject=function(b){var k=ei[Xi[b]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},A.save=function(b,k){return b=b||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(uc(io(Ls()),b),typeof uc.unload=="function"&&Me.setTimeout&&setTimeout(uc.unload,911),this):new Promise(function(it,ct){try{var vt=uc(io(Ls()),b);typeof uc.unload=="function"&&Me.setTimeout&&setTimeout(uc.unload,911),it(vt)}catch(jt){ct(jt.message)}})},Ce.API)Ce.API.hasOwnProperty(ks)&&(ks==="events"&&Ce.API.events.length?function(b,k){var it,ct,vt;for(vt=k.length-1;vt!==-1;vt--)it=k[vt][0],ct=k[vt][1],b.subscribe.apply(b,[it].concat(typeof ct=="function"?[ct]:ct))}(on,Ce.API.events):A[ks]=Ce.API[ks]);var sa=A.getPageWidth=function(b){return(Ee[b=b||U].mediaBox.topRightX-Ee[b].mediaBox.bottomLeftX)/oe},Ra=A.setPageWidth=function(b,k){Ee[b].mediaBox.topRightX=k*oe+Ee[b].mediaBox.bottomLeftX},lr=A.getPageHeight=function(b){return(Ee[b=b||U].mediaBox.topRightY-Ee[b].mediaBox.bottomLeftY)/oe},oo=A.setPageHeight=function(b,k){Ee[b].mediaBox.topRightY=k*oe+Ee[b].mediaBox.bottomLeftY};return A.internal={pdfEscape:hn,getStyle:Cr,getFont:gi,getFontSize:ae,getCharSpace:so,getTextColor:ro,getLineHeight:Sa,getLineHeightFactor:ts,getLineWidth:hs,write:Se,getHorizontalCoordinate:or,getVerticalCoordinate:yi,getCoordinateString:Ul,getVerticalCoordinateString:ea,collections:{},newObject:Xn,newAdditionalObject:ba,newObjectDeferred:ni,newObjectDeferredBegin:pi,getFilters:xi,putStream:Un,events:on,scaleFactor:oe,pageSize:{getWidth:function(){return sa(U)},setWidth:function(b){Ra(U,b)},getHeight:function(){return lr(U)},setHeight:function(b){oo(U,b)}},encryptionOptions:v,encryption:Dn,getEncryptor:Ps,output:Ds,getNumberOfPages:_n,pages:Wt,out:st,f2:Z,f3:I,getPageInfo:os,getPageInfoByObjId:Ne,getCurrentPageInfo:ls,getPDFVersion:V,Point:Na,Rectangle:ao,Matrix:le,hasHotfix:as},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return sa(U)},set:function(b){Ra(U,b)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return lr(U)},set:function(b){oo(U,b)},enumerable:!0,configurable:!0}),Qo.call(A,$t),Ye="F1",Ws(a,e),on.publish("initialized"),A}ah.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},ah.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ah.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},ah.prototype.processOwnerPassword=function(i,t){return j0(k0(t).substr(0,5),i)},ah.prototype.encryptor=function(i,t){var e=k0(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return j0(e,r)}},Kp.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||kn(i)!==kn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;r++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Ce.API={events:[]},Ce.version="3.0.1";var Ai=Ce.API,Um=1,Ec=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},th=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ze=function(i){return i.toFixed(2)},vu=function(i){return i.toFixed(5)};Ai.__acroform__={};var Es=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},Nv=function(i){return i*Um},Do=function(i){var t=new A3,e=pe.internal.getHeight(i)||0,r=pe.internal.getWidth(i)||0;return t.BBox=[0,0,Number(ze(r)),Number(ze(e))],t},lN=Ai.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},uN=Ai.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},cN=Ai.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(i&1<<t)==0?0:1},Mi=Ai.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cN(i,t-1)},ki=Ai.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lN(i,t-1)},ji=Ai.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uN(i,t-1)},hN=Ai.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=i[0],l=i[1],c=i[2],f=i[3],p={};return p.lowerLeft_X=e(a)||0,p.lowerLeft_Y=r(l+f)||0,p.upperRight_X=e(a+c)||0,p.upperRight_Y=r(l)||0,[Number(ze(p.lowerLeft_X)),Number(ze(p.lowerLeft_Y)),Number(ze(p.upperRight_X)),Number(ze(p.upperRight_Y))]},fN=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,r=V0(i,e),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+a+" "+ze(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=Do(i);return l.scope=i.scope,l.stream=t.join(`
`),l}},V0=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=i.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var l=e,c=pe.internal.getHeight(i)||0;c=c<0?-c:c;var f=pe.internal.getWidth(i)||0;f=f<0?-f:f;var p=function(I,C,O){if(I+1<a.length){var at=C+" "+a[I+1][0];return up(at,i,O).width<=f-4}return!1};l++;t:for(;l>0;){t="",l--;var y,v,E=up("3",i,l).height,T=i.multiline?c-l:(c-E)/2,A=T+=2,R=0,V=0,H=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+up(t,i,l=12).width+", FieldWidth:"+f+`
`;break}for(var j="",X=0,nt=0;nt<a.length;nt++)if(a.hasOwnProperty(nt)){var At=!1;if(a[nt].length!==1&&H!==a[nt].length-1){if((E+2)*(X+2)+2>c)continue t;j+=a[nt][H],At=!0,V=nt,nt--}else{j=(j+=a[nt][H]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var bt=parseInt(nt),kt=p(bt,j,l),W=nt>=a.length-1;if(kt&&!W){j+=" ",H=0;continue}if(kt||W){if(W)V=bt;else if(i.multiline&&(E+2)*(X+2)+2>c)continue t}else{if(!i.multiline||(E+2)*(X+2)+2>c)continue t;V=bt}}for(var L="",z=R;z<=V;z++){var Z=a[z];if(i.multiline){if(z===V){L+=Z[H]+" ",H=(H+1)%Z.length;continue}if(z===R){L+=Z[Z.length-1]+" ";continue}}L+=Z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,v=up(L,i,l).width,i.textAlign){case"right":y=f-v-2;break;case"center":y=(f-v)/2;break;case"left":default:y=2}t+=ze(y)+" "+ze(A)+` Td
`,t+="("+Ec(L)+`) Tj
`,t+=-ze(y)+` 0 Td
`,A=-(l+2),v=0,R=At?V:V+1,X++,j=""}break}return r.text=t,r.fontSize=l,r},up=function(i,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},dN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pN=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},mN=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var r=e,a=i[e];t.internal.newObjectDeferredBegin(a.objId,!0),kn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete i[r]}},gN=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Ja.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(dN)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new S3,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];l.objId=void 0,l.hasAnnotation&&pN(l,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(r,a){var l=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var f=r[c],p=[],y=f.Rect;if(f.Rect&&(f.Rect=hN(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=pe.createDefaultAppearanceStream(f),kn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(p=f.getKeyValueListForStream()),f.Rect=y,f.hasAppearanceStream&&!f.appearanceStreamContent){var v=fN(f);p.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(f.appearanceStreamContent){var E="";for(var T in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(T)){var A=f.appearanceStreamContent[T];if(E+="/"+T+" ",E+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var c in A)if(A.hasOwnProperty(c)){var R=A[c];typeof R=="function"&&(R=R.call(a,f)),E+="/"+c+" "+R+" ",a.internal.acroformPlugin.xForms.indexOf(R)>=0||a.internal.acroformPlugin.xForms.push(R)}}else typeof(R=A)=="function"&&(R=R.call(a,f)),E+="/"+c+" "+R,a.internal.acroformPlugin.xForms.indexOf(R)>=0||a.internal.acroformPlugin.xForms.push(R);E+=">>"}p.push({key:"AP",value:`<<
`+E+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:f.objId}),a.internal.out("endobj")}l&&mN(a.internal.acroformPlugin.xForms,a)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},w3=Ai.__acroform__.arrayToPdfArray=function(i,t,e){var r=function(c){return c};if(Array.isArray(i)){for(var a="[",l=0;l<i.length;l++)switch(l!==0&&(a+=" "),kn(i[l])){case"boolean":case"number":case"object":a+=i[l].toString();break;case"string":i[l].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+Ec(r(i[l].toString()))+")"):a+=i[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Z2=function(i,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+Ec(r(i))+")"},Mo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mo.prototype.toString=function(){return this.objId+" 0 R"},Mo.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Mo.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:w3(a,this.objId,this.scope)}):a instanceof Mo?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var A3=function(){Mo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Es(A3,Mo);var S3=function(){Mo.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Ec(e(i))+")"}},set:function(e){i=e}})};Es(S3,Mo);var Ja=function i(){Mo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mi(t,3)},set:function(j){j?this.F=ki(t,3):this.F=ji(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');e=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Qp)return;l="FieldObject"+i.FieldNum++}var j=function(X){return X};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Ec(j(l))+")"},set:function(j){l=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(j){l=j}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(j){p=j}});var y=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return y===void 0?50/Um:y},set:function(j){y=j}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){v=j}});var E="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!E||this instanceof Qp||this instanceof gc))return Z2(E,this.objId,this.scope)},set:function(j){j=j.toString(),E=j}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof pr?T:Z2(T,this.objId,this.scope)},set:function(j){j=j.toString(),T=this instanceof pr?j:j.substr(0,1)==="("?th(j.substr(1,j.length-2)):th(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?th(T.substr(1,T.length-1)):T},set:function(j){j=j.toString(),T=this instanceof pr?"/"+j:j}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof pr?A:Z2(A,this.objId,this.scope)},set:function(j){j=j.toString(),A=this instanceof pr?j:j.substr(0,1)==="("?th(j.substr(1,j.length-2)):th(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?th(A.substr(1,A.length-1)):A},set:function(j){j=j.toString(),A=this instanceof pr?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(j){j=!!j,V=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(j){R=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,1)},set:function(j){j?this.Ff=ki(this.Ff,1):this.Ff=ji(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,2)},set:function(j){j?this.Ff=ki(this.Ff,2):this.Ff=ji(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,3)},set:function(j){j?this.Ff=ki(this.Ff,3):this.Ff=ji(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(H!==null)return H},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');H=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(H){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:H=2;break;case"center":case 1:H=1;break;case"left":case 0:default:H=0}}})};Es(Ja,Mo);var ph=function(){Ja.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return w3(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=function(l,c,f){f||(f=1);for(var p,y=[];p=c.exec(l);)y.push(p[f]);return y}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,18)},set:function(e){e?this.Ff=ki(this.Ff,18):this.Ff=ji(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ki(this.Ff,19):this.Ff=ji(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,20)},set:function(e){e?(this.Ff=ki(this.Ff,20),t.sort()):this.Ff=ji(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,22)},set:function(e){e?this.Ff=ki(this.Ff,22):this.Ff=ji(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(e){e?this.Ff=ki(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,27)},set:function(e){e?this.Ff=ki(this.Ff,27):this.Ff=ji(this.Ff,27)}}),this.hasAppearanceStream=!1};Es(ph,Ja);var mh=function(){ph.call(this),this.fontName="helvetica",this.combo=!1};Es(mh,ph);var gh=function(){mh.call(this),this.combo=!0};Es(gh,mh);var Ap=function(){gh.call(this),this.edit=!0};Es(Ap,gh);var pr=function(){Ja.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,15)},set:function(e){e?this.Ff=ki(this.Ff,15):this.Ff=ji(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,16)},set:function(e){e?this.Ff=ki(this.Ff,16):this.Ff=ji(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,17)},set:function(e){e?this.Ff=ki(this.Ff,17):this.Ff=ji(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(e){e?this.Ff=ki(this.Ff,26):this.Ff=ji(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(l){return l};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Ec(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){kn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};Es(pr,Ja);var Sp=function(){pr.call(this),this.pushButton=!0};Es(Sp,pr);var yh=function(){pr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Es(yh,pr);var Qp=function(){var i,t;Ja.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),r)c.push("/"+l+" ("+Ec(a(r[l]))+")");return c.push(">>"),c.join(`
`)},set:function(a){kn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Es(Qp,Ja),yh.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},yh.prototype.createOption=function(i){var t=new Qp;return t.Parent=this,t.optionName=i,this.Kids.push(t),yN.call(this.scope,t),t};var Ep=function(){pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};Es(Ep,pr);var gc=function(){Ja.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,13)},set:function(t){t?this.Ff=ki(this.Ff,13):this.Ff=ji(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,21)},set:function(t){t?this.Ff=ki(this.Ff,21):this.Ff=ji(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(t){t?this.Ff=ki(this.Ff,23):this.Ff=ji(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,24)},set:function(t){t?this.Ff=ki(this.Ff,24):this.Ff=ji(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,25)},set:function(t){t?this.Ff=ki(this.Ff,25):this.Ff=ji(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(t){t?this.Ff=ki(this.Ff,26):this.Ff=ji(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Es(gc,Ja);var Tp=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,14)},set:function(i){i?this.Ff=ki(this.Ff,14):this.Ff=ji(this.Ff,14)}}),this.password=!0};Es(Tp,gc);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),l=V0(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+ze(l.fontSize)+" Tf "+a),e.push("BT"),e.push(l.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Do(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],l=pe.internal.getHeight(i),c=pe.internal.getWidth(i),f=V0(i,i.caption);return a.push("1 g"),a.push("0 0 "+ze(c)+" "+ze(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ze(c-1)+" "+ze(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+ze(f.fontSize)+" Tf "+r),a.push(f.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Circle.YesNormal,t.D[i]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Do(i);t.scope=i.scope;var e=[],r=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=pe.internal.Bezier_C,l=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+vu(pe.internal.getWidth(i)/2)+" "+vu(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),e.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),e.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),e.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=[],r=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*pe.internal.Bezier_C).toFixed(5)),c=Number((r*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(pe.internal.getWidth(i)/2)+" "+vu(pe.internal.getHeight(i)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),e.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),e.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),e.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+vu(pe.internal.getWidth(i)/2)+" "+vu(pe.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=[],r=pe.internal.getWidth(i)<=pe.internal.getHeight(i)?pe.internal.getWidth(i)/4:pe.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vu(pe.internal.getWidth(i)/2)+" "+vu(pe.internal.getHeight(i)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),e.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),e.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),e.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=pe.RadioButton.Cross.YesNormal,t.D[i]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Do(i);t.scope=i.scope;var e=[],r=pe.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+ze(pe.internal.getWidth(i)-2)+" "+ze(pe.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(ze(r.x1.x)+" "+ze(r.x1.y)+" m"),e.push(ze(r.x2.x)+" "+ze(r.x2.y)+" l"),e.push(ze(r.x4.x)+" "+ze(r.x4.y)+" m"),e.push(ze(r.x3.x)+" "+ze(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=pe.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ze(pe.internal.getWidth(i)-2)+" "+ze(pe.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(ze(e.x1.x)+" "+ze(e.x1.y)+" m"),r.push(ze(e.x2.x)+" "+ze(e.x2.y)+" l"),r.push(ze(e.x4.x)+" "+ze(e.x4.y)+" m"),r.push(ze(e.x3.x)+" "+ze(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Do(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(pe.internal.getWidth(i))+" "+ze(pe.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=pe.internal.getWidth(i),e=pe.internal.getHeight(i),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},pe.internal.getWidth=function(i){var t=0;return kn(i)==="object"&&(t=Nv(i.Rect[2])),t},pe.internal.getHeight=function(i){var t=0;return kn(i)==="object"&&(t=Nv(i.Rect[3])),t};var yN=Ai.addField=function(i){if(gN(this,i),!(i instanceof Ja))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=ph,Ai.AcroFormListBox=mh,Ai.AcroFormComboBox=gh,Ai.AcroFormEditBox=Ap,Ai.AcroFormButton=pr,Ai.AcroFormPushButton=Sp,Ai.AcroFormRadioButton=yh,Ai.AcroFormCheckBox=Ep,Ai.AcroFormTextField=gc,Ai.AcroFormPasswordField=Tp,Ai.AcroFormAppearance=pe,Ai.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:Ap,Button:pr,PushButton:Sp,RadioButton:yh,CheckBox:Ep,TextField:gc,PasswordField:Tp,Appearance:pe},Ce.AcroForm={ChoiceField:ph,ListBox:mh,ComboBox:gh,EditBox:Ap,Button:pr,PushButton:Sp,RadioButton:yh,CheckBox:Ep,TextField:gc,PasswordField:Tp,Appearance:pe};Ce.AcroForm;function E3(i){return i.reduce(function(t,e,r){return t[e]=r,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(I,C){var O,at,Tt,et,ht,ut=t;if((C=C||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(kt(I))for(ht in e)for(Tt=e[ht],O=0;O<Tt.length;O+=1){for(et=!0,at=0;at<Tt[O].length;at+=1)if(Tt[O][at]!==void 0&&Tt[O][at]!==I[at]){et=!1;break}if(et===!0){ut=ht;break}}else for(ht in e)for(Tt=e[ht],O=0;O<Tt.length;O+=1){for(et=!0,at=0;at<Tt[O].length;at+=1)if(Tt[O][at]!==void 0&&Tt[O][at]!==I.charCodeAt(at)){et=!1;break}if(et===!0){ut=ht;break}}return ut===t&&C!==t&&(ut=C),ut},a=function I(C){for(var O=this.internal.write,at=this.internal.putStream,Tt=(0,this.internal.getFilters)();Tt.indexOf("FlateEncode")!==-1;)Tt.splice(Tt.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var et=[];if(et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Image"}),et.push({key:"Width",value:C.width}),et.push({key:"Height",value:C.height}),C.colorSpace===H.INDEXED?et.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(et.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===H.DEVICE_CMYK&&et.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),et.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&et.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ht="",ut=0,Nt=C.transparency.length;ut<Nt;ut++)ht+=C.transparency[ut]+" "+C.transparency[ut]+" ";et.push({key:"Mask",value:"["+ht+"]"})}C.sMask!==void 0&&et.push({key:"SMask",value:C.objectId+1+" 0 R"});var B=C.filter!==void 0?["/"+C.filter]:void 0;if(at({data:C.data,additionalKeyValues:et,alreadyAppliedFilters:B,objectId:C.objectId}),O("endobj"),"sMask"in C&&C.sMask!==void 0){var pt="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,P={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:pt,data:C.sMask};"filter"in C&&(P.filter=C.filter),I.call(this,P)}if(C.colorSpace===H.INDEXED){var U=this.internal.newObject();at({data:L(new Uint8Array(C.palette)),objectId:U}),O("endobj")}},l=function(){var I=this.internal.collections.addImage_images;for(var C in I)a.call(this,I[C])},c=function(){var I,C=this.internal.collections.addImage_images,O=this.internal.write;for(var at in C)O("/I"+(I=C[at]).index,I.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var I=this.internal.collections.addImage_images;return f.call(this),I},y=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(I){return typeof i["process"+I.toUpperCase()]=="function"},E=function(I){return kn(I)==="object"&&I.nodeType===1},T=function(I,C){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var O=""+I.getAttribute("src");if(O.indexOf("data:image/")===0)return Pf(unescape(O).split("base64,").pop());var at=i.loadFile(O,!0);if(at!==void 0)return at}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Tt;switch(C){case"PNG":Tt="image/png";break;case"WEBP":Tt="image/webp";break;case"JPEG":case"JPG":default:Tt="image/jpeg"}return Pf(I.toDataURL(Tt,1).split("base64,").pop())}},A=function(I){var C=this.internal.collections.addImage_images;if(C){for(var O in C)if(I===C[O].alias)return C[O]}},R=function(I,C,O){return I||C||(I=-96,C=-96),I<0&&(I=-1*O.width*72/I/this.internal.scaleFactor),C<0&&(C=-1*O.height*72/C/this.internal.scaleFactor),I===0&&(I=C*O.width/O.height),C===0&&(C=I*O.height/O.width),[I,C]},V=function(I,C,O,at,Tt,et){var ht=R.call(this,O,at,Tt),ut=this.internal.getCoordinateString,Nt=this.internal.getVerticalCoordinateString,B=p.call(this);if(O=ht[0],at=ht[1],B[Tt.index]=Tt,et){et*=Math.PI/180;var pt=Math.cos(et),P=Math.sin(et),U=function(rt){return rt.toFixed(4)},J=[U(pt),U(P),U(-1*P),U(pt),0,0,"cm"]}this.internal.write("q"),et?(this.internal.write([1,"0","0",1,ut(I),Nt(C+at),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ut(O),"0","0",ut(at),"0","0","cm"].join(" "))):this.internal.write([ut(O),"0","0",ut(at),ut(I),Nt(C+at),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tt.index+" Do"),this.internal.write("Q")},H=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},X=i.__addimage__.sHashCode=function(I){var C,O,at=0;if(typeof I=="string")for(O=I.length,C=0;C<O;C++)at=(at<<5)-at+I.charCodeAt(C),at|=0;else if(kt(I))for(O=I.byteLength/2,C=0;C<O;C++)at=(at<<5)-at+I[C],at|=0;return at},nt=i.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var C=!0;return I.length===0&&(C=!1),I.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(C=!1),C},At=i.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var C=I.indexOf(",");return C<0?null:I.substring(0,C).trim().endsWith("base64")?I.substring(C+1):null},bt=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(I){return bt()&&I instanceof ArrayBuffer};var kt=i.__addimage__.isArrayBufferView=function(I){return bt()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},W=i.__addimage__.binaryStringToUint8Array=function(I){for(var C=I.length,O=new Uint8Array(C),at=0;at<C;at++)O[at]=I.charCodeAt(at);return O},L=i.__addimage__.arrayBufferToBinaryString=function(I){for(var C="",O=kt(I)?I:new Uint8Array(I),at=0;at<O.length;at+=8192)C+=String.fromCharCode.apply(null,O.subarray(at,at+8192));return C};i.addImage=function(){var I,C,O,at,Tt,et,ht,ut,Nt;if(typeof arguments[1]=="number"?(C=t,O=arguments[1],at=arguments[2],Tt=arguments[3],et=arguments[4],ht=arguments[5],ut=arguments[6],Nt=arguments[7]):(C=arguments[1],O=arguments[2],at=arguments[3],Tt=arguments[4],et=arguments[5],ht=arguments[6],ut=arguments[7],Nt=arguments[8]),kn(I=arguments[0])==="object"&&!E(I)&&"imageData"in I){var B=I;I=B.imageData,C=B.format||C||t,O=B.x||O||0,at=B.y||at||0,Tt=B.w||B.width||Tt,et=B.h||B.height||et,ht=B.alias||ht,ut=B.compression||ut,Nt=B.rotation||B.angle||Nt}var pt=this.internal.getFilters();if(ut===void 0&&pt.indexOf("FlateEncode")!==-1&&(ut="SLOW"),isNaN(O)||isNaN(at))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var P=z.call(this,I,C,ht,ut);return V.call(this,O,at,Tt,et,P,Nt),this};var z=function(I,C,O,at){var Tt,et,ht;if(typeof I=="string"&&r(I)===t){I=unescape(I);var ut=Z(I,!1);(ut!==""||(ut=i.loadFile(I,!0))!==void 0)&&(I=ut)}if(E(I)&&(I=T(I,C)),C=r(I,C),!v(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ht=O)==null||ht.length===0)&&(O=function(Nt){return typeof Nt=="string"||kt(Nt)?X(Nt):kt(Nt.data)?X(Nt.data):null}(I)),(Tt=A.call(this,O))||(bt()&&(I instanceof Uint8Array||C==="RGBA"||(et=I,I=W(I))),Tt=this["process"+C.toUpperCase()](I,y.call(this),O,function(Nt){return Nt&&typeof Nt=="string"&&(Nt=Nt.toUpperCase()),Nt in i.image_compression?Nt:j.NONE}(at),et)),!Tt)throw new Error("An unknown error occurred whilst processing the image.");return Tt},Z=i.__addimage__.convertBase64ToBinaryString=function(I,C){C=typeof C!="boolean"||C;var O,at="";if(typeof I=="string"){var Tt;O=(Tt=At(I))!==null&&Tt!==void 0?Tt:I;try{at=Pf(O)}catch(et){if(C)throw nt(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+et.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return at};i.getImageProperties=function(I){var C,O,at="";if(E(I)&&(I=T(I)),typeof I=="string"&&r(I)===t&&((at=Z(I,!1))===""&&(at=i.loadFile(I)||""),I=at),O=r(I),!v(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!bt()||I instanceof Uint8Array||(I=W(I)),!(C=this["process"+O.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=O,C}})(Ce.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Ce.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var r,a,l,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(e.objId),y=e.pageContext.annotations,v=!1,E=0;E<y.length&&!v;E++)switch((r=y[E]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var T=0;T<y.length;T++){r=y[T];var A=this.internal.pdfEscape,R=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(V.objId),X=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+f(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+f(r.bounds.y)+"] ")+"/Contents ("+A(j(r.contents))+")",l+=" /Popup "+H.objId+" 0 R",l+=" /P "+p.objId+" 0 R",l+=" /T ("+A(j(X))+") >>",V.content=l;var nt=V.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+f(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+f(r.bounds.y)+"] ")+" /Parent "+nt,r.open&&(l+=" /Open true"),l+=" >>",H.content=l,this.internal.write(V.objId,"0 R",H.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+f(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+f(r.bounds.y+r.bounds.h)+"] ";var At=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+A(R(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+At+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var bt=this.annotations._nameMap[r.options.name];r.options.pageNumber=bt.page,r.options.top=bt.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+A(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var kt=f(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+kt+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},i.link=function(e,r,a,l,c){var f=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:p(e),y:y(r),w:p(e+a),h:y(r+l)},options:c,type:"link"})},i.textWithLink=function(e,r,a,l){var c,f,p=this.getTextWidth(e),y=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){f=l.maxWidth;var v=this.splitTextToSize(e,f).length;c=Math.ceil(y*v)}else f=p,c=y;return this.text(e,r,a,l),a+=.2*y,l.align==="center"&&(r-=p/2),l.align==="right"&&(r-=p),this.link(r,a-y,f,c,l),p},i.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(Ce.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var l=i.__arabicParser__.isInArabicSubstitutionA=function(V){return t[V.charCodeAt(0)]!==void 0},c=i.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},f=i.__arabicParser__.isArabicEndLetter=function(V){return c(V)&&l(V)&&t[V.charCodeAt(0)].length<=2},p=i.__arabicParser__.isArabicAlfLetter=function(V){return c(V)&&a.indexOf(V.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return c(V)&&l(V)&&t[V.charCodeAt(0)].length>=1};var y=i.__arabicParser__.arabicLetterHasFinalForm=function(V){return c(V)&&l(V)&&t[V.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(V){return c(V)&&l(V)&&t[V.charCodeAt(0)].length>=3};var v=i.__arabicParser__.arabicLetterHasMedialForm=function(V){return c(V)&&l(V)&&t[V.charCodeAt(0)].length==4},E=i.__arabicParser__.resolveLigatures=function(V){var H=0,j=e,X="",nt=0;for(H=0;H<V.length;H+=1)j[V.charCodeAt(H)]!==void 0?(nt++,typeof(j=j[V.charCodeAt(H)])=="number"&&(X+=String.fromCharCode(j),j=e,nt=0),H===V.length-1&&(j=e,X+=V.charAt(H-(nt-1)),H-=nt-1,nt=0)):(j=e,X+=V.charAt(H-nt),H-=nt,nt=0);return X};i.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&r[V.charCodeAt(0)]!==void 0};var T=i.__arabicParser__.getCorrectForm=function(V,H,j){return c(V)?l(V)===!1?-1:!y(V)||!c(H)&&!c(j)||!c(j)&&f(H)||f(V)&&!c(H)||f(V)&&p(H)||f(V)&&f(H)?0:v(V)&&c(H)&&!f(H)&&c(j)&&y(j)?3:f(V)||!c(j)?1:2:-1},A=function(V){var H=0,j=0,X=0,nt="",At="",bt="",kt=(V=V||"").split("\\s+"),W=[];for(H=0;H<kt.length;H+=1){for(W.push(""),j=0;j<kt[H].length;j+=1)nt=kt[H][j],At=kt[H][j-1],bt=kt[H][j+1],c(nt)?(X=T(nt,At,bt),W[H]+=X!==-1?String.fromCharCode(t[nt.charCodeAt(0)][X]):nt):W[H]+=nt;W[H]=E(W[H])}return W.join(" ")},R=i.__arabicParser__.processArabic=i.processArabic=function(){var V,H=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(H)){var X=0;for(j=[],X=0;X<H.length;X+=1)Array.isArray(H[X])?j.push([A(H[X][0]),H[X][1],H[X][2]]):j.push([A(H[X])]);V=j}else V=A(H);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};i.events.push(["preProcessText",R])}(Ce.API),Ce.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(f){e=f}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(f){r=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(f){l=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ce.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(V){p=V}});var y=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return y},set:function(V){y=V}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(V){v=V}});var E=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return E},set:function(V){E=V}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(V){T=V}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(V){A=V}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(V){R=V}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(p){return r.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},i.getTextDimensions=function(p,y){r.call(this);var v=(y=y||{}).fontSize||this.getFontSize(),E=y.font||this.getFont(),T=y.scaleFactor||this.internal.scaleFactor,A=0,R=0,V=0,H=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var j=y.maxWidth;j>0?typeof p=="string"?p=this.splitTextToSize(p,j):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(nt,At){return nt.concat(H.splitTextToSize(At,j))},[])):p=Array.isArray(p)?p:[p];for(var X=0;X<p.length;X++)A<(V=this.getStringUnitWidth(p[X],{font:E})*v)&&(A=V);return A!==0&&(R=p.length),{w:A/=T,h:Math.max((R*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/T,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var p=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=i.cell=function(){var p;p=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var y=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,E=this.internal.__cell__.margins||t,T=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return y.lineNumber!==void 0&&(y.lineNumber===p.lineNumber?(p.x=(y.x||0)+(y.width||0),p.y=y.y||0):y.y+y.height+p.height+E.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=E.top,A&&T&&(this.printHeaderRow(p.lineNumber,!0),p.y+=T[0].height)):p.y=y.y+y.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,e===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-v,p.y+v,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+v,{align:"center",baseline:"top",maxWidth:p.width-v-v}):this.text(p.text,p.x+v,p.y+v,{align:"left",baseline:"top",maxWidth:p.width-v-v})),this.internal.__cell__.lastCell=p,this};i.table=function(p,y,v,E,T){if(r.call(this),!v)throw new Error("No data for PDF table.");var A,R,V,H,j=[],X=[],nt=[],At={},bt={},kt=[],W=[],L=(T=T||{}).autoSize||!1,z=T.printHeaders!==!1,Z=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,I=T.margins||Object.assign({width:this.getPageWidth()},t),C=typeof T.padding=="number"?T.padding:3,O=T.headerBackgroundColor||"#c8c8c8",at=T.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=at,this.setFontSize(Z),E==null)X=j=Object.keys(v[0]),nt=j.map(function(){return"left"});else if(Array.isArray(E)&&kn(E[0])==="object")for(j=E.map(function(B){return B.name}),X=E.map(function(B){return B.prompt||B.name||""}),nt=E.map(function(B){return B.align||"left"}),A=0;A<E.length;A+=1)bt[E[A].name]=E[A].width*(19.049976/25.4);else Array.isArray(E)&&typeof E[0]=="string"&&(X=j=E,nt=j.map(function(){return"left"}));if(L||Array.isArray(E)&&typeof E[0]=="string")for(A=0;A<j.length;A+=1){for(At[H=j[A]]=v.map(function(B){return B[H]}),this.setFont(void 0,"bold"),kt.push(this.getTextDimensions(X[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=At[H],this.setFont(void 0,"normal"),V=0;V<R.length;V+=1)kt.push(this.getTextDimensions(R[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);bt[H]=Math.max.apply(null,kt)+C+C,kt=[]}if(z){var Tt={};for(A=0;A<j.length;A+=1)Tt[j[A]]={},Tt[j[A]].text=X[A],Tt[j[A]].align=nt[A];var et=f.call(this,Tt,bt);W=j.map(function(B){return new l(p,y,bt[B],et,Tt[B].text,void 0,Tt[B].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ht=E.reduce(function(B,pt){return B[pt.name]=pt.align,B},{});for(A=0;A<v.length;A+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:A,data:v[A]},this);var ut=f.call(this,v[A],bt);for(V=0;V<j.length;V+=1){var Nt=v[A][j[V]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:A,col:V,data:Nt},this),c.call(this,new l(p,y,bt[j[V]],ut,Nt,A+2,ht[j[V]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=y,this};var f=function(p,y){var v=this.internal.__cell__.padding,E=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(p).map(function(A){var R=p[A];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,y[A]-v-v)},this).map(function(A){return this.getLineHeightFactor()*A.length*E/T+v+v},this).reduce(function(A,R){return Math.max(A,R)},0)};i.setTableHeaderRow=function(p){r.call(this),this.internal.__cell__.tableHeaderRow=p},i.printHeaderRow=function(p,y){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var E=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(E[0],E[1],E[2],E[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){v=this.internal.__cell__.tableHeaderRow[A].clone(),y&&(v.y=this.internal.__cell__.margins.top||0,T.push(v)),v.lineNumber=p;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(R)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),e=!1}}(Ce.API);var T3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},x3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U0=E3(x3),N3=[100,200,300,400,500,600,700,800,900],vN=E3(N3);function B0(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(l){return T3[l=l||"normal"]?l:"normal"}(i.style),r=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(i.weight),a=function(l){return typeof U0[l=l||"normal"]=="number"?l:"normal"}(i.stretch);return{family:t,style:e,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:t,style:[a,e,r].join(" ")}}}function Iv(i,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(i[t[a]])return i[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(i[t[a]])return i[t[a]]}var _N={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cv(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function bN(i,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},_N,e.genericFontFamilies||{}),l=null,c=null,f=0;f<t.length;++f)if(a[(l=B0(t[f])).family]&&(l.family=a[l.family]),i.hasOwnProperty(l.family)){c=i[l.family];break}if(!(c=c||i[r]))throw new Error("Could not find a font-family for the rule '"+Cv(l)+"' and default family '"+r+"'.");if(c=function(p,y){if(y[p])return y[p];var v=U0[p],E=v<=U0.normal?-1:1,T=Iv(y,x3,v,E);if(!T)throw new Error("Could not find a matching font-stretch value for "+p);return T}(l.stretch,c),c=function(p,y){if(y[p])return y[p];for(var v=T3[p],E=0;E<v.length;++E)if(y[v[E]])return y[v[E]];throw new Error("Could not find a matching font-style for "+p)}(l.style,c),!(c=function(p,y){if(y[p])return y[p];if(p===400&&y[500])return y[500];if(p===500&&y[400])return y[400];var v=vN[p],E=Iv(y,N3,v,p<400?-1:1);if(!E)throw new Error("Could not find a matching font-weight for value "+p);return E}(l.weight,c)))throw new Error("Failed to resolve a font for the rule '"+Cv(l)+"'.");return c}function Lv(i){return i.trimLeft()}function wN(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function AN(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var cp,Dv,Pv,t0=["times"];(function(i){var t,e,r,a,l,c,f,p,y,v=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new p,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new E(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,p=this.internal.Matrix,y=new v}]);var E=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=P;Object.defineProperty(this,"pdf",{get:function(){return U}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Vt){J=!!Vt}});var rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return rt},set:function(Vt){rt=!!Vt}});var lt=0;Object.defineProperty(this,"posX",{get:function(){return lt},set:function(Vt){isNaN(Vt)||(lt=Vt)}});var Et=0;Object.defineProperty(this,"posY",{get:function(){return Et},set:function(Vt){isNaN(Vt)||(Et=Vt)}}),Object.defineProperty(this,"margin",{get:function(){return y.margin},set:function(Vt){var st;typeof Vt=="number"?st=[Vt,Vt,Vt,Vt]:((st=new Array(4))[0]=Vt[0],st[1]=Vt.length>=2?Vt[1]:st[0],st[2]=Vt.length>=3?Vt[2]:st[0],st[3]=Vt.length>=4?Vt[3]:st[1]),y.margin=st}});var St=!1;Object.defineProperty(this,"autoPaging",{get:function(){return St},set:function(Vt){St=Vt}});var Dt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Dt},set:function(Vt){Dt=Vt}});var Jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jt},set:function(Vt){Jt=Vt}}),Object.defineProperty(this,"ctx",{get:function(){return y},set:function(Vt){Vt instanceof v&&(y=Vt)}}),Object.defineProperty(this,"path",{get:function(){return y.path},set:function(Vt){y.path=Vt}});var Wt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wt},set:function(Vt){Wt=Vt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Vt){var st;st=T(Vt),this.ctx.fillStyle=st.style,this.ctx.isFillTransparent=st.a===0,this.ctx.fillOpacity=st.a,this.pdf.setFillColor(st.r,st.g,st.b,{a:st.a}),this.pdf.setTextColor(st.r,st.g,st.b,{a:st.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Vt){var st=T(Vt);this.ctx.strokeStyle=st.style,this.ctx.isStrokeTransparent=st.a===0,this.ctx.strokeOpacity=st.a,st.a===0?this.pdf.setDrawColor(255,255,255):(st.a,this.pdf.setDrawColor(st.r,st.g,st.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Vt){["butt","round","square"].indexOf(Vt)!==-1&&(this.ctx.lineCap=Vt,this.pdf.setLineCap(Vt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Vt){isNaN(Vt)||(this.ctx.lineWidth=Vt,this.pdf.setLineWidth(Vt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Vt){["bevel","round","miter"].indexOf(Vt)!==-1&&(this.ctx.lineJoin=Vt,this.pdf.setLineJoin(Vt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Vt){isNaN(Vt)||(this.ctx.miterLimit=Vt,this.pdf.setMiterLimit(Vt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Vt){this.ctx.textBaseline=Vt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Vt){["right","end","center","left","start"].indexOf(Vt)!==-1&&(this.ctx.textAlign=Vt)}});var ne=null;function te(Vt,st){if(ne===null){var Se=function(he){var $t=[];return Object.keys(he).forEach(function(Zt){he[Zt].forEach(function(se){var ae=null;switch(se){case"bold":ae={family:Zt,weight:"bold"};break;case"italic":ae={family:Zt,style:"italic"};break;case"bolditalic":ae={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ae={family:Zt}}ae!==null&&(ae.ref={name:Zt,style:se},$t.push(ae))})}),$t}(Vt.getFontList());ne=function(he){for(var $t={},Zt=0;Zt<he.length;++Zt){var se=B0(he[Zt]),ae=se.family,ye=se.stretch,De=se.style,Ue=se.weight;$t[ae]=$t[ae]||{},$t[ae][ye]=$t[ae][ye]||{},$t[ae][ye][De]=$t[ae][ye][De]||{},$t[ae][ye][De][Ue]=se}return $t}(Se.concat(st))}return ne}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(Vt){ne=null,we=Vt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Vt){var st;if(this.ctx.font=Vt,(st=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Vt))!==null){var Se=st[1];st[2];var he=st[3],$t=st[4];st[5];var Zt=st[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(se==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:se==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var ae=function(fe){var Ye,oe,ti=[],Xe=fe.trim();if(Xe==="")return t0;if(Xe in Rv)return[Rv[Xe]];for(;Xe!=="";){switch(oe=null,Ye=(Xe=Lv(Xe)).charAt(0)){case'"':case"'":oe=wN(Xe.substring(1),Ye);break;default:oe=AN(Xe)}if(oe===null||(ti.push(oe[0]),(Xe=Lv(oe[1]))!==""&&Xe.charAt(0)!==","))return t0;Xe=Xe.replace(/^,/,"")}return ti}(Zt);if(this.fontFaces){var ye=bN(te(this.pdf,this.fontFaces),ae.map(function(fe){return{family:fe,stretch:"normal",weight:he,style:Se}}));this.pdf.setFont(ye.ref.name,ye.ref.style)}else{var De="";(he==="bold"||parseInt(he,10)>=700||Se==="bold")&&(De="bold"),Se==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Ue="",_e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<ae.length;ge++){if(this.pdf.internal.getFont(ae[ge],De,{noFallback:!0,disableWarning:!0})!==void 0){Ue=ae[ge];break}if(De==="bolditalic"&&this.pdf.internal.getFont(ae[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=ae[ge],De="bold";else if(this.pdf.internal.getFont(ae[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=ae[ge],De="normal";break}}if(Ue===""){for(var Ge=0;Ge<ae.length;Ge++)if(_e[ae[Ge]]){Ue=_e[ae[Ge]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Vt){this.ctx.globalCompositeOperation=Vt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Vt){this.ctx.globalAlpha=Vt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Vt){this.ctx.lineDashOffset=Vt,pt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Vt){this.ctx.lineDash=Vt,pt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Vt){this.ctx.ignoreClearRect=!!Vt}})};E.prototype.setLineDash=function(P){this.lineDash=P},E.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},E.prototype.fill=function(){At.call(this,"fill",!1)},E.prototype.stroke=function(){At.call(this,"stroke",!1)},E.prototype.beginPath=function(){this.path=[{type:"begin"}]},E.prototype.moveTo=function(P,U){if(isNaN(P)||isNaN(U))throw Yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(P,U));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(P,U)},E.prototype.closePath=function(){var P=new c(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&kn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){P=new c(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},E.prototype.lineTo=function(P,U){if(isNaN(P)||isNaN(U))throw Yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(P,U));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},E.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),At.call(this,null,!0)},E.prototype.quadraticCurveTo=function(P,U,J,rt){if(isNaN(J)||isNaN(rt)||isNaN(P)||isNaN(U))throw Yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var lt=this.ctx.transform.applyToPoint(new c(J,rt)),Et=this.ctx.transform.applyToPoint(new c(P,U));this.path.push({type:"qct",x1:Et.x,y1:Et.y,x:lt.x,y:lt.y}),this.ctx.lastPoint=new c(lt.x,lt.y)},E.prototype.bezierCurveTo=function(P,U,J,rt,lt,Et){if(isNaN(lt)||isNaN(Et)||isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt))throw Yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var St=this.ctx.transform.applyToPoint(new c(lt,Et)),Dt=this.ctx.transform.applyToPoint(new c(P,U)),Jt=this.ctx.transform.applyToPoint(new c(J,rt));this.path.push({type:"bct",x1:Dt.x,y1:Dt.y,x2:Jt.x,y2:Jt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new c(St.x,St.y)},E.prototype.arc=function(P,U,J,rt,lt,Et){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt)||isNaN(lt))throw Yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Et=!!Et,!this.ctx.transform.isIdentity){var St=this.ctx.transform.applyToPoint(new c(P,U));P=St.x,U=St.y;var Dt=this.ctx.transform.applyToPoint(new c(0,J)),Jt=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Dt.x-Jt.x,2)+Math.pow(Dt.y-Jt.y,2))}Math.abs(lt-rt)>=2*Math.PI&&(rt=0,lt=2*Math.PI),this.path.push({type:"arc",x:P,y:U,radius:J,startAngle:rt,endAngle:lt,counterclockwise:Et})},E.prototype.arcTo=function(P,U,J,rt,lt){throw new Error("arcTo not implemented.")},E.prototype.rect=function(P,U,J,rt){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt))throw Yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,U),this.lineTo(P+J,U),this.lineTo(P+J,U+rt),this.lineTo(P,U+rt),this.lineTo(P,U),this.lineTo(P+J,U),this.lineTo(P,U)},E.prototype.fillRect=function(P,U,J,rt){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt))throw Yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var lt={};this.lineCap!=="butt"&&(lt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(lt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,U,J,rt),this.fill(),lt.hasOwnProperty("lineCap")&&(this.lineCap=lt.lineCap),lt.hasOwnProperty("lineJoin")&&(this.lineJoin=lt.lineJoin)}},E.prototype.strokeRect=function(P,U,J,rt){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt))throw Yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(P,U,J,rt),this.stroke())},E.prototype.clearRect=function(P,U,J,rt){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt))throw Yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,U,J,rt))},E.prototype.save=function(P){P=typeof P!="boolean"||P;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var rt=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=rt}},E.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(U),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},E.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(P){var U,J,rt,lt;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))U=0,J=0,rt=0,lt=0;else{var Et=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Et!==null)U=parseInt(Et[1]),J=parseInt(Et[2]),rt=parseInt(Et[3]),lt=1;else if((Et=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)U=parseInt(Et[1]),J=parseInt(Et[2]),rt=parseInt(Et[3]),lt=parseFloat(Et[4]);else{if(lt=1,typeof P=="string"&&P.charAt(0)!=="#"){var St=new v3(P);P=St.ok?St.toHex():"#000000"}P.length===4?(U=P.substring(1,2),U+=U,J=P.substring(2,3),J+=J,rt=P.substring(3,4),rt+=rt):(U=P.substring(1,3),J=P.substring(3,5),rt=P.substring(5,7)),U=parseInt(U,16),J=parseInt(J,16),rt=parseInt(rt,16)}}return{r:U,g:J,b:rt,a:lt,style:P}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};E.prototype.fillText=function(P,U,J,rt){if(isNaN(U)||isNaN(J)||typeof P!="string")throw Yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(rt=isNaN(rt)?void 0:rt,!A.call(this)){var lt=ut(this.ctx.transform.rotation),Et=this.ctx.transform.scaleX;C.call(this,{text:P,x:U,y:J,scale:Et,angle:lt,align:this.textAlign,maxWidth:rt})}},E.prototype.strokeText=function(P,U,J,rt){if(isNaN(U)||isNaN(J)||typeof P!="string")throw Yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){rt=isNaN(rt)?void 0:rt;var lt=ut(this.ctx.transform.rotation),Et=this.ctx.transform.scaleX;C.call(this,{text:P,x:U,y:J,scale:Et,renderingMode:"stroke",angle:lt,align:this.textAlign,maxWidth:rt})}},E.prototype.measureText=function(P){if(typeof P!="string")throw Yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,J=this.pdf.internal.scaleFactor,rt=U.internal.getFontSize(),lt=U.getStringUnitWidth(P)*rt/U.internal.scaleFactor,Et=function(St){var Dt=(St=St||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Dt}}),this};return new Et({width:lt*=Math.round(96*J/72*1e4)/1e4})},E.prototype.scale=function(P,U){if(isNaN(P)||isNaN(U))throw Yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new p(P,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},E.prototype.rotate=function(P){if(isNaN(P))throw Yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new p(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},E.prototype.translate=function(P,U){if(isNaN(P)||isNaN(U))throw Yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new p(1,0,0,1,P,U);this.ctx.transform=this.ctx.transform.multiply(J)},E.prototype.transform=function(P,U,J,rt,lt,Et){if(isNaN(P)||isNaN(U)||isNaN(J)||isNaN(rt)||isNaN(lt)||isNaN(Et))throw Yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var St=new p(P,U,J,rt,lt,Et);this.ctx.transform=this.ctx.transform.multiply(St)},E.prototype.setTransform=function(P,U,J,rt,lt,Et){P=isNaN(P)?1:P,U=isNaN(U)?0:U,J=isNaN(J)?0:J,rt=isNaN(rt)?1:rt,lt=isNaN(lt)?0:lt,Et=isNaN(Et)?0:Et,this.ctx.transform=new p(P,U,J,rt,lt,Et)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};E.prototype.drawImage=function(P,U,J,rt,lt,Et,St,Dt,Jt){var Wt=this.pdf.getImageProperties(P),ne=1,te=1,we=1,Vt=1;rt!==void 0&&Dt!==void 0&&(we=Dt/rt,Vt=Jt/lt,ne=Wt.width/rt*Dt/rt,te=Wt.height/lt*Jt/lt),Et===void 0&&(Et=U,St=J,U=0,J=0),rt!==void 0&&Dt===void 0&&(Dt=rt,Jt=lt),rt===void 0&&Dt===void 0&&(Dt=Wt.width,Jt=Wt.height);for(var st,Se=this.ctx.transform.decompose(),he=ut(Se.rotate.shx),$t=new p,Zt=($t=($t=($t=$t.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new f(Et-U*we,St-J*Vt,rt*ne,lt*te)),se=H.call(this,Zt),ae=[],ye=0;ye<se.length;ye+=1)ae.indexOf(se[ye])===-1&&ae.push(se[ye]);if(nt(ae),this.autoPaging)for(var De=ae[0],Ue=ae[ae.length-1],_e=De;_e<Ue+1;_e++){this.pdf.setPage(_e);var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=_e===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=_e===1?0:fe+(_e-2)*Ye;if(this.ctx.clip_path.length!==0){var ti=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(st,this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset),bt.call(this,"fill",!0),this.path=ti}var Xe=JSON.parse(JSON.stringify(Zt));Xe=X([Xe],this.posX+this.margin[3],-oe+Ge+this.ctx.prevPageLastElemOffset)[0];var Ki=(_e>De||_e<Ue)&&V.call(this);Ki&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,Ye,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,he),Ki&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,he)};var H=function(P,U,J){var rt=[];U=U||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var lt=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":rt.push(Math.floor((P.y+lt)/J)+1);break;case"arc":rt.push(Math.floor((P.y+lt-P.radius)/J)+1),rt.push(Math.floor((P.y+lt+P.radius)/J)+1);break;case"qct":var Et=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);rt.push(Math.floor((Et.y+lt)/J)+1),rt.push(Math.floor((Et.y+Et.h+lt)/J)+1);break;case"bct":var St=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);rt.push(Math.floor((St.y+lt)/J)+1),rt.push(Math.floor((St.y+St.h+lt)/J)+1);break;case"rect":rt.push(Math.floor((P.y+lt)/J)+1),rt.push(Math.floor((P.y+P.h+lt)/J)+1)}for(var Dt=0;Dt<rt.length;Dt+=1)for(;this.pdf.internal.getNumberOfPages()<rt[Dt];)j.call(this);return rt},j=function(){var P=this.fillStyle,U=this.strokeStyle,J=this.font,rt=this.lineCap,lt=this.lineWidth,Et=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=U,this.font=J,this.lineCap=rt,this.lineWidth=lt,this.lineJoin=Et},X=function(P,U,J){for(var rt=0;rt<P.length;rt++)switch(P[rt].type){case"bct":P[rt].x2+=U,P[rt].y2+=J;case"qct":P[rt].x1+=U,P[rt].y1+=J;case"mt":case"lt":case"arc":default:P[rt].x+=U,P[rt].y+=J}return P},nt=function(P){return P.sort(function(U,J){return U-J})},At=function(P,U){for(var J,rt,lt=this.fillStyle,Et=this.strokeStyle,St=this.lineCap,Dt=this.lineWidth,Jt=Math.abs(Dt*this.ctx.transform.scaleX),Wt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),we=[],Vt=0;Vt<te.length;Vt++)if(te[Vt].x!==void 0)for(var st=H.call(this,te[Vt]),Se=0;Se<st.length;Se+=1)we.indexOf(st[Se])===-1&&we.push(st[Se]);for(var he=0;he<we.length;he++)for(;this.pdf.internal.getNumberOfPages()<we[he];)j.call(this);if(nt(we),this.autoPaging)for(var $t=we[0],Zt=we[we.length-1],se=$t;se<Zt+1;se++){this.pdf.setPage(se),this.fillStyle=lt,this.strokeStyle=Et,this.lineCap=St,this.lineWidth=Jt,this.lineJoin=Wt;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=se===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=se===1?0:De+(se-2)*Ue;if(this.ctx.clip_path.length!==0){var ge=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(J,this.posX+this.margin[3],-_e+ye+this.ctx.prevPageLastElemOffset),bt.call(this,P,!0),this.path=ge}if(rt=JSON.parse(JSON.stringify(ne)),this.path=X(rt,this.posX+this.margin[3],-_e+ye+this.ctx.prevPageLastElemOffset),U===!1||se===0){var Ge=(se>$t||se<Zt)&&V.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Ue,null).clip().discardPath()),bt.call(this,P,U),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=Dt}else this.lineWidth=Jt,bt.call(this,P,U),this.lineWidth=Dt;this.path=ne},bt=function(P,U){if((P!=="stroke"||U||!R.call(this))&&(P==="stroke"||U||!A.call(this))){for(var J,rt,lt=[],Et=this.path,St=0;St<Et.length;St++){var Dt=Et[St];switch(Dt.type){case"begin":lt.push({begin:!0});break;case"close":lt.push({close:!0});break;case"mt":lt.push({start:Dt,deltas:[],abs:[]});break;case"lt":var Jt=lt.length;if(Et[St-1]&&!isNaN(Et[St-1].x)&&(J=[Dt.x-Et[St-1].x,Dt.y-Et[St-1].y],Jt>0)){for(;Jt>=0;Jt--)if(lt[Jt-1].close!==!0&&lt[Jt-1].begin!==!0){lt[Jt-1].deltas.push(J),lt[Jt-1].abs.push(Dt);break}}break;case"bct":J=[Dt.x1-Et[St-1].x,Dt.y1-Et[St-1].y,Dt.x2-Et[St-1].x,Dt.y2-Et[St-1].y,Dt.x-Et[St-1].x,Dt.y-Et[St-1].y],lt[lt.length-1].deltas.push(J);break;case"qct":var Wt=Et[St-1].x+2/3*(Dt.x1-Et[St-1].x),ne=Et[St-1].y+2/3*(Dt.y1-Et[St-1].y),te=Dt.x+2/3*(Dt.x1-Dt.x),we=Dt.y+2/3*(Dt.y1-Dt.y),Vt=Dt.x,st=Dt.y;J=[Wt-Et[St-1].x,ne-Et[St-1].y,te-Et[St-1].x,we-Et[St-1].y,Vt-Et[St-1].x,st-Et[St-1].y],lt[lt.length-1].deltas.push(J);break;case"arc":lt.push({deltas:[],abs:[],arc:!0}),Array.isArray(lt[lt.length-1].abs)&&lt[lt.length-1].abs.push(Dt)}}rt=U?null:P==="stroke"?"stroke":"fill";for(var Se=!1,he=0;he<lt.length;he++)if(lt[he].arc)for(var $t=lt[he].abs,Zt=0;Zt<$t.length;Zt++){var se=$t[Zt];se.type==="arc"?L.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,U,!Se):O.call(this,se.x,se.y),Se=!0}else if(lt[he].close===!0)this.pdf.internal.out("h"),Se=!1;else if(lt[he].begin!==!0){var ae=lt[he].start.x,ye=lt[he].start.y;at.call(this,lt[he].deltas,ae,ye),Se=!0}rt&&z.call(this,rt),U&&Z.call(this)}},kt=function(P){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-J;case"top":return P+U-J;case"hanging":return P+U-2*J;case"middle":return P+U/2-J;case"ideographic":return P;case"alphabetic":default:return P}},W=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};E.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(U,J){this.colorStops.push([U,J])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},E.prototype.createPattern=function(){return this.createLinearGradient()},E.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(P,U,J,rt,lt,Et,St,Dt,Jt){for(var Wt=et.call(this,J,rt,lt,Et),ne=0;ne<Wt.length;ne++){var te=Wt[ne];ne===0&&(Jt?I.call(this,te.x1+P,te.y1+U):O.call(this,te.x1+P,te.y1+U)),Tt.call(this,P,U,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}Dt?Z.call(this):z.call(this,St)},z=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,U){this.pdf.internal.out(e(P)+" "+r(U)+" m")},C=function(P){var U;switch(P.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var J=this.pdf.getTextDimensions(P.text),rt=kt.call(this,P.y),lt=W.call(this,rt)-J.h,Et=this.ctx.transform.applyToPoint(new c(P.x,rt)),St=this.ctx.transform.decompose(),Dt=new p;Dt=(Dt=(Dt=Dt.multiply(St.translate)).multiply(St.skew)).multiply(St.scale);for(var Jt,Wt,ne,te=this.ctx.transform.applyToRectangle(new f(P.x,rt,J.w,J.h)),we=Dt.applyToRectangle(new f(P.x,lt,J.w,J.h)),Vt=H.call(this,we),st=[],Se=0;Se<Vt.length;Se+=1)st.indexOf(Vt[Se])===-1&&st.push(Vt[Se]);if(nt(st),this.autoPaging)for(var he=st[0],$t=st[st.length-1],Zt=he;Zt<$t+1;Zt++){this.pdf.setPage(Zt);var se=Zt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],De=ye-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],_e=Ue-this.margin[3],ge=Zt===1?0:ae+(Zt-2)*De;if(this.ctx.clip_path.length!==0){var Ge=this.path;Jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(Jt,this.posX+this.margin[3],-1*ge+se),bt.call(this,"fill",!0),this.path=Ge}var fe=X([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale);var Ye=this.autoPaging!=="text";if(Ye||fe.y+fe.h<=ye){if(Ye||fe.y>=se&&fe.x<=Ue){var oe=Ye?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ue-fe.x)[0],ti=X([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset)[0],Xe=Ye&&(Zt>he||Zt<$t)&&V.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,De,null).clip().discardPath()),this.pdf.text(oe,ti.x,ti.y,{angle:P.angle,align:U,renderingMode:P.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else fe.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-fe.y);P.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=ne)}else P.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*P.scale),ne=this.lineWidth,this.lineWidth=ne*P.scale),this.pdf.text(P.text,Et.x+this.posX,Et.y+this.posY,{angle:P.angle,align:U,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=ne)},O=function(P,U,J,rt){J=J||0,rt=rt||0,this.pdf.internal.out(e(P+J)+" "+r(U+rt)+" l")},at=function(P,U,J){return this.pdf.lines(P,U,J,null,null)},Tt=function(P,U,J,rt,lt,Et,St,Dt){this.pdf.internal.out([t(a(J+P)),t(l(rt+U)),t(a(lt+P)),t(l(Et+U)),t(a(St+P)),t(l(Dt+U)),"c"].join(" "))},et=function(P,U,J,rt){for(var lt=2*Math.PI,Et=Math.PI/2;U>J;)U-=lt;var St=Math.abs(J-U);St<lt&&rt&&(St=lt-St);for(var Dt=[],Jt=rt?-1:1,Wt=U;St>1e-5;){var ne=Wt+Jt*Math.min(St,Et);Dt.push(ht.call(this,P,Wt,ne)),St-=Math.abs(ne-Wt),Wt=ne}return Dt},ht=function(P,U,J){var rt=(J-U)/2,lt=P*Math.cos(rt),Et=P*Math.sin(rt),St=lt,Dt=-Et,Jt=St*St+Dt*Dt,Wt=Jt+St*lt+Dt*Et,ne=4/3*(Math.sqrt(2*Jt*Wt)-Wt)/(St*Et-Dt*lt),te=St-ne*Dt,we=Dt+ne*St,Vt=te,st=-we,Se=rt+U,he=Math.cos(Se),$t=Math.sin(Se);return{x1:P*Math.cos(U),y1:P*Math.sin(U),x2:te*he-we*$t,y2:te*$t+we*he,x3:Vt*he-st*$t,y3:Vt*$t+st*he,x4:P*Math.cos(J),y4:P*Math.sin(J)}},ut=function(P){return 180*P/Math.PI},Nt=function(P,U,J,rt,lt,Et){var St=P+.5*(J-P),Dt=U+.5*(rt-U),Jt=lt+.5*(J-lt),Wt=Et+.5*(rt-Et),ne=Math.min(P,lt,St,Jt),te=Math.max(P,lt,St,Jt),we=Math.min(U,Et,Dt,Wt),Vt=Math.max(U,Et,Dt,Wt);return new f(ne,we,te-ne,Vt-we)},B=function(P,U,J,rt,lt,Et,St,Dt){var Jt,Wt,ne,te,we,Vt,st,Se,he,$t,Zt,se,ae,ye,De=J-P,Ue=rt-U,_e=lt-J,ge=Et-rt,Ge=St-lt,fe=Dt-Et;for(Wt=0;Wt<41;Wt++)he=(st=(ne=P+(Jt=Wt/40)*De)+Jt*((we=J+Jt*_e)-ne))+Jt*(we+Jt*(lt+Jt*Ge-we)-st),$t=(Se=(te=U+Jt*Ue)+Jt*((Vt=rt+Jt*ge)-te))+Jt*(Vt+Jt*(Et+Jt*fe-Vt)-Se),Wt==0?(Zt=he,se=$t,ae=he,ye=$t):(Zt=Math.min(Zt,he),se=Math.min(se,$t),ae=Math.max(ae,he),ye=Math.max(ye,$t));return new f(Math.round(Zt),Math.round(se),Math.round(ae-Zt),Math.round(ye-se))},pt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,U,J=(P=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:U}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ce.API),function(i){var t=function(l){var c,f,p,y,v,E,T,A,R,V;for(f=[],p=0,y=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;y>p;p+=4)(v=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(E=(v=((v=((v=((v=(v-(V=v%85))/85)-(R=v%85))/85)-(A=v%85))/85)-(T=v%85))/85)%85,f.push(E+33,T+33,A+33,R+33,V+33)):f.push(122);return function(H,j){for(var X=j;X>0;X--)H.pop()}(f,c.length),String.fromCharCode.apply(String,f)+"~>"},e=function(l){var c,f,p,y,v,E=String,T="length",A=255,R="charCodeAt",V="slice",H="replace";for(l[V](-2),l=l[V](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),p=[],y=0,v=(l+=c="uuuuu"[V](l[T]%5||5))[T];v>y;y+=5)f=52200625*(l[R](y)-33)+614125*(l[R](y+1)-33)+7225*(l[R](y+2)-33)+85*(l[R](y+3)-33)+(l[R](y+4)-33),p.push(A&f>>24,A&f>>16,A&f>>8,A&f);return function(j,X){for(var nt=X;nt>0;nt--)j.pop()}(p,c[T]),E.fromCharCode.apply(E,p)},r=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var f="",p=0;p<l.length;p+=2)f+=String.fromCharCode("0x"+(l[p]+l[p+1]));return f},a=function(l){for(var c=new Uint8Array(l.length),f=l.length;f--;)c[f]=l.charCodeAt(f);return l=(c=O0(c)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};i.processDataByFilters=function(l,c){var f=0,p=l||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":p=e(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=r(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}}(Ce.API),function(i){i.loadFile=function(t,e,r){return function(a,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=function(p,y,v){var E=new XMLHttpRequest,T=0,A=function(R){var V=R.length,H=[],j=String.fromCharCode;for(T=0;T<V;T+=1)H.push(j(255&R.charCodeAt(T)));return H.join("")};if(E.open("GET",p,!y),E.overrideMimeType("text/plain; charset=x-user-defined"),y===!1&&(E.onload=function(){E.status===200?v(A(this.responseText)):v(void 0)}),E.send(null),y&&E.status===200)return A(E.responseText)}(a,l,c)}catch{}return f}(t,e,r)},i.loadImageFile=i.loadFile}(Ce.API),function(i){function t(){return(Me.html2canvas?Promise.resolve(Me.html2canvas):R0(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(Me.DOMPurify?Promise.resolve(Me.DOMPurify):R0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=kn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var p=document.createElement(c);for(var y in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[y]=f.style[y];return p},l=function c(f){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),p);return y=(y=y.setProgress(1,c,1,[c])).set(f)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,f){return c.__proto__=f||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,f){return this.then(function(){switch(f=f||function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(e).then(function(p){return this.set({src:a("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function p(y,v){for(var E=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),T=y.firstChild;T;T=T.nextSibling)v!==!0&&T.nodeType===1&&T.nodeName==="SCRIPT"||E.appendChild(p(T,v));return y.nodeType===1&&(y.nodeName==="CANVAS"?(E.width=y.width,E.height=y.height,E.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(E.value=y.value),E.addEventListener("load",function(){E.scrollTop=y.scrollTop,E.scrollLeft=y.scrollLeft},!0)),E}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var p=this.opt.jsPDF,y=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var T=0;T<y.length;++T){var A=y[T],R=A.src.find(function(V){return V.format==="truetype"});R&&p.addFont(R.url,A.ref.name,A.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,p.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},l.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(f)})},l.prototype.get=function(c,f){return this.then(function(){var p=c in l.template.prop?this.prop[c]:this.opt[c];return f?f(p):p})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function f(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(c=c||Ce.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,f,p,y){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,f,p,y){return this.setProgress(c?this.progress.val+c:null,f||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},l.prototype.then=function(c,f){var p=this;return this.thenCore(c,f,function(y,v){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(E){return p.updateProgress(null,y),E}).then(y,v).then(function(E){return p.updateProgress(1),E})})},l.prototype.thenCore=function(c,f,p){p=p||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),v=p.call(y,c,f);return l.convert(v,this.__proto__)},l.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},l.prototype.thenList=function(c){var f=this;return c.forEach(function(p){f=f.thenCore(p)}),f},l.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return l.convert(f,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ce.getPageSize=function(c,f,p){if(kn(c)==="object"){var y=c;c=y.orientation,f=y.unit||f,p=y.format||p}f=f||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var v,E=(""+p).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+f}var A,R=0,V=0;if(T.hasOwnProperty(E))R=T[E][1]/v,V=T[E][0]/v;else try{R=p[1],V=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",V>R&&(A=V,V=R,R=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>V&&(A=V,V=R,R=A)}return{width:V,height:R,unit:f,k:v,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(B0):null;var p=new l(f);return f.worker?p:p.from(c).doCallback()}}(Ce.API),Ce.API.addJS=function(i){return Pv=i,this.internal.events.subscribe("postPutResources",function(){cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Pv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cp!==void 0&&Dv!==void 0&&this.internal.out("/Names <</JavaScript "+cp+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),l=0;l<a.length;l++){var c=a[l],f=r.exec(c);if(f!=null){var p=f[1];e.internal.newObjectDeferredBegin(p,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var y=this.internal.pages.length,v=[];for(l=0;l<y;l++){var E=e.internal.newObject();v.push(E);var T=e.internal.getPageInfo(l+1);e.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var A=e.internal.newObject();for(e.internal.write("<< /Names [ "),l=0;l<v.length;l++)e.internal.write("(page_"+(l+1)+")"+v[l]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+A+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,l){var c={title:a,options:l,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var c=r.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var p=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var y=0;y<r.children.length;y++)this.renderItems(r.children[y])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var l=0;l<a.children.length;l++)r.count++,this.count_r(r,a.children[l]);return r.count}}])}(Ce.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,r,a,l,c,f){var p,y=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(p=function(E){for(var T,A=256*E.charCodeAt(4)+E.charCodeAt(5),R=E.length,V={width:0,height:0,numcomponents:1},H=4;H<R;H+=2){if(H+=A,t.indexOf(E.charCodeAt(H+1))!==-1){T=256*E.charCodeAt(H+5)+E.charCodeAt(H+6),V={width:256*E.charCodeAt(H+7)+E.charCodeAt(H+8),height:T,numcomponents:E.charCodeAt(H+9)};break}A=256*E.charCodeAt(H+2)+E.charCodeAt(H+3)}return V}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}v={data:e,width:p.width,height:p.height,colorSpace:f,bitsPerComponent:8,filter:y,index:r,alias:a}}return v}}(Ce.API);var eh,hp,Ov,Mv,kv,SN=function(){var i,t,e;function r(l){var c,f,p,y,v,E,T,A,R,V,H,j,X,nt;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},E=null;;){switch(c=this.readUInt32(),R=(function(){var At,bt;for(bt=[],At=0;At<4;++At)bt.push(String.fromCharCode(this.data[this.pos++]));return bt}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":E&&this.animation.frames.push(E),this.pos+=4,E={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),y=this.readUInt16()||100,E.delay=1e3*v/y,E.disposeOp=this.data[this.pos++],E.blendOp=this.data[this.pos++],E.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,c-=4),l=E?.data||this.imgData,j=0;0<=c?j<c:j>c;0<=c?++j:--j)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((V=p-this.transparency.indexed.length)>0)for(X=0;0<=V?X<V:X>V;0<=V?++X:--X)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":T=(H=this.read(c)).indexOf(0),A=String.fromCharCode.apply(String,H.slice(0,T)),this.text[A]=String.fromCharCode.apply(String,H.slice(T+1));break;case"IEND":return E&&this.animation.frames.push(E),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(nt=this.colorType)===4||nt===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(l){var c,f;for(f=[],c=0;0<=l?c<l:c>l;0<=l?++c:--c)f.push(this.data[this.pos++]);return f},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(l){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),p=0,y=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function v(E,T,A,R){var V,H,j,X,nt,At,bt,kt,W,L,z,Z,I,C,O,at,Tt,et,ht,ut,Nt,B=Math.ceil((y.width-E)/A),pt=Math.ceil((y.height-T)/R),P=y.width==B&&y.height==pt;for(C=c*B,Z=P?f:new Uint8Array(C*pt),At=l.length,I=0,H=0;I<pt&&p<At;){switch(l[p++]){case 0:for(X=Tt=0;Tt<C;X=Tt+=1)Z[H++]=l[p++];break;case 1:for(X=et=0;et<C;X=et+=1)V=l[p++],nt=X<c?0:Z[H-c],Z[H++]=(V+nt)%256;break;case 2:for(X=ht=0;ht<C;X=ht+=1)V=l[p++],j=(X-X%c)/c,O=I&&Z[(I-1)*C+j*c+X%c],Z[H++]=(O+V)%256;break;case 3:for(X=ut=0;ut<C;X=ut+=1)V=l[p++],j=(X-X%c)/c,nt=X<c?0:Z[H-c],O=I&&Z[(I-1)*C+j*c+X%c],Z[H++]=(V+Math.floor((nt+O)/2))%256;break;case 4:for(X=Nt=0;Nt<C;X=Nt+=1)V=l[p++],j=(X-X%c)/c,nt=X<c?0:Z[H-c],I===0?O=at=0:(O=Z[(I-1)*C+j*c+X%c],at=j&&Z[(I-1)*C+(j-1)*c+X%c]),bt=nt+O-at,kt=Math.abs(bt-nt),L=Math.abs(bt-O),z=Math.abs(bt-at),W=kt<=L&&kt<=z?nt:L<=z?O:at,Z[H++]=(V+W)%256;break;default:throw new Error("Invalid filter algorithm: "+l[p-1])}if(!P){var U=((T+I*R)*y.width+E)*c,J=I*C;for(X=0;X<B;X+=1){for(var rt=0;rt<c;rt+=1)f[U++]=Z[J++];U+=(A-1)*c}}I++}}return l=eN(l),y.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),f},r.prototype.decodePalette=function(){var l,c,f,p,y,v,E,T,A;for(f=this.palette,v=this.transparency.indexed||[],y=new Uint8Array((v.length||0)+f.length),p=0,l=0,c=E=0,T=f.length;E<T;c=E+=3)y[p++]=f[c],y[p++]=f[c+1],y[p++]=f[c+2],y[p++]=(A=v[l++])!=null?A:255;return y},r.prototype.copyToImageData=function(l,c){var f,p,y,v,E,T,A,R,V,H,j;if(p=this.colors,V=null,f=this.hasAlphaChannel,this.palette.length&&(V=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),p=4,f=!0),R=(y=l.data||l).length,E=V||c,v=T=0,p===1)for(;v<R;)A=V?4*c[v/4]:T,H=E[A++],y[v++]=H,y[v++]=H,y[v++]=H,y[v++]=f?E[A++]:255,T=A;else for(;v<R;)A=V?4*c[v/4]:T,y[v++]=E[A++],y[v++]=E[A++],y[v++]=E[A++],y[v++]=f?E[A++]:255,T=A},r.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(Me)==="[object Window]"){try{t=Me.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),i=function(l){var c;if(a()===!0)return e.width=l.width,e.height=l.height,e.clearRect(0,0,l.width,l.height),e.putImageData(l,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(l){var c,f,p,y,v,E,T,A;if(this.animation){for(A=[],f=v=0,E=(T=this.animation.frames).length;v<E;f=++v)c=T[f],p=l.createImageData(c.width,c.height),y=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(p,y),c.imageData=p,A.push(c.image=i(p));return A}},r.prototype.renderFrame=function(l,c){var f,p,y;return f=(p=this.animation.frames)[c],y=p[c-1],c===0&&l.clearRect(0,0,this.width,this.height),y?.disposeOp===1?l.clearRect(y.xOffset,y.yOffset,y.width,y.height):y?.disposeOp===2&&l.putImageData(y.imageData,y.xOffset,y.yOffset),f.blendOp===0&&l.clearRect(f.xOffset,f.yOffset,f.width,f.height),l.drawImage(f.image,f.xOffset,f.yOffset)},r.prototype.animate=function(l){var c,f,p,y,v,E,T=this;return f=0,E=this.animation,y=E.numFrames,p=E.frames,v=E.numPlays,(c=function(){var A,R;if(A=f++%y,R=p[A],T.renderFrame(l,A),y>1&&f/y<v)return T.animation._timeout=setTimeout(c,R.delay)})()},r.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},r.prototype.render=function(l){var c,f;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,c=l.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function EN(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,r=i[t++]|i[t++]<<8,a=i[t++],l=a>>7,c=1<<(7&a)+1;i[t++],i[t++];var f=null,p=null;l&&(f=t,p=c,t+=3*c);var y=!0,v=[],E=0,T=null,A=0,R=null;for(this.width=e,this.height=r;y&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,R=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var V=i[t++];E=i[t++]|i[t++]<<8,T=i[t++],(1&V)==0&&(T=null),A=V>>2&7,t++;break;case 254:for(;;){if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var H=i[t++]|i[t++]<<8,j=i[t++]|i[t++]<<8,X=i[t++]|i[t++]<<8,nt=i[t++]|i[t++]<<8,At=i[t++],bt=At>>6&1,kt=1<<(7&At)+1,W=f,L=p,z=!1;At>>7&&(z=!0,W=t,L=kt,t+=3*kt);var Z=t;for(t++;;){var I;if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}v.push({x:H,y:j,width:X,height:nt,has_local_palette:z,palette_offset:W,palette_size:L,data_offset:Z,data_length:t-Z,transparent_index:T,interlaced:!!bt,delay:E,disposal:A});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return R},this.frameInfo=function(C){if(C<0||C>=v.length)throw new Error("Frame index out of range.");return v[C]},this.decodeAndBlitFrameBGRA=function(C,O){var at=this.frameInfo(C),Tt=at.width*at.height,et=new Uint8Array(Tt);jv(i,at.data_offset,et,Tt);var ht=at.palette_offset,ut=at.transparent_index;ut===null&&(ut=256);var Nt=at.width,B=e-Nt,pt=Nt,P=4*(at.y*e+at.x),U=4*((at.y+at.height)*e+at.x),J=P,rt=4*B;at.interlaced===!0&&(rt+=4*e*7);for(var lt=8,Et=0,St=et.length;Et<St;++Et){var Dt=et[Et];if(pt===0&&(pt=Nt,(J+=rt)>=U&&(rt=4*B+4*e*(lt-1),J=P+(Nt+B)*(lt<<1),lt>>=1)),Dt===ut)J+=4;else{var Jt=i[ht+3*Dt],Wt=i[ht+3*Dt+1],ne=i[ht+3*Dt+2];O[J++]=ne,O[J++]=Wt,O[J++]=Jt,O[J++]=255}--pt}},this.decodeAndBlitFrameRGBA=function(C,O){var at=this.frameInfo(C),Tt=at.width*at.height,et=new Uint8Array(Tt);jv(i,at.data_offset,et,Tt);var ht=at.palette_offset,ut=at.transparent_index;ut===null&&(ut=256);var Nt=at.width,B=e-Nt,pt=Nt,P=4*(at.y*e+at.x),U=4*((at.y+at.height)*e+at.x),J=P,rt=4*B;at.interlaced===!0&&(rt+=4*e*7);for(var lt=8,Et=0,St=et.length;Et<St;++Et){var Dt=et[Et];if(pt===0&&(pt=Nt,(J+=rt)>=U&&(rt=4*B+4*e*(lt-1),J=P+(Nt+B)*(lt<<1),lt>>=1)),Dt===ut)J+=4;else{var Jt=i[ht+3*Dt],Wt=i[ht+3*Dt+1],ne=i[ht+3*Dt+2];O[J++]=Jt,O[J++]=Wt,O[J++]=ne,O[J++]=255}--pt}}}function jv(i,t,e,r){for(var a=i[t++],l=1<<a,c=l+1,f=c+1,p=a+1,y=(1<<p)-1,v=0,E=0,T=0,A=i[t++],R=new Int32Array(4096),V=null;;){for(;v<16&&A!==0;)E|=i[t++]<<v,v+=8,A===1?A=i[t++]:--A;if(v<p)break;var H=E&y;if(E>>=p,v-=p,H!==l){if(H===c)break;for(var j=H<f?H:V,X=0,nt=j;nt>l;)nt=R[nt]>>8,++X;var At=nt;if(T+X+(j!==H?1:0)>r)return void Yn.log("Warning, gif stream longer than expected.");e[T++]=At;var bt=T+=X;for(j!==H&&(e[T++]=At),nt=j;X--;)nt=R[nt],e[--bt]=255&nt,nt>>=8;V!==null&&f<4096&&(R[f++]=V<<8|At,f>=y+1&&p<12&&(++p,y=y<<1|1)),V=H}else f=c+1,y=(1<<(p=a+1))-1,V=null}return T!==r&&Yn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function e0(i){var t,e,r,a,l,c=Math.floor,f=new Array(64),p=new Array(64),y=new Array(64),v=new Array(64),E=new Array(65535),T=new Array(65535),A=new Array(64),R=new Array(64),V=[],H=0,j=7,X=new Array(64),nt=new Array(64),At=new Array(64),bt=new Array(256),kt=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],at=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function et(P,U){for(var J=0,rt=0,lt=new Array,Et=1;Et<=16;Et++){for(var St=1;St<=P[Et];St++)lt[U[rt]]=[],lt[U[rt]][0]=J,lt[U[rt]][1]=Et,rt++,J++;J*=2}return lt}function ht(P){for(var U=P[0],J=P[1]-1;J>=0;)U&1<<J&&(H|=1<<j),J--,--j<0&&(H==255?(ut(255),ut(0)):ut(H),j=7,H=0)}function ut(P){V.push(P)}function Nt(P){ut(P>>8&255),ut(255&P)}function B(P,U,J,rt,lt){for(var Et,St=lt[0],Dt=lt[240],Jt=function($t,Zt){var se,ae,ye,De,Ue,_e,ge,Ge,fe,Ye,oe=0;for(fe=0;fe<8;++fe){se=$t[oe],ae=$t[oe+1],ye=$t[oe+2],De=$t[oe+3],Ue=$t[oe+4],_e=$t[oe+5],ge=$t[oe+6];var ti=se+(Ge=$t[oe+7]),Xe=se-Ge,Ki=ae+ge,$e=ae-ge,xn=ye+_e,ir=ye-_e,an=De+Ue,Ts=De-Ue,jn=ti+an,Ei=ti-an,Qi=Ki+xn,Vn=Ki-xn;$t[oe]=jn+Qi,$t[oe+4]=jn-Qi;var Ee=.707106781*(Vn+Ei);$t[oe+2]=Ei+Ee,$t[oe+6]=Ei-Ee;var on=.382683433*((jn=Ts+ir)-(Vn=$e+Xe)),Nr=.5411961*jn+on,ei=1.306562965*Vn+on,Xi=.707106781*(Qi=ir+$e),$r=Xe+Xi,le=Xe-Xi;$t[oe+5]=le+Nr,$t[oe+3]=le-Nr,$t[oe+1]=$r+ei,$t[oe+7]=$r-ei,oe+=8}for(oe=0,fe=0;fe<8;++fe){se=$t[oe],ae=$t[oe+8],ye=$t[oe+16],De=$t[oe+24],Ue=$t[oe+32],_e=$t[oe+40],ge=$t[oe+48];var Nn=se+(Ge=$t[oe+56]),In=se-Ge,Hn=ae+ge,Xn=ae-ge,ni=ye+_e,pi=ye-_e,ba=De+Ue,mr=De-Ue,Ui=Nn+ba,Ti=Nn-ba,mi=Hn+ni,xi=Hn-ni;$t[oe]=Ui+mi,$t[oe+32]=Ui-mi;var Un=.707106781*(xi+Ti);$t[oe+16]=Ti+Un,$t[oe+48]=Ti-Un;var vn=.382683433*((Ui=mr+pi)-(xi=Xn+In)),xs=.5411961*Ui+vn,Ns=1.306562965*xi+vn,rr=.707106781*(mi=pi+Xn),Ir=In+rr,wa=In-rr;$t[oe+40]=wa+xs,$t[oe+24]=wa-xs,$t[oe+8]=Ir+Ns,$t[oe+56]=Ir-Ns,oe++}for(fe=0;fe<64;++fe)Ye=$t[fe]*Zt[fe],A[fe]=Ye>0?Ye+.5|0:Ye-.5|0;return A}(P,U),Wt=0;Wt<64;++Wt)R[W[Wt]]=Jt[Wt];var ne=R[0]-J;J=R[0],ne==0?ht(rt[0]):(ht(rt[T[Et=32767+ne]]),ht(E[Et]));for(var te=63;te>0&&R[te]==0;)te--;if(te==0)return ht(St),J;for(var we,Vt=1;Vt<=te;){for(var st=Vt;R[Vt]==0&&Vt<=te;)++Vt;var Se=Vt-st;if(Se>=16){we=Se>>4;for(var he=1;he<=we;++he)ht(Dt);Se&=15}Et=32767+R[Vt],ht(lt[(Se<<4)+T[Et]]),ht(E[Et]),Vt++}return te!=63&&ht(St),J}function pt(P){P=Math.min(Math.max(P,1),100),l!=P&&(function(U){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],rt=0;rt<64;rt++){var lt=c((J[rt]*U+50)/100);lt=Math.min(Math.max(lt,1),255),f[W[rt]]=lt}for(var Et=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],St=0;St<64;St++){var Dt=c((Et[St]*U+50)/100);Dt=Math.min(Math.max(Dt,1),255),p[W[St]]=Dt}for(var Jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Wt=0,ne=0;ne<8;ne++)for(var te=0;te<8;te++)y[Wt]=1/(f[W[Wt]]*Jt[ne]*Jt[te]*8),v[Wt]=1/(p[W[Wt]]*Jt[ne]*Jt[te]*8),Wt++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),l=P)}this.encode=function(P,U){U&&pt(U),V=new Array,H=0,j=7,Nt(65496),Nt(65504),Nt(16),ut(74),ut(70),ut(73),ut(70),ut(0),ut(1),ut(1),ut(0),Nt(1),Nt(1),ut(0),ut(0),function(){Nt(65499),Nt(132),ut(0);for(var ae=0;ae<64;ae++)ut(f[ae]);ut(1);for(var ye=0;ye<64;ye++)ut(p[ye])}(),function(ae,ye){Nt(65472),Nt(17),ut(8),Nt(ye),Nt(ae),ut(3),ut(1),ut(17),ut(0),ut(2),ut(17),ut(1),ut(3),ut(17),ut(1)}(P.width,P.height),function(){Nt(65476),Nt(418),ut(0);for(var ae=0;ae<16;ae++)ut(L[ae+1]);for(var ye=0;ye<=11;ye++)ut(z[ye]);ut(16);for(var De=0;De<16;De++)ut(Z[De+1]);for(var Ue=0;Ue<=161;Ue++)ut(I[Ue]);ut(1);for(var _e=0;_e<16;_e++)ut(C[_e+1]);for(var ge=0;ge<=11;ge++)ut(O[ge]);ut(17);for(var Ge=0;Ge<16;Ge++)ut(at[Ge+1]);for(var fe=0;fe<=161;fe++)ut(Tt[fe])}(),Nt(65498),Nt(12),ut(3),ut(1),ut(0),ut(2),ut(17),ut(3),ut(17),ut(0),ut(63),ut(0);var J=0,rt=0,lt=0;H=0,j=7,this.encode.displayName="_encode_";for(var Et,St,Dt,Jt,Wt,ne,te,we,Vt,st=P.data,Se=P.width,he=P.height,$t=4*Se,Zt=0;Zt<he;){for(Et=0;Et<$t;){for(Wt=$t*Zt+Et,te=-1,we=0,Vt=0;Vt<64;Vt++)ne=Wt+(we=Vt>>3)*$t+(te=4*(7&Vt)),Zt+we>=he&&(ne-=$t*(Zt+1+we-he)),Et+te>=$t&&(ne-=Et+te-$t+4),St=st[ne++],Dt=st[ne++],Jt=st[ne++],X[Vt]=(kt[St]+kt[Dt+256>>0]+kt[Jt+512>>0]>>16)-128,nt[Vt]=(kt[St+768>>0]+kt[Dt+1024>>0]+kt[Jt+1280>>0]>>16)-128,At[Vt]=(kt[St+1280>>0]+kt[Dt+1536>>0]+kt[Jt+1792>>0]>>16)-128;J=B(X,y,J,t,r),rt=B(nt,v,rt,e,a),lt=B(At,v,lt,e,a),Et+=32}Zt+=8}if(j>=0){var se=[];se[1]=j+1,se[0]=(1<<j+1)-1,ht(se)}return Nt(65497),new Uint8Array(V)},i=i||50,function(){for(var P=String.fromCharCode,U=0;U<256;U++)bt[U]=P(U)}(),t=et(L,z),e=et(C,O),r=et(Z,I),a=et(at,Tt),function(){for(var P=1,U=2,J=1;J<=15;J++){for(var rt=P;rt<U;rt++)T[32767+rt]=J,E[32767+rt]=[],E[32767+rt][1]=J,E[32767+rt][0]=rt;for(var lt=-(U-1);lt<=-P;lt++)T[32767+lt]=J,E[32767+lt]=[],E[32767+lt][1]=J,E[32767+lt][0]=U-1+lt;P<<=1,U<<=1}}(),function(){for(var P=0;P<256;P++)kt[P]=19595*P,kt[P+256>>0]=38470*P,kt[P+512>>0]=7471*P+32768,kt[P+768>>0]=-11059*P,kt[P+1024>>0]=-21709*P,kt[P+1280>>0]=32768*P+8421375,kt[P+1536>>0]=-27439*P,kt[P+1792>>0]=-5329*P}(),pt(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ka(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vv(i){function t(L){if(!L)throw Error("assert :P")}function e(L,z,Z){for(var I=0;4>I;I++)if(L[z+I]!=Z.charCodeAt(I))return!0;return!1}function r(L,z,Z,I,C){for(var O=0;O<C;O++)L[z+O]=Z[I+O]}function a(L,z,Z,I){for(var C=0;C<I;C++)L[z+C]=Z}function l(L){return new Int32Array(L)}function c(L,z){for(var Z=[],I=0;I<L;I++)Z.push(new z);return Z}function f(L,z){var Z=[];return function I(C,O,at){for(var Tt=at[O],et=0;et<Tt&&(C.push(at.length>O+1?[]:new z),!(at.length<O+1));et++)I(C[et],O+1,at)}(Z,0,L),Z}var p=function(){var L=this;function z(h,g){for(var w=1<<g-1>>>0;h&w;)w>>>=1;return w?(h&w-1)+w:h}function Z(h,g,w,x,M){t(!(x%w));do h[g+(x-=w)]=M;while(0<x)}function I(h,g,w,x,M){if(t(2328>=M),512>=M)var F=l(512);else if((F=l(M))==null)return 0;return function(q,Y,$,tt,ft,Rt){var xt,_t,zt=Y,Mt=1<<$,dt=l(16),gt=l(16);for(t(ft!=0),t(tt!=null),t(q!=null),t(0<$),_t=0;_t<ft;++_t){if(15<tt[_t])return 0;++dt[tt[_t]]}if(dt[0]==ft)return 0;for(gt[1]=0,xt=1;15>xt;++xt){if(dt[xt]>1<<xt)return 0;gt[xt+1]=gt[xt]+dt[xt]}for(_t=0;_t<ft;++_t)xt=tt[_t],0<tt[_t]&&(Rt[gt[xt]++]=_t);if(gt[15]==1)return(tt=new C).g=0,tt.value=Rt[0],Z(q,zt,1,Mt,tt),Mt;var Ut,Ht=-1,Ft=Mt-1,ue=0,ee=1,be=1,re=1<<$;for(_t=0,xt=1,ft=2;xt<=$;++xt,ft<<=1){if(ee+=be<<=1,0>(be-=dt[xt]))return 0;for(;0<dt[xt];--dt[xt])(tt=new C).g=xt,tt.value=Rt[_t++],Z(q,zt+ue,ft,re,tt),ue=z(ue,xt)}for(xt=$+1,ft=2;15>=xt;++xt,ft<<=1){if(ee+=be<<=1,0>(be-=dt[xt]))return 0;for(;0<dt[xt];--dt[xt]){if(tt=new C,(ue&Ft)!=Ht){for(zt+=re,Ut=1<<(Ht=xt)-$;15>Ht&&!(0>=(Ut-=dt[Ht]));)++Ht,Ut<<=1;Mt+=re=1<<(Ut=Ht-$),q[Y+(Ht=ue&Ft)].g=Ut+$,q[Y+Ht].value=zt-Y-Ht}tt.g=xt-$,tt.value=Rt[_t++],Z(q,zt+(ue>>$),ft,re,tt),ue=z(ue,xt)}}return ee!=2*gt[15]-1?0:Mt}(h,g,w,x,M,F)}function C(){this.value=this.g=0}function O(){this.value=this.g=0}function at(){this.G=c(5,C),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ii,O)}function Tt(h,g,w,x){t(h!=null),t(g!=null),t(2147483648>x),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=w,h.Jd=g,h.Yc=w+x,h.Zc=4<=x?w+x-4+1:w,Et(h)}function et(h,g){for(var w=0;0<g--;)w|=Dt(h,128)<<g;return w}function ht(h,g){var w=et(h,g);return St(h)?-w:w}function ut(h,g,w,x){var M,F=0;for(t(h!=null),t(g!=null),t(4294967288>x),h.Sb=x,h.Ra=0,h.u=0,h.h=0,4<x&&(x=4),M=0;M<x;++M)F+=g[w+M]<<8*M;h.Ra=F,h.bb=x,h.oa=g,h.pa=w}function Nt(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<nl-8>>>0,++h.bb,h.u-=8;J(h)&&(h.h=1,h.u=0)}function B(h,g){if(t(0<=g),!h.h&&g<=el){var w=U(h)&uo[g];return h.u+=g,Nt(h),w}return h.h=1,h.u=0}function pt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(h){return h.Ra>>>(h.u&nl-1)>>>0}function J(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>nl}function rt(h,g){h.u=g,h.h=J(h)}function lt(h){h.u>=ql&&(t(h.u>=ql),Nt(h))}function Et(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function St(h){return et(h,1)}function Dt(h,g){var w=h.Ca;0>h.b&&Et(h);var x=h.b,M=w*g>>>8,F=(h.I>>>x>M)+0;for(F?(w-=M,h.I-=M+1<<x>>>0):w=M+1,x=w,M=0;256<=x;)M+=8,x>>=8;return x=7^M+Or[x],h.b-=x,h.Ca=(w<<x)-1,F}function Jt(h,g,w){h[g+0]=w>>24&255,h[g+1]=w>>16&255,h[g+2]=w>>8&255,h[g+3]=w>>0&255}function Wt(h,g){return h[g+0]<<0|h[g+1]<<8}function ne(h,g){return Wt(h,g)|h[g+2]<<16}function te(h,g){return Wt(h,g)|Wt(h,g+2)<<16}function we(h,g){var w=1<<g;return t(h!=null),t(0<g),h.X=l(w),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function Vt(h,g){t(h!=null),t(g!=null),t(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function Se(h,g,w,x){t(w!=null),t(x!=null);var M=w[0],F=x[0];return M==0&&(M=(h*F+g/2)/g),F==0&&(F=(g*M+h/2)/h),0>=M||0>=F?0:(w[0]=M,x[0]=F,1)}function he(h,g){return h+(1<<g)-1>>>g}function $t(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Zt(h,g){L[g]=function(w,x,M,F,q,Y,$){var tt;for(tt=0;tt<q;++tt){var ft=L[h](Y[$+tt-1],M,F+tt);Y[$+tt]=$t(w[x+tt],ft)}}}function se(){this.ud=this.hd=this.jd=0}function ae(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function ye(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function De(h,g){return ye(h+(h-g+.5>>1))}function Ue(h,g,w){return Math.abs(g-w)-Math.abs(h-w)}function _e(h,g,w,x,M,F,q){for(x=F[q-1],w=0;w<M;++w)F[q+w]=x=$t(h[g+w],x)}function ge(h,g,w,x,M){var F;for(F=0;F<w;++F){var q=h[g+F],Y=q>>8&255,$=16711935&($=($=16711935&q)+((Y<<16)+Y));x[M+F]=(4278255360&q)+$>>>0}}function Ge(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function fe(h,g,w,x,M,F){var q;for(q=0;q<x;++q){var Y=g[w+q],$=Y>>>8,tt=Y,ft=255&(ft=(ft=Y>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));tt=255&(tt=(tt=tt+((h.hd<<24>>24)*($<<24>>24)>>>5))+((h.ud<<24>>24)*(ft<<24>>24)>>>5)),M[F+q]=(4278255360&Y)+(ft<<16)+tt}}function Ye(h,g,w,x,M){L[g]=function(F,q,Y,$,tt,ft,Rt,xt,_t){for($=Rt;$<xt;++$)for(Rt=0;Rt<_t;++Rt)tt[ft++]=M(Y[x(F[q++])])},L[h]=function(F,q,Y,$,tt,ft,Rt){var xt=8>>F.b,_t=F.Ea,zt=F.K[0],Mt=F.w;if(8>xt)for(F=(1<<F.b)-1,Mt=(1<<xt)-1;q<Y;++q){var dt,gt=0;for(dt=0;dt<_t;++dt)dt&F||(gt=x($[tt++])),ft[Rt++]=M(zt[gt&Mt]),gt>>=xt}else L["VP8LMapColor"+w]($,tt,zt,Mt,ft,Rt,q,Y,_t)}}function oe(h,g,w,x,M){for(w=g+w;g<w;){var F=h[g++];x[M++]=F>>16&255,x[M++]=F>>8&255,x[M++]=F>>0&255}}function ti(h,g,w,x,M){for(w=g+w;g<w;){var F=h[g++];x[M++]=F>>16&255,x[M++]=F>>8&255,x[M++]=F>>0&255,x[M++]=F>>24&255}}function Xe(h,g,w,x,M){for(w=g+w;g<w;){var F=(q=h[g++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;x[M++]=F,x[M++]=q}}function Ki(h,g,w,x,M){for(w=g+w;g<w;){var F=(q=h[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;x[M++]=F,x[M++]=q}}function $e(h,g,w,x,M){for(w=g+w;g<w;){var F=h[g++];x[M++]=F>>0&255,x[M++]=F>>8&255,x[M++]=F>>16&255}}function xn(h,g,w,x,M,F){if(F==0)for(w=g+w;g<w;)Jt(x,((F=h[g++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),M+=32;else r(x,M,h,g,w)}function ir(h,g){L[g][0]=L[h+"0"],L[g][1]=L[h+"1"],L[g][2]=L[h+"2"],L[g][3]=L[h+"3"],L[g][4]=L[h+"4"],L[g][5]=L[h+"5"],L[g][6]=L[h+"6"],L[g][7]=L[h+"7"],L[g][8]=L[h+"8"],L[g][9]=L[h+"9"],L[g][10]=L[h+"10"],L[g][11]=L[h+"11"],L[g][12]=L[h+"12"],L[g][13]=L[h+"13"],L[g][14]=L[h+"0"],L[g][15]=L[h+"0"]}function an(h){return h==zu||h==bo||h==Oa||h==Yl}function Ts(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ei(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ts,this.f.kb=new jn,this.sd=null}function Qi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ee(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function on(h,g){var w=h.T,x=g.ba.f.RGBA,M=x.eb,F=x.fb+h.ka*x.A,q=zi[g.ba.S],Y=h.y,$=h.O,tt=h.f,ft=h.N,Rt=h.ea,xt=h.W,_t=g.cc,zt=g.dc,Mt=g.Mc,dt=g.Nc,gt=h.ka,Ut=h.ka+h.T,Ht=h.U,Ft=Ht+1>>1;for(gt==0?q(Y,$,null,null,tt,ft,Rt,xt,tt,ft,Rt,xt,M,F,null,null,Ht):(q(g.ec,g.fc,Y,$,_t,zt,Mt,dt,tt,ft,Rt,xt,M,F-x.A,M,F,Ht),++w);gt+2<Ut;gt+=2)_t=tt,zt=ft,Mt=Rt,dt=xt,ft+=h.Rc,xt+=h.Rc,F+=2*x.A,q(Y,($+=2*h.fa)-h.fa,Y,$,_t,zt,Mt,dt,tt,ft,Rt,xt,M,F-x.A,M,F,Ht);return $+=h.fa,h.j+Ut<h.o?(r(g.ec,g.fc,Y,$,Ht),r(g.cc,g.dc,tt,ft,Ft),r(g.Mc,g.Nc,Rt,xt,Ft),w--):1&Ut||q(Y,$,null,null,tt,ft,Rt,xt,tt,ft,Rt,xt,M,F+x.A,null,null,Ht),w}function Nr(h,g,w){var x=h.F,M=[h.J];if(x!=null){var F=h.U,q=g.ba.S,Y=q==ol||q==Oa;g=g.ba.f.RGBA;var $=[0],tt=h.ka;$[0]=h.T,h.Kb&&(tt==0?--$[0]:(--tt,M[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-tt));var ft=g.eb;tt=g.fb+tt*g.A,h=Ze(x,M[0],h.width,F,$,ft,tt+(Y?0:3),g.A),t(w==$),h&&an(q)&&es(ft,tt,Y,F,$,g.A)}return 0}function ei(h){var g=h.ma,w=g.ba.S,x=11>w,M=w==Gl||w==qu||w==ol||w==Pa||w==12||an(w);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!lo(g.Oa,h,M?11:12))return 0;if(M&&an(w)&&Kt(),h.da)alert("todo:use_scaling");else{if(x){if(g.Ib=Ee,h.Kb){if(w=h.U+1>>1,g.memory=l(h.U+2*w),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+w,g.Ib=on,Kt()}}else alert("todo:EmitYUV");M&&(g.Jb=Nr,x&&vt())}if(x&&!od){for(h=0;256>h;++h)E1[h]=89858*(h-128)+Ci>>da,Yu[h]=-22014*(h-128)+Ci,kh[h]=-45773*(h-128),Li[h]=113618*(h-128)+Ci>>da;for(h=So;h<Dc;++h)g=76283*(h-16)+Ci>>da,Ku[h-So]=bn(g,255),jh[h-So]=bn(g+8>>4,15);od=1}return 1}function Xi(h){var g=h.ma,w=h.U,x=h.T;return t(!(1&h.ka)),0>=w||0>=x?0:(w=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,w),g.Dc+=w,1)}function $r(h){h.ma.memory=null}function le(h,g,w,x){return B(h,8)!=47?0:(g[0]=B(h,14)+1,w[0]=B(h,14)+1,x[0]=B(h,1),B(h,3)!=0?0:!h.h)}function Nn(h,g){if(4>h)return h+1;var w=h-2>>1;return(2+(1&h)<<w)+B(g,w)+1}function In(h,g){return 120<g?g-120:1<=(w=((w=ka[g-1])>>4)*h+(8-(15&w)))?w:1;var w}function Hn(h,g,w){var x=U(w),M=h[g+=255&x].g-8;return 0<M&&(rt(w,w.u+8),x=U(w),g+=h[g].value,g+=x&(1<<M)-1),rt(w,w.u+h[g].g),h[g].value}function Xn(h,g,w){return w.g+=h.g,w.value+=h.value<<g>>>0,t(8>=w.g),h.g}function ni(h,g,w){var x=h.xc;return t((g=x==0?0:h.vc[h.md*(w>>x)+(g>>x)])<h.Wb),h.Ya[g]}function pi(h,g,w,x){var M=h.ab,F=h.c*g,q=h.C;g=q+g;var Y=w,$=x;for(x=h.Ta,w=h.Ua;0<M--;){var tt=h.gc[M],ft=q,Rt=g,xt=Y,_t=$,zt=($=x,Y=w,tt.Ea);switch(t(ft<Rt),t(Rt<=tt.nc),tt.hc){case 2:Tc(xt,_t,(Rt-ft)*zt,$,Y);break;case 0:var Mt=ft,dt=Rt,gt=$,Ut=Y,Ht=(re=tt).Ea;Mt==0&&(Oh(xt,_t,null,null,1,gt,Ut),_e(xt,_t+1,0,0,Ht-1,gt,Ut+1),_t+=Ht,Ut+=Ht,++Mt);for(var Ft=1<<re.b,ue=Ft-1,ee=he(Ht,re.b),be=re.K,re=re.w+(Mt>>re.b)*ee;Mt<dt;){var dn=be,wn=re,We=1;for(Bu(xt,_t,gt,Ut-Ht,1,gt,Ut);We<Ht;){var Ke=(We&~ue)+Ft;Ke>Ht&&(Ke=Ht),(0,Ca[dn[wn++]>>8&15])(xt,_t+ +We,gt,Ut+We-Ht,Ke-We,gt,Ut+We),We=Ke}_t+=Ht,Ut+=Ht,++Mt&ue||(re+=ee)}Rt!=tt.nc&&r($,Y-zt,$,Y+(Rt-ft-1)*zt,zt);break;case 1:for(zt=xt,dt=_t,Ht=(xt=tt.Ea)-(Ut=xt&~(gt=(_t=1<<tt.b)-1)),Mt=he(xt,tt.b),Ft=tt.K,tt=tt.w+(ft>>tt.b)*Mt;ft<Rt;){for(ue=Ft,ee=tt,be=new se,re=dt+Ut,dn=dt+xt;dt<re;)Ge(ue[ee++],be),ho(be,zt,dt,_t,$,Y),dt+=_t,Y+=_t;dt<dn&&(Ge(ue[ee++],be),ho(be,zt,dt,Ht,$,Y),dt+=Ht,Y+=Ht),++ft&gt||(tt+=Mt)}break;case 3:if(xt==$&&_t==Y&&0<tt.b){for(dt=$,xt=zt=Y+(Rt-ft)*zt-(Ut=(Rt-ft)*he(tt.Ea,tt.b)),_t=$,gt=Y,Mt=[],Ut=(Ht=Ut)-1;0<=Ut;--Ut)Mt[Ut]=_t[gt+Ut];for(Ut=Ht-1;0<=Ut;--Ut)dt[xt+Ut]=Mt[Ut];ds(tt,ft,Rt,$,zt,$,Y)}else ds(tt,ft,Rt,xt,_t,$,Y)}Y=x,$=w}$!=w&&r(x,w,Y,$,F)}function ba(h,g){var w=h.V,x=h.Ba+h.c*h.C,M=g-h.C;if(t(g<=h.l.o),t(16>=M),0<M){var F=h.l,q=h.Ta,Y=h.Ua,$=F.width;if(pi(h,M,w,x),M=Y=[Y],t((w=h.C)<(x=g)),t(F.v<F.va),x>F.o&&(x=F.o),w<F.j){var tt=F.j-w;w=F.j,M[0]+=tt*$}if(w>=x?w=0:(M[0]+=4*F.v,F.ka=w-F.j,F.U=F.va-F.v,F.T=x-w,w=1),w){if(Y=Y[0],11>(w=h.ca).S){var ft=w.f.RGBA,Rt=(x=w.S,M=F.U,F=F.T,tt=ft.eb,ft.A),xt=F;for(ft=ft.fb+h.Ma*ft.A;0<xt--;){var _t=q,zt=Y,Mt=M,dt=tt,gt=ft;switch(x){case ur:yr(_t,zt,Mt,dt,gt);break;case Gl:Zi(_t,zt,Mt,dt,gt);break;case zu:Zi(_t,zt,Mt,dt,gt),es(dt,gt,0,Mt,1,0);break;case ua:js(_t,zt,Mt,dt,gt);break;case qu:xn(_t,zt,Mt,dt,gt,1);break;case bo:xn(_t,zt,Mt,dt,gt,1),es(dt,gt,0,Mt,1,0);break;case ol:xn(_t,zt,Mt,dt,gt,0);break;case Oa:xn(_t,zt,Mt,dt,gt,0),es(dt,gt,1,Mt,1,0);break;case Pa:fo(_t,zt,Mt,dt,gt);break;case Yl:fo(_t,zt,Mt,dt,gt),Je(dt,gt,Mt,1,0);break;case Nc:Mr(_t,zt,Mt,dt,gt);break;default:t(0)}Y+=$,ft+=Rt}h.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=w.height)}}h.C=g,t(h.C<=h.i)}function mr(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var w=h.Ya[g].G,x=h.Ya[g].H;if(0<w[1][x[1]+0].g||0<w[2][x[2]+0].g||0<w[3][x[3]+0].g)return 0}return 1}function Ui(h,g,w,x,M,F){if(h.Z!=0){var q=h.qd,Y=h.rd;for(t(ha[h.Z]!=null);g<w;++g)ha[h.Z](q,Y,x,M,x,M,F),q=x,Y=M,M+=F;h.qd=q,h.rd=Y}}function Ti(h,g){var w=h.l.ma,x=w.Z==0||w.Z==1?h.l.j:h.C;if(x=h.C<x?x:h.C,t(g<=h.l.o),g>x){var M=h.l.width,F=w.ca,q=w.tb+M*x,Y=h.V,$=h.Ba+h.c*x,tt=h.gc;t(h.ab==1),t(tt[0].hc==3),co(tt[0],x,g,Y,$,F,q),Ui(w,x,g,F,q,M)}h.C=h.Ma=g}function mi(h,g,w,x,M,F,q){var Y=h.$/x,$=h.$%x,tt=h.m,ft=h.s,Rt=w+h.$,xt=Rt;M=w+x*M;var _t=w+x*F,zt=280+ft.ua,Mt=h.Pb?Y:16777216,dt=0<ft.ua?ft.Wa:null,gt=ft.wc,Ut=Rt<_t?ni(ft,$,Y):null;t(h.C<F),t(_t<=M);var Ht=!1;t:for(;;){for(;Ht||Rt<_t;){var Ft=0;if(Y>=Mt){var ue=Rt-w;t((Mt=h).Pb),Mt.wd=Mt.m,Mt.xd=ue,0<Mt.s.ua&&Vt(Mt.s.Wa,Mt.s.vb),Mt=Y+rd}if($&gt||(Ut=ni(ft,$,Y)),t(Ut!=null),Ut.Qb&&(g[Rt]=Ut.qb,Ht=!0),!Ht)if(lt(tt),Ut.jc){Ft=tt,ue=g;var ee=Rt,be=Ut.pd[U(Ft)&Ii-1];t(Ut.jc),256>be.g?(rt(Ft,Ft.u+be.g),ue[ee]=be.value,Ft=0):(rt(Ft,Ft.u+be.g-256),t(256<=be.value),Ft=be.value),Ft==0&&(Ht=!0)}else Ft=Hn(Ut.G[0],Ut.H[0],tt);if(tt.h)break;if(Ht||256>Ft){if(!Ht)if(Ut.nd)g[Rt]=(Ut.qb|Ft<<8)>>>0;else{if(lt(tt),Ht=Hn(Ut.G[1],Ut.H[1],tt),lt(tt),ue=Hn(Ut.G[2],Ut.H[2],tt),ee=Hn(Ut.G[3],Ut.H[3],tt),tt.h)break;g[Rt]=(ee<<24|Ht<<16|Ft<<8|ue)>>>0}if(Ht=!1,++Rt,++$>=x&&($=0,++Y,q!=null&&Y<=F&&!(Y%16)&&q(h,Y),dt!=null))for(;xt<Rt;)Ft=g[xt++],dt.X[(506832829*Ft&4294967295)>>>dt.Mb]=Ft}else if(280>Ft){if(Ft=Nn(Ft-256,tt),ue=Hn(Ut.G[4],Ut.H[4],tt),lt(tt),ue=In(x,ue=Nn(ue,tt)),tt.h)break;if(Rt-w<ue||M-Rt<Ft)break t;for(ee=0;ee<Ft;++ee)g[Rt+ee]=g[Rt+ee-ue];for(Rt+=Ft,$+=Ft;$>=x;)$-=x,++Y,q!=null&&Y<=F&&!(Y%16)&&q(h,Y);if(t(Rt<=M),$&gt&&(Ut=ni(ft,$,Y)),dt!=null)for(;xt<Rt;)Ft=g[xt++],dt.X[(506832829*Ft&4294967295)>>>dt.Mb]=Ft}else{if(!(Ft<zt))break t;for(Ht=Ft-280,t(dt!=null);xt<Rt;)Ft=g[xt++],dt.X[(506832829*Ft&4294967295)>>>dt.Mb]=Ft;Ft=Rt,t(!(Ht>>>(ue=dt).Xa)),g[Ft]=ue.X[Ht],Ht=!0}Ht||t(tt.h==J(tt))}if(h.Pb&&tt.h&&Rt<M)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Vt(h.s.vb,h.s.Wa);else{if(tt.h)break t;q?.(h,Y>F?F:Y),h.a=0,h.$=Rt-w}return 1}return h.a=3,0}function xi(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,t(h!=null)}function Un(){var h=new Bl;return h==null?null:(h.a=0,h.xb=Kl,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),Tc=ge,ho=fe,yr=oe,Zi=ti,fo=Xe,Mr=Ki,js=$e,L.VP8LMapColor32b=Fi,L.VP8LMapColor8b=Fu,h)}function vn(h,g,w,x,M){var F=1,q=[h],Y=[g],$=x.m,tt=x.s,ft=null,Rt=0;t:for(;;){if(w)for(;F&&B($,1);){var xt=q,_t=Y,zt=x,Mt=1,dt=zt.m,gt=zt.gc[zt.ab],Ut=B(dt,2);if(zt.Oc&1<<Ut)F=0;else{switch(zt.Oc|=1<<Ut,gt.hc=Ut,gt.Ea=xt[0],gt.nc=_t[0],gt.K=[null],++zt.ab,t(4>=zt.ab),Ut){case 0:case 1:gt.b=B(dt,3)+2,Mt=vn(he(gt.Ea,gt.b),he(gt.nc,gt.b),0,zt,gt.K),gt.K=gt.K[0];break;case 3:var Ht,Ft=B(dt,8)+1,ue=16<Ft?0:4<Ft?1:2<Ft?2:3;if(xt[0]=he(gt.Ea,ue),gt.b=ue,Ht=Mt=vn(Ft,1,0,zt,gt.K)){var ee,be=Ft,re=gt,dn=1<<(8>>re.b),wn=l(dn);if(wn==null)Ht=0;else{var We=re.K[0],Ke=re.w;for(wn[0]=re.K[0][0],ee=1;ee<1*be;++ee)wn[ee]=$t(We[Ke+ee],wn[ee-1]);for(;ee<4*dn;++ee)wn[ee]=0;re.K[0]=null,re.K[0]=wn,Ht=1}}Mt=Ht;break;case 2:break;default:t(0)}F=Mt}}if(q=q[0],Y=Y[0],F&&B($,1)&&!(F=1<=(Rt=B($,4))&&11>=Rt)){x.a=3;break t}var Cn;if(Cn=F)e:{var An,Fe,Pn,Te=x,Oe=q,fn=Y,pn=Rt,Hi=w,Di=Te.m,ci=Te.s,hi=[null],_i=1,ys=0,Sn=ul[pn];n:for(;;){if(Hi&&B(Di,1)){var bi=B(Di,3)+2,Bs=he(Oe,bi),Eo=he(fn,bi),fl=Bs*Eo;if(!vn(Bs,Eo,0,Te,hi))break n;for(hi=hi[0],ci.xc=bi,An=0;An<fl;++An){var To=hi[An]>>8&65535;hi[An]=To,To>=_i&&(_i=To+1)}}if(Di.h)break n;for(Fe=0;5>Fe;++Fe){var Kn=ns[Fe];!Fe&&0<pn&&(Kn+=1<<pn),ys<Kn&&(ys=Kn)}var Qu=c(_i*Sn,C),Pc=_i,_r=c(Pc,at);if(_r==null)var Wn=null;else t(65536>=Pc),Wn=_r;var dl=l(ys);if(Wn==null||dl==null||Qu==null){Te.a=1;break n}var xo=Qu;for(An=Pn=0;An<_i;++An){var jr=Wn[An],No=jr.G,Vr=jr.H,Xu=0,Xl=1,Oc=0;for(Fe=0;5>Fe;++Fe){Kn=ns[Fe],No[Fe]=xo,Vr[Fe]=Pn,!Fe&&0<pn&&(Kn+=1<<pn);r:{var Wu,Mc=Kn,$u=Te,Wl=dl,cd=xo,hd=Pn,Ju=0,Ba=$u.m,x1=B(Ba,1);if(a(Wl,0,0,Mc),x1){var fd=B(Ba,1)+1,dd=B(Ba,1),Vh=B(Ba,dd==0?1:8);Wl[Vh]=1,fd==2&&(Wl[Vh=B(Ba,8)]=1);var $l=1}else{var Uh=l(19),Bh=B(Ba,4)+4;if(19<Bh){$u.a=3;var Zu=0;break r}for(Wu=0;Wu<Bh;++Wu)Uh[Ma[Wu]]=B(Ba,3);var kc=void 0,Jl=void 0,pd=$u,md=Uh,Fa=Mc,tc=Wl,jc=0,Fs=pd.m,Zl=8,Fh=c(128,C);i:for(;I(Fh,0,7,md,19);){if(B(Fs,1)){var gd=2+2*B(Fs,3);if((kc=2+B(Fs,gd))>Fa)break i}else kc=Fa;for(Jl=0;Jl<Fa&&kc--;){lt(Fs);var qh=Fh[0+(127&U(Fs))];rt(Fs,Fs.u+qh.g);var pl=qh.value;if(16>pl)tc[Jl++]=pl,pl!=0&&(Zl=pl);else{var yd=pl==16,zh=pl-16,Hh=gs[zh],Gh=B(Fs,Ic[zh])+Hh;if(Jl+Gh>Fa)break i;for(var vd=yd?Zl:0;0<Gh--;)tc[Jl++]=vd}}jc=1;break i}jc||(pd.a=3),$l=jc}($l=$l&&!Ba.h)&&(Ju=I(cd,hd,8,Wl,Mc)),$l&&Ju!=0?Zu=Ju:($u.a=3,Zu=0)}if(Zu==0)break n;if(Xl&&ll[Fe]==1&&(Xl=xo[Pn].g==0),Xu+=xo[Pn].g,Pn+=Zu,3>=Fe){var ml,Vc=dl[0];for(ml=1;ml<Kn;++ml)dl[ml]>Vc&&(Vc=dl[ml]);Oc+=Vc}}if(jr.nd=Xl,jr.Qb=0,Xl&&(jr.qb=(No[3][Vr[3]+0].value<<24|No[1][Vr[1]+0].value<<16|No[2][Vr[2]+0].value)>>>0,Xu==0&&256>No[0][Vr[0]+0].value&&(jr.Qb=1,jr.qb+=No[0][Vr[0]+0].value<<8)),jr.jc=!jr.Qb&&6>Oc,jr.jc){var ec,qa=jr;for(ec=0;ec<Ii;++ec){var pa=ec,za=qa.pd[pa],nc=qa.G[0][qa.H[0]+pa];256<=nc.value?(za.g=nc.g+256,za.value=nc.value):(za.g=0,za.value=0,pa>>=Xn(nc,8,za),pa>>=Xn(qa.G[1][qa.H[1]+pa],16,za),pa>>=Xn(qa.G[2][qa.H[2]+pa],0,za),Xn(qa.G[3][qa.H[3]+pa],24,za))}}}ci.vc=hi,ci.Wb=_i,ci.Ya=Wn,ci.yc=Qu,Cn=1;break e}Cn=0}if(!(F=Cn)){x.a=3;break t}if(0<Rt){if(tt.ua=1<<Rt,!we(tt.Wa,Rt)){x.a=1,F=0;break t}}else tt.ua=0;var ic=x,Yh=q,_d=Y,Kh=ic.s,Qh=Kh.xc;if(ic.c=Yh,ic.i=_d,Kh.md=he(Yh,Qh),Kh.wc=Qh==0?-1:(1<<Qh)-1,w){x.xb=ad;break t}if((ft=l(q*Y))==null){x.a=1,F=0;break t}F=(F=mi(x,ft,0,q,Y,Y,null))&&!$.h;break t}return F?(M!=null?M[0]=ft:(t(ft==null),t(w)),x.$=0,w||xi(tt)):xi(tt),F}function xs(h,g){var w=h.c*h.i,x=w+g+16*g;return t(h.c<=g),h.V=l(x),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+w+g,1)}function Ns(h,g){var w=h.C,x=g-w,M=h.V,F=h.Ba+h.c*w;for(t(g<=h.l.o);0<x;){var q=16<x?16:x,Y=h.l.ma,$=h.l.width,tt=$*q,ft=Y.ca,Rt=Y.tb+$*w,xt=h.Ta,_t=h.Ua;pi(h,q,M,F),Fn(xt,_t,ft,Rt,tt),Ui(Y,w,w+q,ft,Rt,$),x-=q,M+=q*h.c,w+=q}t(w==g),h.C=h.Ma=g}function rr(){this.ub=this.yd=this.td=this.Rb=0}function Ir(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wa(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Yo(){this.Yb=function(){var h=[];return function g(w,x,M){for(var F=M[x],q=0;q<F&&(w.push(M.length>x+1?[]:0),!(M.length<x+1));q++)g(w[q],x+1,M)}(h,0,[3,11]),h}()}function Aa(){this.jb=l(3),this.Wc=f([4,8],Yo),this.Xc=f([4,17],Yo)}function Ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Jr(){this.ld=this.La=this.dd=this.tc=0}function Zr(){this.Na=this.la=0}function Ni(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Is(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jr),this.Y=0,this.ya=Array(new Is),this.aa=0,this.l=new Rs}function rs(){this.y=l(16),this.f=l(8),this.ea=l(8)}function to(){this.cb=this.a=0,this.sc="",this.m=new pt,this.Od=new rr,this.Kc=new Ir,this.ed=new Ol,this.Qa=new wa,this.Ic=this.$c=this.Aa=0,this.D=new Ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,pt),this.ia=0,this.pb=c(4,Ni),this.Pa=new Aa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rs),this.Hd=0,this.rb=Array(new Zr),this.sb=0,this.wa=Array(new Jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Is),this.L=this.aa=0,this.gd=f([4,2],Jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ko(){var h=new to;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Ri||(Ri=kl)),h}function Bn(h,g,w){return h.a==0&&(h.a=g,h.sc=w,h.cb=0),0}function Bi(h,g,w){return 3<=w&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function eo(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Bn(h,2,"null VP8Io passed to VP8GetHeaders()");var w=g.data,x=g.w,M=g.ha;if(4>M)return Bn(h,7,"Truncated header.");var F=w[x+0]|w[x+1]<<8|w[x+2]<<16,q=h.Od;if(q.Rb=!(1&F),q.td=F>>1&7,q.yd=F>>4&1,q.ub=F>>5,3<q.td)return Bn(h,3,"Incorrect keyframe parameters.");if(!q.yd)return Bn(h,4,"Frame not displayable.");x+=3,M-=3;var Y=h.Kc;if(q.Rb){if(7>M)return Bn(h,7,"cannot parse picture header");if(!Bi(w,x,M))return Bn(h,3,"Bad code word");Y.c=16383&(w[x+4]<<8|w[x+3]),Y.Td=w[x+4]>>6,Y.i=16383&(w[x+6]<<8|w[x+5]),Y.Ud=w[x+6]>>6,x+=7,M-=7,h.za=Y.c+15>>4,h.Ub=Y.i+15>>4,g.width=Y.c,g.height=Y.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,a((F=h.Pa).jb,0,255,F.jb.length),t((F=h.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,a(F.Zb,0,0,F.Zb.length),a(F.Lb,0,0,F.Lb)}if(q.ub>M)return Bn(h,7,"bad partition length");Tt(F=h.m,w,x,q.ub),x+=q.ub,M-=q.ub,q.Rb&&(Y.Ld=St(F),Y.Kd=St(F)),Y=h.Qa;var $,tt=h.Pa;if(t(F!=null),t(Y!=null),Y.Cb=St(F),Y.Cb){if(Y.Bb=St(F),St(F)){for(Y.Fb=St(F),$=0;4>$;++$)Y.Zb[$]=St(F)?ht(F,7):0;for($=0;4>$;++$)Y.Lb[$]=St(F)?ht(F,6):0}if(Y.Bb)for($=0;3>$;++$)tt.jb[$]=St(F)?et(F,8):255}else Y.Bb=0;if(F.Ka)return Bn(h,3,"cannot parse segment header");if((Y=h.ed).zd=St(F),Y.Tb=et(F,6),Y.wb=et(F,3),Y.Pc=St(F),Y.Pc&&St(F)){for(tt=0;4>tt;++tt)St(F)&&(Y.vd[tt]=ht(F,6));for(tt=0;4>tt;++tt)St(F)&&(Y.od[tt]=ht(F,6))}if(h.L=Y.Tb==0?0:Y.zd?1:2,F.Ka)return Bn(h,3,"cannot parse filter header");var ft=M;if(M=$=x,x=$+ft,Y=ft,h.Xb=(1<<et(h.m,2))-1,ft<3*(tt=h.Xb))w=7;else{for($+=3*tt,Y-=3*tt,ft=0;ft<tt;++ft){var Rt=w[M+0]|w[M+1]<<8|w[M+2]<<16;Rt>Y&&(Rt=Y),Tt(h.Jc[+ft],w,$,Rt),$+=Rt,Y-=Rt,M+=3}Tt(h.Jc[+tt],w,$,Y),w=$<x?0:5}if(w!=0)return Bn(h,w,"cannot parse partitions");for(w=et($=h.m,7),M=St($)?ht($,4):0,x=St($)?ht($,4):0,Y=St($)?ht($,4):0,tt=St($)?ht($,4):0,$=St($)?ht($,4):0,ft=h.Qa,Rt=0;4>Rt;++Rt){if(ft.Cb){var xt=ft.Zb[Rt];ft.Fb||(xt+=w)}else{if(0<Rt){h.pb[Rt]=h.pb[0];continue}xt=w}var _t=h.pb[Rt];_t.Sc[0]=Hu[bn(xt+M,127)],_t.Sc[1]=Gu[bn(xt+0,127)],_t.Eb[0]=2*Hu[bn(xt+x,127)],_t.Eb[1]=101581*Gu[bn(xt+Y,127)]>>16,8>_t.Eb[1]&&(_t.Eb[1]=8),_t.Qc[0]=Hu[bn(xt+tt,117)],_t.Qc[1]=Gu[bn(xt+$,127)],_t.lc=xt+$}if(!q.Rb)return Bn(h,4,"Not a key frame.");for(St(F),q=h.Pa,w=0;4>w;++w){for(M=0;8>M;++M)for(x=0;3>x;++x)for(Y=0;11>Y;++Y)tt=Dt(F,cl[w][M][x][Y])?et(F,8):ca[w][M][x][Y],q.Wc[w][M].Yb[x][Y]=tt;for(M=0;17>M;++M)q.Xc[w][M]=q.Wc[w][sd[M]]}return h.kc=St(F),h.kc&&(h.Bd=et(F,8)),h.cb=1}function kl(h,g,w,x,M,F,q){var Y=g[M].Yb[w];for(w=0;16>M;++M){if(!Dt(h,Y[w+0]))return M;for(;!Dt(h,Y[w+1]);)if(Y=g[++M].Yb[0],w=0,M==16)return 16;var $=g[M+1].Yb;if(Dt(h,Y[w+2])){var tt=h,ft=0;if(Dt(tt,(xt=Y)[(Rt=w)+3]))if(Dt(tt,xt[Rt+6])){for(Y=0,Rt=2*(ft=Dt(tt,xt[Rt+8]))+(xt=Dt(tt,xt[Rt+9+ft])),ft=0,xt=si[Rt];xt[Y];++Y)ft+=ft+Dt(tt,xt[Y]);ft+=3+(8<<Rt)}else Dt(tt,xt[Rt+7])?(ft=7+2*Dt(tt,165),ft+=Dt(tt,145)):ft=5+Dt(tt,159);else ft=Dt(tt,xt[Rt+4])?3+Dt(tt,xt[Rt+5]):2;Y=$[2]}else ft=1,Y=$[1];$=q+yn[M],0>(tt=h).b&&Et(tt);var Rt,xt=tt.b,_t=(Rt=tt.Ca>>1)-(tt.I>>xt)>>31;--tt.b,tt.Ca+=_t,tt.Ca|=1,tt.I-=(Rt+1&_t)<<xt,F[$]=((ft^_t)-_t)*x[(0<M)+0]}return 16}function Xs(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function Qo(h,g){if(h==null)return 0;if(g==null)return Bn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!eo(h,g))return 0;if(t(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var w=Ua[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-w>>4,h.zb=g.j-w>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+w>>4,h.Hb=g.va+15+w>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var x=h.ed;for(w=0;4>w;++w){var M;if(h.Qa.Cb){var F=h.Qa.Lb[w];h.Qa.Fb||(F+=x.Tb)}else F=x.Tb;for(M=0;1>=M;++M){var q=h.gd[w][M],Y=F;if(x.Pc&&(Y+=x.vd[0],M&&(Y+=x.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var $=Y;0<x.wb&&($=4<x.wb?$>>2:$>>1)>9-x.wb&&($=9-x.wb),1>$&&($=1),q.dd=$,q.tc=2*Y+$,q.ld=40<=Y?2:15<=Y?1:0}else q.tc=0;q.La=M}}}w=0}else Bn(h,6,"Frame setup failed"),w=h.a;if(w=w==0){if(w){h.$c=0,0<h.Aa||(h.Ic=ld);t:{w=h.Ic,x=4*($=h.za);var tt=32*$,ft=$+1,Rt=0<h.L?$*(0<h.Aa?2:1):0,xt=(h.Aa==2?2:1)*$;if((q=x+832+(M=3*(16*w+Ua[h.L])/2*tt)+(F=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=q)w=0;else{if(q>h.Vb){if(h.Vb=0,h.Ec=l(q),h.Fc=0,h.Ec==null){w=Bn(h,1,"no memory during frame initialization.");break t}h.Vb=q}q=h.Ec,Y=h.Fc,h.Ac=q,h.Bc=Y,Y+=x,h.Gd=c(tt,rs),h.Hd=0,h.rb=c(ft+1,Zr),h.sb=1,h.wa=Rt?c(Rt,Jr):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=$),t(!0),h.oc=q,h.pc=Y,Y+=832,h.ya=c(xt,Is),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=$),h.R=16*$,h.B=8*$,$=(tt=Ua[h.L])*h.R,tt=tt/2*h.B,h.sa=q,h.ta=Y+$,h.qa=h.sa,h.ra=h.ta+16*w*h.R+tt,h.Ha=h.qa,h.Ia=h.ra+8*w*h.B+tt,h.$c=0,Y+=M,h.mb=F?q:null,h.nb=F?Y:null,t(Y+F<=h.Fc+h.Vb),Xs(h),a(h.Ac,h.Bc,0,x),w=1}}if(w){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Da){for(w=-255;255>=w;++w)ui[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)ps[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)vo[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)_o[255+w]=0>w?0:255<w?255:w;Da=1}oa=Rr,Vs=$s,Us=ss,vi=_n,kr=Js,ii=Ws,il=na,la=Ms,zl=so,po=Zo,mo=ro,go=Ta,rl=xa,Hl=ia,yo=ts,La=or,sl=yi,ri=Ul,vr[0]=sr,vr[1]=jl,vr[2]=ls,vr[3]=Vl,vr[4]=Cr,vr[5]=us,vr[6]=gr,vr[7]=Lr,vr[8]=Os,vr[9]=Zs,ja[0]=as,ja[1]=Wo,ja[2]=Ls,ja[3]=io,ja[4]=Dn,ja[5]=Ps,ja[6]=os,is[0]=cs,is[1]=Xo,is[2]=$o,is[3]=Dr,is[4]=tn,is[5]=gi,is[6]=ta,w=1}else w=0}w&&(w=function(_t,zt){for(_t.M=0;_t.M<_t.Va;++_t.M){var Mt,dt=_t.Jc[_t.M&_t.Xb],gt=_t.m,Ut=_t;for(Mt=0;Mt<Ut.za;++Mt){var Ht=gt,Ft=Ut,ue=Ft.Ac,ee=Ft.Bc+4*Mt,be=Ft.zc,re=Ft.ya[Ft.aa+Mt];if(Ft.Qa.Bb?re.$b=Dt(Ht,Ft.Pa.jb[0])?2+Dt(Ht,Ft.Pa.jb[2]):Dt(Ht,Ft.Pa.jb[1]):re.$b=0,Ft.kc&&(re.Ad=Dt(Ht,Ft.Bd)),re.Za=!Dt(Ht,145)+0,re.Za){var dn=re.Ob,wn=0;for(Ft=0;4>Ft;++Ft){var We,Ke=be[0+Ft];for(We=0;4>We;++We){Ke=Mh[ue[ee+We]][Ke];for(var Cn=wo[Dt(Ht,Ke[0])];0<Cn;)Cn=wo[2*Cn+Dt(Ht,Ke[Cn])];Ke=-Cn,ue[ee+We]=Ke}r(dn,wn,ue,ee,4),wn+=4,be[0+Ft]=Ke}}else Ke=Dt(Ht,156)?Dt(Ht,128)?1:3:Dt(Ht,163)?2:0,re.Ob[0]=Ke,a(ue,ee,Ke,4),a(be,0,Ke,4);re.Dd=Dt(Ht,142)?Dt(Ht,114)?Dt(Ht,183)?1:3:2:0}if(Ut.m.Ka)return Bn(_t,7,"Premature end-of-partition0 encountered.");for(;_t.ja<_t.za;++_t.ja){if(Ut=dt,Ht=(gt=_t).rb[gt.sb-1],ue=gt.rb[gt.sb+gt.ja],Mt=gt.ya[gt.aa+gt.ja],ee=gt.kc?Mt.Ad:0)Ht.la=ue.la=0,Mt.Za||(Ht.Na=ue.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var An,Fe;if(Ht=ue,ue=Ut,ee=gt.Pa.Xc,be=gt.ya[gt.aa+gt.ja],re=gt.pb[be.$b],Ft=be.ad,dn=0,wn=gt.rb[gt.sb-1],Ke=We=0,a(Ft,dn,0,384),be.Za)var Pn=0,Te=ee[3];else{Cn=l(16);var Oe=Ht.Na+wn.Na;if(Oe=Ri(ue,ee[1],Oe,re.Eb,0,Cn,0),Ht.Na=wn.Na=(0<Oe)+0,1<Oe)oa(Cn,0,Ft,dn);else{var fn=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)Ft[dn+Cn]=fn}Pn=1,Te=ee[0]}var pn=15&Ht.la,Hi=15&wn.la;for(Cn=0;4>Cn;++Cn){var Di=1&Hi;for(fn=Fe=0;4>fn;++fn)pn=pn>>1|(Di=(Oe=Ri(ue,Te,Oe=Di+(1&pn),re.Sc,Pn,Ft,dn))>Pn)<<7,Fe=Fe<<2|(3<Oe?3:1<Oe?2:Ft[dn+0]!=0),dn+=16;pn>>=4,Hi=Hi>>1|Di<<7,We=(We<<8|Fe)>>>0}for(Te=pn,Pn=Hi>>4,An=0;4>An;An+=2){for(Fe=0,pn=Ht.la>>4+An,Hi=wn.la>>4+An,Cn=0;2>Cn;++Cn){for(Di=1&Hi,fn=0;2>fn;++fn)Oe=Di+(1&pn),pn=pn>>1|(Di=0<(Oe=Ri(ue,ee[2],Oe,re.Qc,0,Ft,dn)))<<3,Fe=Fe<<2|(3<Oe?3:1<Oe?2:Ft[dn+0]!=0),dn+=16;pn>>=2,Hi=Hi>>1|Di<<5}Ke|=Fe<<4*An,Te|=pn<<4<<An,Pn|=(240&Hi)<<An}Ht.la=Te,wn.la=Pn,be.Hc=We,be.Gc=Ke,be.ia=43690&Ke?0:re.ia,ee=!(We|Ke)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[Mt.$b][Mt.Za],gt.wa[gt.Y+gt.ja].La|=!ee),Ut.Ka)return Bn(_t,7,"Premature end-of-file encountered.")}if(Xs(_t),gt=zt,Ut=1,Mt=(dt=_t).D,Ht=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Mt.M=dt.M,Mt.uc=Ht,Pr(dt,Mt),Ut=1,Mt=(Fe=dt.D).Nb,Ht=(Ke=Ua[dt.L])*dt.R,ue=Ke/2*dt.B,Cn=16*Mt*dt.R,fn=8*Mt*dt.B,ee=dt.sa,be=dt.ta-Ht+Cn,re=dt.qa,Ft=dt.ra-ue+fn,dn=dt.Ha,wn=dt.Ia-ue+fn,Hi=(pn=Fe.M)==0,We=pn>=dt.Va-1,dt.Aa==2&&Pr(dt,Fe),Fe.uc)for(Di=(Oe=dt).D.M,t(Oe.D.uc),Fe=Oe.yb;Fe<Oe.Hb;++Fe){Pn=Fe,Te=Di;var ci=(hi=(Kn=Oe).D).Nb;An=Kn.R;var hi=hi.wa[hi.Y+Pn],_i=Kn.sa,ys=Kn.ta+16*ci*An+16*Pn,Sn=hi.dd,bi=hi.tc;if(bi!=0)if(t(3<=bi),Kn.L==1)0<Pn&&La(_i,ys,An,bi+4),hi.La&&ri(_i,ys,An,bi),0<Te&&yo(_i,ys,An,bi+4),hi.La&&sl(_i,ys,An,bi);else{var Bs=Kn.B,Eo=Kn.qa,fl=Kn.ra+8*ci*Bs+8*Pn,To=Kn.Ha,Kn=Kn.Ia+8*ci*Bs+8*Pn;ci=hi.ld,0<Pn&&(la(_i,ys,An,bi+4,Sn,ci),po(Eo,fl,To,Kn,Bs,bi+4,Sn,ci)),hi.La&&(go(_i,ys,An,bi,Sn,ci),Hl(Eo,fl,To,Kn,Bs,bi,Sn,ci)),0<Te&&(il(_i,ys,An,bi+4,Sn,ci),zl(Eo,fl,To,Kn,Bs,bi+4,Sn,ci)),hi.La&&(mo(_i,ys,An,bi,Sn,ci),rl(Eo,fl,To,Kn,Bs,bi,Sn,ci))}}if(dt.ia&&alert("todo:DitherRow"),gt.put!=null){if(Fe=16*pn,pn=16*(pn+1),Hi?(gt.y=dt.sa,gt.O=dt.ta+Cn,gt.f=dt.qa,gt.N=dt.ra+fn,gt.ea=dt.Ha,gt.W=dt.Ia+fn):(Fe-=Ke,gt.y=ee,gt.O=be,gt.f=re,gt.N=Ft,gt.ea=dn,gt.W=wn),We||(pn-=Ke),pn>gt.o&&(pn=gt.o),gt.F=null,gt.J=null,dt.Fa!=null&&0<dt.Fa.length&&Fe<pn&&(gt.J=oo(dt,gt,Fe,pn-Fe),gt.F=dt.mb,gt.F==null&&gt.F.length==0)){Ut=Bn(dt,3,"Could not decode alpha data.");break t}Fe<gt.j&&(Ke=gt.j-Fe,Fe=gt.j,t(!(1&Ke)),gt.O+=dt.R*Ke,gt.N+=dt.B*(Ke>>1),gt.W+=dt.B*(Ke>>1),gt.F!=null&&(gt.J+=gt.width*Ke)),Fe<pn&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=Fe-gt.j,gt.U=gt.va-gt.v,gt.T=pn-Fe,Ut=gt.put(gt))}Mt+1!=dt.Ic||We||(r(dt.sa,dt.ta-Ht,ee,be+16*dt.R,Ht),r(dt.qa,dt.ra-ue,re,Ft+8*dt.B,ue),r(dt.Ha,dt.Ia-ue,dn,wn+8*dt.B,ue))}if(!Ut)return Bn(_t,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),w&=1}return w?(h.cb=0,w):0}function Wi(h,g,w,x,M){M=h[g+w+32*x]+(M>>3),h[g+w+32*x]=-256&M?0>M?0:255:M}function no(h,g,w,x,M,F){Wi(h,g,0,w,x+M),Wi(h,g,1,w,x+F),Wi(h,g,2,w,x-F),Wi(h,g,3,w,x-M)}function hn(h){return(20091*h>>16)+h}function $i(h,g,w,x){var M,F=0,q=l(16);for(M=0;4>M;++M){var Y=h[g+0]+h[g+8],$=h[g+0]-h[g+8],tt=(35468*h[g+4]>>16)-hn(h[g+12]),ft=hn(h[g+4])+(35468*h[g+12]>>16);q[F+0]=Y+ft,q[F+1]=$+tt,q[F+2]=$-tt,q[F+3]=Y-ft,F+=4,g++}for(M=F=0;4>M;++M)Y=(h=q[F+0]+4)+q[F+8],$=h-q[F+8],tt=(35468*q[F+4]>>16)-hn(q[F+12]),Wi(w,x,0,0,Y+(ft=hn(q[F+4])+(35468*q[F+12]>>16))),Wi(w,x,1,0,$+tt),Wi(w,x,2,0,$-tt),Wi(w,x,3,0,Y-ft),F++,x+=32}function Ws(h,g,w,x){var M=h[g+0]+4,F=35468*h[g+4]>>16,q=hn(h[g+4]),Y=35468*h[g+1]>>16;no(w,x,0,M+q,h=hn(h[g+1]),Y),no(w,x,1,M+F,h,Y),no(w,x,2,M-F,h,Y),no(w,x,3,M-q,h,Y)}function $s(h,g,w,x,M){$i(h,g,w,x),M&&$i(h,g+16,w,x+4)}function ss(h,g,w,x){Vs(h,g+0,w,x,1),Vs(h,g+32,w,x+128,1)}function _n(h,g,w,x){var M;for(h=h[g+0]+4,M=0;4>M;++M)for(g=0;4>g;++g)Wi(w,x,g,M,h)}function Js(h,g,w,x){h[g+0]&&vi(h,g+0,w,x),h[g+16]&&vi(h,g+16,w,x+4),h[g+32]&&vi(h,g+32,w,x+128),h[g+48]&&vi(h,g+48,w,x+128+4)}function Rr(h,g,w,x){var M,F=l(16);for(M=0;4>M;++M){var q=h[g+0+M]+h[g+12+M],Y=h[g+4+M]+h[g+8+M],$=h[g+4+M]-h[g+8+M],tt=h[g+0+M]-h[g+12+M];F[0+M]=q+Y,F[8+M]=q-Y,F[4+M]=tt+$,F[12+M]=tt-$}for(M=0;4>M;++M)q=(h=F[0+4*M]+3)+F[3+4*M],Y=F[1+4*M]+F[2+4*M],$=F[1+4*M]-F[2+4*M],tt=h-F[3+4*M],w[x+0]=q+Y>>3,w[x+16]=tt+$>>3,w[x+32]=q-Y>>3,w[x+48]=tt-$>>3,x+=64}function Cs(h,g,w){var x,M=g-32,F=qi,q=255-h[M-1];for(x=0;x<w;++x){var Y,$=F,tt=q+h[g-1];for(Y=0;Y<w;++Y)h[g+Y]=$[tt+h[M+Y]];g+=32}}function jl(h,g){Cs(h,g,4)}function Xo(h,g){Cs(h,g,8)}function Wo(h,g){Cs(h,g,16)}function Ls(h,g){var w;for(w=0;16>w;++w)r(h,g+32*w,h,g-32,16)}function io(h,g){var w;for(w=16;0<w;--w)a(h,g,h[g-1],16),g+=32}function Ds(h,g,w){var x;for(x=0;16>x;++x)a(g,w+32*x,h,16)}function as(h,g){var w,x=16;for(w=0;16>w;++w)x+=h[g-1+32*w]+h[g+w-32];Ds(x>>5,h,g)}function Dn(h,g){var w,x=8;for(w=0;16>w;++w)x+=h[g-1+32*w];Ds(x>>4,h,g)}function Ps(h,g){var w,x=8;for(w=0;16>w;++w)x+=h[g+w-32];Ds(x>>4,h,g)}function os(h,g){Ds(128,h,g)}function Ne(h,g,w){return h+2*g+w+2>>2}function ls(h,g){var w,x=g-32;for(x=new Uint8Array([Ne(h[x-1],h[x+0],h[x+1]),Ne(h[x+0],h[x+1],h[x+2]),Ne(h[x+1],h[x+2],h[x+3]),Ne(h[x+2],h[x+3],h[x+4])]),w=0;4>w;++w)r(h,g+32*w,x,0,x.length)}function Vl(h,g){var w=h[g-1],x=h[g-1+32],M=h[g-1+64],F=h[g-1+96];Jt(h,g+0,16843009*Ne(h[g-1-32],w,x)),Jt(h,g+32,16843009*Ne(w,x,M)),Jt(h,g+64,16843009*Ne(x,M,F)),Jt(h,g+96,16843009*Ne(M,F,F))}function sr(h,g){var w,x=4;for(w=0;4>w;++w)x+=h[g+w-32]+h[g-1+32*w];for(x>>=3,w=0;4>w;++w)a(h,g+32*w,x,4)}function Cr(h,g){var w=h[g-1+0],x=h[g-1+32],M=h[g-1+64],F=h[g-1-32],q=h[g+0-32],Y=h[g+1-32],$=h[g+2-32],tt=h[g+3-32];h[g+0+96]=Ne(x,M,h[g-1+96]),h[g+1+96]=h[g+0+64]=Ne(w,x,M),h[g+2+96]=h[g+1+64]=h[g+0+32]=Ne(F,w,x),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=Ne(q,F,w),h[g+3+64]=h[g+2+32]=h[g+1+0]=Ne(Y,q,F),h[g+3+32]=h[g+2+0]=Ne($,Y,q),h[g+3+0]=Ne(tt,$,Y)}function gr(h,g){var w=h[g+1-32],x=h[g+2-32],M=h[g+3-32],F=h[g+4-32],q=h[g+5-32],Y=h[g+6-32],$=h[g+7-32];h[g+0+0]=Ne(h[g+0-32],w,x),h[g+1+0]=h[g+0+32]=Ne(w,x,M),h[g+2+0]=h[g+1+32]=h[g+0+64]=Ne(x,M,F),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=Ne(M,F,q),h[g+3+32]=h[g+2+64]=h[g+1+96]=Ne(F,q,Y),h[g+3+64]=h[g+2+96]=Ne(q,Y,$),h[g+3+96]=Ne(Y,$,$)}function us(h,g){var w=h[g-1+0],x=h[g-1+32],M=h[g-1+64],F=h[g-1-32],q=h[g+0-32],Y=h[g+1-32],$=h[g+2-32],tt=h[g+3-32];h[g+0+0]=h[g+1+64]=F+q+1>>1,h[g+1+0]=h[g+2+64]=q+Y+1>>1,h[g+2+0]=h[g+3+64]=Y+$+1>>1,h[g+3+0]=$+tt+1>>1,h[g+0+96]=Ne(M,x,w),h[g+0+64]=Ne(x,w,F),h[g+0+32]=h[g+1+96]=Ne(w,F,q),h[g+1+32]=h[g+2+96]=Ne(F,q,Y),h[g+2+32]=h[g+3+96]=Ne(q,Y,$),h[g+3+32]=Ne(Y,$,tt)}function Lr(h,g){var w=h[g+0-32],x=h[g+1-32],M=h[g+2-32],F=h[g+3-32],q=h[g+4-32],Y=h[g+5-32],$=h[g+6-32],tt=h[g+7-32];h[g+0+0]=w+x+1>>1,h[g+1+0]=h[g+0+64]=x+M+1>>1,h[g+2+0]=h[g+1+64]=M+F+1>>1,h[g+3+0]=h[g+2+64]=F+q+1>>1,h[g+0+32]=Ne(w,x,M),h[g+1+32]=h[g+0+96]=Ne(x,M,F),h[g+2+32]=h[g+1+96]=Ne(M,F,q),h[g+3+32]=h[g+2+96]=Ne(F,q,Y),h[g+3+64]=Ne(q,Y,$),h[g+3+96]=Ne(Y,$,tt)}function Zs(h,g){var w=h[g-1+0],x=h[g-1+32],M=h[g-1+64],F=h[g-1+96];h[g+0+0]=w+x+1>>1,h[g+2+0]=h[g+0+32]=x+M+1>>1,h[g+2+32]=h[g+0+64]=M+F+1>>1,h[g+1+0]=Ne(w,x,M),h[g+3+0]=h[g+1+32]=Ne(x,M,F),h[g+3+32]=h[g+1+64]=Ne(M,F,F),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=F}function Os(h,g){var w=h[g-1+0],x=h[g-1+32],M=h[g-1+64],F=h[g-1+96],q=h[g-1-32],Y=h[g+0-32],$=h[g+1-32],tt=h[g+2-32];h[g+0+0]=h[g+2+32]=w+q+1>>1,h[g+0+32]=h[g+2+64]=x+w+1>>1,h[g+0+64]=h[g+2+96]=M+x+1>>1,h[g+0+96]=F+M+1>>1,h[g+3+0]=Ne(Y,$,tt),h[g+2+0]=Ne(q,Y,$),h[g+1+0]=h[g+3+32]=Ne(w,q,Y),h[g+1+32]=h[g+3+64]=Ne(x,w,q),h[g+1+64]=h[g+3+96]=Ne(M,x,w),h[g+1+96]=Ne(F,M,x)}function $o(h,g){var w;for(w=0;8>w;++w)r(h,g+32*w,h,g-32,8)}function Dr(h,g){var w;for(w=0;8>w;++w)a(h,g,h[g-1],8),g+=32}function ar(h,g,w){var x;for(x=0;8>x;++x)a(g,w+32*x,h,8)}function cs(h,g){var w,x=8;for(w=0;8>w;++w)x+=h[g+w-32]+h[g-1+32*w];ar(x>>4,h,g)}function gi(h,g){var w,x=4;for(w=0;8>w;++w)x+=h[g+w-32];ar(x>>3,h,g)}function tn(h,g){var w,x=4;for(w=0;8>w;++w)x+=h[g-1+32*w];ar(x>>3,h,g)}function ta(h,g){ar(128,h,g)}function hs(h,g,w){var x=h[g-w],M=h[g+0],F=3*(M-x)+xc[1020+h[g-2*w]-h[g+w]],q=al[112+(F+4>>3)];h[g-w]=qi[255+x+al[112+(F+3>>3)]],h[g+0]=qi[255+M-q]}function Jo(h,g,w,x){var M=h[g+0],F=h[g+w];return ms[255+h[g-2*w]-h[g-w]]>x||ms[255+F-M]>x}function Sa(h,g,w,x){return 4*ms[255+h[g-w]-h[g+0]]+ms[255+h[g-2*w]-h[g+w]]<=x}function Ea(h,g,w,x,M){var F=h[g-3*w],q=h[g-2*w],Y=h[g-w],$=h[g+0],tt=h[g+w],ft=h[g+2*w],Rt=h[g+3*w];return 4*ms[255+Y-$]+ms[255+q-tt]>x?0:ms[255+h[g-4*w]-F]<=M&&ms[255+F-q]<=M&&ms[255+q-Y]<=M&&ms[255+Rt-ft]<=M&&ms[255+ft-tt]<=M&&ms[255+tt-$]<=M}function ts(h,g,w,x){var M=2*x+1;for(x=0;16>x;++x)Sa(h,g+x,w,M)&&hs(h,g+x,w)}function or(h,g,w,x){var M=2*x+1;for(x=0;16>x;++x)Sa(h,g+x*w,1,M)&&hs(h,g+x*w,1)}function yi(h,g,w,x){var M;for(M=3;0<M;--M)ts(h,g+=4*w,w,x)}function Ul(h,g,w,x){var M;for(M=3;0<M;--M)or(h,g+=4,w,x)}function ea(h,g,w,x,M,F,q,Y){for(F=2*F+1;0<M--;){if(Ea(h,g,w,F,q))if(Jo(h,g,w,Y))hs(h,g,w);else{var $=h,tt=g,ft=w,Rt=$[tt-2*ft],xt=$[tt-ft],_t=$[tt+0],zt=$[tt+ft],Mt=$[tt+2*ft],dt=27*(Ut=xc[1020+3*(_t-xt)+xc[1020+Rt-zt]])+63>>7,gt=18*Ut+63>>7,Ut=9*Ut+63>>7;$[tt-3*ft]=qi[255+$[tt-3*ft]+Ut],$[tt-2*ft]=qi[255+Rt+gt],$[tt-ft]=qi[255+xt+dt],$[tt+0]=qi[255+_t-dt],$[tt+ft]=qi[255+zt-gt],$[tt+2*ft]=qi[255+Mt-Ut]}g+=x}}function Ji(h,g,w,x,M,F,q,Y){for(F=2*F+1;0<M--;){if(Ea(h,g,w,F,q))if(Jo(h,g,w,Y))hs(h,g,w);else{var $=h,tt=g,ft=w,Rt=$[tt-ft],xt=$[tt+0],_t=$[tt+ft],zt=al[112+((Mt=3*(xt-Rt))+4>>3)],Mt=al[112+(Mt+3>>3)],dt=zt+1>>1;$[tt-2*ft]=qi[255+$[tt-2*ft]+dt],$[tt-ft]=qi[255+Rt+Mt],$[tt+0]=qi[255+xt-zt],$[tt+ft]=qi[255+_t-dt]}g+=x}}function na(h,g,w,x,M,F){ea(h,g,w,1,16,x,M,F)}function Ms(h,g,w,x,M,F){ea(h,g,1,w,16,x,M,F)}function ro(h,g,w,x,M,F){var q;for(q=3;0<q;--q)Ji(h,g+=4*w,w,1,16,x,M,F)}function Ta(h,g,w,x,M,F){var q;for(q=3;0<q;--q)Ji(h,g+=4,1,w,16,x,M,F)}function so(h,g,w,x,M,F,q,Y){ea(h,g,M,1,8,F,q,Y),ea(w,x,M,1,8,F,q,Y)}function Zo(h,g,w,x,M,F,q,Y){ea(h,g,1,M,8,F,q,Y),ea(w,x,1,M,8,F,q,Y)}function xa(h,g,w,x,M,F,q,Y){Ji(h,g+4*M,M,1,8,F,q,Y),Ji(w,x+4*M,M,1,8,F,q,Y)}function ia(h,g,w,x,M,F,q,Y){Ji(h,g+4,1,M,8,F,q,Y),Ji(w,x+4,1,M,8,F,q,Y)}function Na(){this.ba=new Ei,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ao(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ia(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ra(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new at,this.yc=new C}function Bl(){this.xb=this.a=0,this.l=new Rs,this.ca=new Ei,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ra,this.ab=0,this.gc=c(4,Ia),this.Oc=0}function ks(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sa(h,g,w,x,M,F,q){for(h=h==null?0:h[g+0],g=0;g<q;++g)M[F+g]=h+w[x+g]&255,h=M[F+g]}function Ra(h,g,w,x,M,F,q){var Y;if(h==null)sa(null,null,w,x,M,F,q);else for(Y=0;Y<q;++Y)M[F+Y]=h[g+Y]+w[x+Y]&255}function lr(h,g,w,x,M,F,q){if(h==null)sa(null,null,w,x,M,F,q);else{var Y,$=h[g+0],tt=$,ft=$;for(Y=0;Y<q;++Y)tt=ft+($=h[g+Y])-tt,ft=w[x+Y]+(-256&tt?0>tt?0:255:tt)&255,tt=$,M[F+Y]=ft}}function oo(h,g,w,x){var M=g.width,F=g.o;if(t(h!=null&&g!=null),0>w||0>=x||w+x>F)return null;if(!h.Cc){if(h.ga==null){var q;if(h.ga=new ks,(q=h.ga==null)||(q=g.width*g.o,t(h.Gb.length==0),h.Gb=l(q),h.Uc=0,h.Gb==null?q=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,q=1),q=!q),!q){q=h.ga;var Y=h.Fa,$=h.P,tt=h.qc,ft=h.mb,Rt=h.nb,xt=$+1,_t=tt-1,zt=q.l;if(t(Y!=null&&ft!=null&&g!=null),ha[0]=null,ha[1]=sa,ha[2]=Ra,ha[3]=lr,q.ca=ft,q.tb=Rt,q.c=g.width,q.i=g.height,t(0<q.c&&0<q.i),1>=tt)g=0;else if(q.$a=Y[$+0]>>0&3,q.Z=Y[$+0]>>2&3,q.Lc=Y[$+0]>>4&3,$=Y[$+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||$)g=0;else if(zt.put=Xi,zt.ac=ei,zt.bc=$r,zt.ma=q,zt.width=g.width,zt.height=g.height,zt.Da=g.Da,zt.v=g.v,zt.va=g.va,zt.j=g.j,zt.o=g.o,q.$a)t:{t(q.$a==1),g=Un();e:for(;;){if(g==null){g=0;break t}if(t(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,ut(g.m,Y,xt,_t),!vn(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&mr(g.s)?(q.ic=1,Y=g.c*g.i,g.Ta=null,g.Ua=0,g.V=l(Y),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=xs(g,q.c)),!g))break e;g=1;break t}q.mc=null,g=0}else g=_t>=q.c*q.i;q=!g}if(q)return null;h.ga.Lc!=1?h.Ga=0:x=F-w}t(h.ga!=null),t(w+x<=F);t:{if(g=(Y=h.ga).c,F=Y.l.o,Y.$a==0){if(xt=h.rc,_t=h.Vc,zt=h.Fa,$=h.P+1+w*g,tt=h.mb,ft=h.nb+w*g,t($<=h.P+h.qc),Y.Z!=0)for(t(ha[Y.Z]!=null),q=0;q<x;++q)ha[Y.Z](xt,_t,zt,$,tt,ft,g),xt=tt,_t=ft,ft+=g,$+=g;else for(q=0;q<x;++q)r(tt,ft,zt,$,g),xt=tt,_t=ft,ft+=g,$+=g;h.rc=xt,h.Vc=_t}else{if(t(Y.mc!=null),g=w+x,t((q=Y.mc)!=null),t(g<=q.i),q.C>=g)g=1;else if(Y.ic||vt(),Y.ic){Y=q.V,xt=q.Ba,_t=q.c;var Mt=q.i,dt=(zt=1,$=q.$/_t,tt=q.$%_t,ft=q.m,Rt=q.s,q.$),gt=_t*Mt,Ut=_t*g,Ht=Rt.wc,Ft=dt<Ut?ni(Rt,tt,$):null;t(dt<=gt),t(g<=Mt),t(mr(Rt));e:for(;;){for(;!ft.h&&dt<Ut;){if(tt&Ht||(Ft=ni(Rt,tt,$)),t(Ft!=null),lt(ft),256>(Mt=Hn(Ft.G[0],Ft.H[0],ft)))Y[xt+dt]=Mt,++dt,++tt>=_t&&(tt=0,++$<=g&&!($%16)&&Ti(q,$));else{if(!(280>Mt)){zt=0;break e}Mt=Nn(Mt-256,ft);var ue,ee=Hn(Ft.G[4],Ft.H[4],ft);if(lt(ft),!(dt>=(ee=In(_t,ee=Nn(ee,ft)))&&gt-dt>=Mt)){zt=0;break e}for(ue=0;ue<Mt;++ue)Y[xt+dt+ue]=Y[xt+dt+ue-ee];for(dt+=Mt,tt+=Mt;tt>=_t;)tt-=_t,++$<=g&&!($%16)&&Ti(q,$);dt<Ut&&tt&Ht&&(Ft=ni(Rt,tt,$))}t(ft.h==J(ft))}Ti(q,$>g?g:$);break e}!zt||ft.h&&dt<gt?(zt=0,q.a=ft.h?5:3):q.$=dt,g=zt}else g=mi(q,q.V,q.Ba,q.c,q.i,g,Ns);if(!g){x=0;break t}}w+x>=F&&(h.Cc=1),x=1}if(!x)return null;if(h.Cc&&((x=h.ga)!=null&&(x.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+w*M}function b(h,g,w,x,M,F){for(;0<M--;){var q,Y=h,$=g+(w?1:0),tt=h,ft=g+(w?0:3);for(q=0;q<x;++q){var Rt=tt[ft+4*q];Rt!=255&&(Rt*=32897,Y[$+4*q+0]=Y[$+4*q+0]*Rt>>23,Y[$+4*q+1]=Y[$+4*q+1]*Rt>>23,Y[$+4*q+2]=Y[$+4*q+2]*Rt>>23)}g+=F}}function k(h,g,w,x,M){for(;0<x--;){var F;for(F=0;F<w;++F){var q=h[g+2*F+0],Y=15&(tt=h[g+2*F+1]),$=4369*Y,tt=(240&tt|tt>>4)*$>>16;h[g+2*F+0]=(240&q|q>>4)*$>>16&240|(15&q|q<<4)*$>>16>>4&15,h[g+2*F+1]=240&tt|Y}g+=M}}function it(h,g,w,x,M,F,q,Y){var $,tt,ft=255;for(tt=0;tt<M;++tt){for($=0;$<x;++$){var Rt=h[g+$];F[q+4*$]=Rt,ft&=Rt}g+=w,q+=Y}return ft!=255}function ct(h,g,w,x,M){var F;for(F=0;F<M;++F)w[x+F]=h[g+F]>>8}function vt(){es=b,Je=k,Ze=it,Fn=ct}function jt(h,g,w){L[h]=function(x,M,F,q,Y,$,tt,ft,Rt,xt,_t,zt,Mt,dt,gt,Ut,Ht){var Ft,ue=Ht-1>>1,ee=Y[$+0]|tt[ft+0]<<16,be=Rt[xt+0]|_t[zt+0]<<16;t(x!=null);var re=3*ee+be+131074>>2;for(g(x[M+0],255&re,re>>16,Mt,dt),F!=null&&(re=3*be+ee+131074>>2,g(F[q+0],255&re,re>>16,gt,Ut)),Ft=1;Ft<=ue;++Ft){var dn=Y[$+Ft]|tt[ft+Ft]<<16,wn=Rt[xt+Ft]|_t[zt+Ft]<<16,We=ee+dn+be+wn+524296,Ke=We+2*(dn+be)>>3;re=Ke+ee>>1,ee=(We=We+2*(ee+wn)>>3)+dn>>1,g(x[M+2*Ft-1],255&re,re>>16,Mt,dt+(2*Ft-1)*w),g(x[M+2*Ft-0],255&ee,ee>>16,Mt,dt+(2*Ft-0)*w),F!=null&&(re=We+be>>1,ee=Ke+wn>>1,g(F[q+2*Ft-1],255&re,re>>16,gt,Ut+(2*Ft-1)*w),g(F[q+2*Ft+0],255&ee,ee>>16,gt,Ut+(2*Ft+0)*w)),ee=dn,be=wn}1&Ht||(re=3*ee+be+131074>>2,g(x[M+Ht-1],255&re,re>>16,Mt,dt+(Ht-1)*w),F!=null&&(re=3*be+ee+131074>>2,g(F[q+Ht-1],255&re,re>>16,gt,Ut+(Ht-1)*w)))}}function Kt(){zi[ur]=Va,zi[Gl]=fa,zi[ua]=Ao,zi[qu]=Rc,zi[ol]=Cc,zi[Pa]=Ql,zi[Nc]=Lc,zi[zu]=fa,zi[bo]=Rc,zi[Oa]=Cc,zi[Yl]=Ql}function ie(h){return h&-16384?0>h?0:255:h>>S1}function d(h,g){return ie((19077*h>>8)+(26149*g>>8)-14234)}function S(h,g,w){return ie((19077*h>>8)-(6419*g>>8)-(13320*w>>8)+8708)}function N(h,g){return ie((19077*h>>8)+(33050*g>>8)-17685)}function K(h,g,w,x,M){x[M+0]=d(h,w),x[M+1]=S(h,g,w),x[M+2]=N(h,g)}function yt(h,g,w,x,M){x[M+0]=N(h,g),x[M+1]=S(h,g,w),x[M+2]=d(h,w)}function Ct(h,g,w,x,M){var F=S(h,g,w);g=F<<3&224|N(h,g)>>3,x[M+0]=248&d(h,w)|F>>5,x[M+1]=g}function Xt(h,g,w,x,M){var F=240&N(h,g)|15;x[M+0]=240&d(h,w)|S(h,g,w)>>4,x[M+1]=F}function Ie(h,g,w,x,M){x[M+0]=255,K(h,g,w,x,M+1)}function en(h,g,w,x,M){yt(h,g,w,x,M),x[M+3]=255}function Be(h,g,w,x,M){K(h,g,w,x,M),x[M+3]=255}function bn(h,g){return 0>h?0:h>g?g:h}function Rn(h,g,w){L[h]=function(x,M,F,q,Y,$,tt,ft,Rt){for(var xt=ft+(-2&Rt)*w;ft!=xt;)g(x[M+0],F[q+0],Y[$+0],tt,ft),g(x[M+1],F[q+0],Y[$+0],tt,ft+w),M+=2,++q,++$,ft+=2*w;1&Rt&&g(x[M+0],F[q+0],Y[$+0],tt,ft)}}function fs(h,g,w){return w==0?h==0?g==0?6:5:g==0?4:0:w}function li(h,g,w,x,M){switch(h>>>30){case 3:Vs(g,w,x,M,0);break;case 2:ii(g,w,x,M);break;case 1:vi(g,w,x,M)}}function Pr(h,g){var w,x,M=g.M,F=g.Nb,q=h.oc,Y=h.pc+40,$=h.oc,tt=h.pc+584,ft=h.oc,Rt=h.pc+600;for(w=0;16>w;++w)q[Y+32*w-1]=129;for(w=0;8>w;++w)$[tt+32*w-1]=129,ft[Rt+32*w-1]=129;for(0<M?q[Y-1-32]=$[tt-1-32]=ft[Rt-1-32]=129:(a(q,Y-32-1,127,21),a($,tt-32-1,127,9),a(ft,Rt-32-1,127,9)),x=0;x<h.za;++x){var xt=g.ya[g.aa+x];if(0<x){for(w=-1;16>w;++w)r(q,Y+32*w-4,q,Y+32*w+12,4);for(w=-1;8>w;++w)r($,tt+32*w-4,$,tt+32*w+4,4),r(ft,Rt+32*w-4,ft,Rt+32*w+4,4)}var _t=h.Gd,zt=h.Hd+x,Mt=xt.ad,dt=xt.Hc;if(0<M&&(r(q,Y-32,_t[zt].y,0,16),r($,tt-32,_t[zt].f,0,8),r(ft,Rt-32,_t[zt].ea,0,8)),xt.Za){var gt=q,Ut=Y-32+16;for(0<M&&(x>=h.za-1?a(gt,Ut,_t[zt].y[15],4):r(gt,Ut,_t[zt+1].y,0,4)),w=0;4>w;w++)gt[Ut+128+w]=gt[Ut+256+w]=gt[Ut+384+w]=gt[Ut+0+w];for(w=0;16>w;++w,dt<<=2)gt=q,Ut=Y+hl[w],vr[xt.Ob[w]](gt,Ut),li(dt,Mt,16*+w,gt,Ut)}else if(gt=fs(x,M,xt.Ob[0]),ja[gt](q,Y),dt!=0)for(w=0;16>w;++w,dt<<=2)li(dt,Mt,16*+w,q,Y+hl[w]);for(w=xt.Gc,gt=fs(x,M,xt.Dd),is[gt]($,tt),is[gt](ft,Rt),dt=Mt,gt=$,Ut=tt,255&(xt=w>>0)&&(170&xt?Us(dt,256,gt,Ut):kr(dt,256,gt,Ut)),xt=ft,dt=Rt,255&(w>>=8)&&(170&w?Us(Mt,320,xt,dt):kr(Mt,320,xt,dt)),M<h.Ub-1&&(r(_t[zt].y,0,q,Y+480,16),r(_t[zt].f,0,$,tt+224,8),r(_t[zt].ea,0,ft,Rt+224,8)),w=8*F*h.B,_t=h.sa,zt=h.ta+16*x+16*F*h.R,Mt=h.qa,xt=h.ra+8*x+w,dt=h.Ha,gt=h.Ia+8*x+w,w=0;16>w;++w)r(_t,zt+w*h.R,q,Y+32*w,16);for(w=0;8>w;++w)r(Mt,xt+w*h.B,$,tt+32*w,8),r(dt,gt+w*h.B,ft,Rt+32*w,8)}}function aa(h,g,w,x,M,F,q,Y,$){var tt=[0],ft=[0],Rt=0,xt=$!=null?$.kd:0,_t=$??new ao;if(h==null||12>w)return 7;_t.data=h,_t.w=g,_t.ha=w,g=[g],w=[w],_t.gb=[_t.gb];t:{var zt=g,Mt=w,dt=_t.gb;if(t(h!=null),t(Mt!=null),t(dt!=null),dt[0]=0,12<=Mt[0]&&!e(h,zt[0],"RIFF")){if(e(h,zt[0]+8,"WEBP")){dt=3;break t}var gt=te(h,zt[0]+4);if(12>gt||4294967286<gt){dt=3;break t}if(xt&&gt>Mt[0]-8){dt=7;break t}dt[0]=gt,zt[0]+=12,Mt[0]-=12}dt=0}if(dt!=0)return dt;for(gt=0<_t.gb[0],w=w[0];;){t:{var Ut=h;Mt=g,dt=w;var Ht=tt,Ft=ft,ue=zt=[0];if((re=Rt=[Rt])[0]=0,8>dt[0])dt=7;else{if(!e(Ut,Mt[0],"VP8X")){if(te(Ut,Mt[0]+4)!=10){dt=3;break t}if(18>dt[0]){dt=7;break t}var ee=te(Ut,Mt[0]+8),be=1+ne(Ut,Mt[0]+12);if(2147483648<=be*(Ut=1+ne(Ut,Mt[0]+15))){dt=3;break t}ue!=null&&(ue[0]=ee),Ht!=null&&(Ht[0]=be),Ft!=null&&(Ft[0]=Ut),Mt[0]+=18,dt[0]-=18,re[0]=1}dt=0}}if(Rt=Rt[0],zt=zt[0],dt!=0)return dt;if(Mt=!!(2&zt),!gt&&Rt)return 3;if(F!=null&&(F[0]=!!(16&zt)),q!=null&&(q[0]=Mt),Y!=null&&(Y[0]=0),q=tt[0],zt=ft[0],Rt&&Mt&&$==null){dt=0;break}if(4>w){dt=7;break}if(gt&&Rt||!gt&&!Rt&&!e(h,g[0],"ALPH")){w=[w],_t.na=[_t.na],_t.P=[_t.P],_t.Sa=[_t.Sa];t:{ee=h,dt=g,gt=w;var re=_t.gb;Ht=_t.na,Ft=_t.P,ue=_t.Sa,be=22,t(ee!=null),t(gt!=null),Ut=dt[0];var dn=gt[0];for(t(Ht!=null),t(ue!=null),Ht[0]=null,Ft[0]=null,ue[0]=0;;){if(dt[0]=Ut,gt[0]=dn,8>dn){dt=7;break t}var wn=te(ee,Ut+4);if(4294967286<wn){dt=3;break t}var We=8+wn+1&-2;if(be+=We,0<re&&be>re){dt=3;break t}if(!e(ee,Ut,"VP8 ")||!e(ee,Ut,"VP8L")){dt=0;break t}if(dn[0]<We){dt=7;break t}e(ee,Ut,"ALPH")||(Ht[0]=ee,Ft[0]=Ut+8,ue[0]=wn),Ut+=We,dn-=We}}if(w=w[0],_t.na=_t.na[0],_t.P=_t.P[0],_t.Sa=_t.Sa[0],dt!=0)break}w=[w],_t.Ja=[_t.Ja],_t.xa=[_t.xa];t:if(re=h,dt=g,gt=w,Ht=_t.gb[0],Ft=_t.Ja,ue=_t.xa,ee=dt[0],Ut=!e(re,ee,"VP8 "),be=!e(re,ee,"VP8L"),t(re!=null),t(gt!=null),t(Ft!=null),t(ue!=null),8>gt[0])dt=7;else{if(Ut||be){if(re=te(re,ee+4),12<=Ht&&re>Ht-12){dt=3;break t}if(xt&&re>gt[0]-8){dt=7;break t}Ft[0]=re,dt[0]+=8,gt[0]-=8,ue[0]=be}else ue[0]=5<=gt[0]&&re[ee+0]==47&&!(re[ee+4]>>5),Ft[0]=gt[0];dt=0}if(w=w[0],_t.Ja=_t.Ja[0],_t.xa=_t.xa[0],g=g[0],dt!=0)break;if(4294967286<_t.Ja)return 3;if(Y==null||Mt||(Y[0]=_t.xa?2:1),q=[q],zt=[zt],_t.xa){if(5>w){dt=7;break}Y=q,xt=zt,Mt=F,h==null||5>w?h=0:5<=w&&h[g+0]==47&&!(h[g+4]>>5)?(gt=[0],re=[0],Ht=[0],ut(Ft=new P,h,g,w),le(Ft,gt,re,Ht)?(Y!=null&&(Y[0]=gt[0]),xt!=null&&(xt[0]=re[0]),Mt!=null&&(Mt[0]=Ht[0]),h=1):h=0):h=0}else{if(10>w){dt=7;break}Y=zt,h==null||10>w||!Bi(h,g+3,w-3)?h=0:(xt=h[g+0]|h[g+1]<<8|h[g+2]<<16,Mt=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&xt||3<(xt>>1&7)||!(xt>>4&1)||xt>>5>=_t.Ja||!Mt||!h?h=0:(q&&(q[0]=Mt),Y&&(Y[0]=h),h=1))}if(!h||(q=q[0],zt=zt[0],Rt&&(tt[0]!=q||ft[0]!=zt)))return 3;$!=null&&($[0]=_t,$.offset=g-$.w,t(4294967286>g-$.w),t($.offset==$.ha-w));break}return dt==0||dt==7&&Rt&&$==null?(F!=null&&(F[0]|=_t.na!=null&&0<_t.na.length),x!=null&&(x[0]=q),M!=null&&(M[0]=zt),0):dt}function lo(h,g,w){var x=g.width,M=g.height,F=0,q=0,Y=x,$=M;if(g.Da=h!=null&&0<h.Da,g.Da&&(Y=h.cd,$=h.bd,F=h.v,q=h.j,11>w||(F&=-2,q&=-2),0>F||0>q||0>=Y||0>=$||F+Y>x||q+$>M))return 0;if(g.v=F,g.j=q,g.va=F+Y,g.o=q+$,g.U=Y,g.T=$,g.da=h!=null&&0<h.da,g.da){if(!Se(Y,$,w=[h.ib],F=[h.hb]))return 0;g.ib=w[0],g.hb=F[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*x/4&&g.hb<3*M/4,g.Kb=0),1}function Fl(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function tl(h,g,w,x){if(x==null||0>=h||0>=g)return 2;if(w!=null){if(w.Da){var M=w.cd,F=w.bd,q=-2&w.v,Y=-2&w.j;if(0>q||0>Y||0>=M||0>=F||q+M>h||Y+F>g)return 2;h=M,g=F}if(w.da){if(!Se(h,g,M=[w.ib],F=[w.hb]))return 2;h=M[0],g=F[0]}}x.width=h,x.height=g;t:{var $=x.width,tt=x.height;if(h=x.S,0>=$||0>=tt||!(h>=ur&&13>h))h=2;else{if(0>=x.Rd&&x.sd==null){q=F=M=g=0;var ft=(Y=$*ud[h])*tt;if(11>h||(F=(tt+1)/2*(g=($+1)/2),h==12&&(q=(M=$)*tt)),(tt=l(ft+2*F+q))==null){h=1;break t}x.sd=tt,11>h?(($=x.f.RGBA).eb=tt,$.fb=0,$.A=Y,$.size=ft):(($=x.f.kb).y=tt,$.O=0,$.fa=Y,$.Fd=ft,$.f=tt,$.N=0+ft,$.Ab=g,$.Cd=F,$.ea=tt,$.W=0+ft+F,$.Db=g,$.Ed=F,h==12&&($.F=tt,$.J=0+ft+2*F),$.Tc=q,$.lb=M)}if(g=1,M=x.S,F=x.width,q=x.height,M>=ur&&13>M)if(11>M)h=x.f.RGBA,g&=(Y=Math.abs(h.A))*(q-1)+F<=h.size,g&=Y>=F*ud[M],g&=h.eb!=null;else{h=x.f.kb,Y=(F+1)/2,ft=(q+1)/2,$=Math.abs(h.fa),tt=Math.abs(h.Ab);var Rt=Math.abs(h.Db),xt=Math.abs(h.lb),_t=xt*(q-1)+F;g&=$*(q-1)+F<=h.Fd,g&=tt*(ft-1)+Y<=h.Cd,g=(g&=Rt*(ft-1)+Y<=h.Ed)&$>=F&tt>=Y&Rt>=Y,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,M==12&&(g&=xt>=F,g&=_t<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||w!=null&&w.fd&&(h=Fl(x)),h}var Ii=64,uo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],el=24,nl=32,ql=8,Or=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(h){return h},L.Predictor2=function(h,g,w){return g[w+0]},L.Predictor3=function(h,g,w){return g[w+1]},L.Predictor4=function(h,g,w){return g[w-1]},L.Predictor5=function(h,g,w){return ae(ae(h,g[w+1]),g[w+0])},L.Predictor6=function(h,g,w){return ae(h,g[w-1])},L.Predictor7=function(h,g,w){return ae(h,g[w+0])},L.Predictor8=function(h,g,w){return ae(g[w-1],g[w+0])},L.Predictor9=function(h,g,w){return ae(g[w+0],g[w+1])},L.Predictor10=function(h,g,w){return ae(ae(h,g[w-1]),ae(g[w+0],g[w+1]))},L.Predictor11=function(h,g,w){var x=g[w+0];return 0>=Ue(x>>24&255,h>>24&255,(g=g[w-1])>>24&255)+Ue(x>>16&255,h>>16&255,g>>16&255)+Ue(x>>8&255,h>>8&255,g>>8&255)+Ue(255&x,255&h,255&g)?x:h},L.Predictor12=function(h,g,w){var x=g[w+0];return(ye((h>>24&255)+(x>>24&255)-((g=g[w-1])>>24&255))<<24|ye((h>>16&255)+(x>>16&255)-(g>>16&255))<<16|ye((h>>8&255)+(x>>8&255)-(g>>8&255))<<8|ye((255&h)+(255&x)-(255&g)))>>>0},L.Predictor13=function(h,g,w){var x=g[w-1];return(De((h=ae(h,g[w+0]))>>24&255,x>>24&255)<<24|De(h>>16&255,x>>16&255)<<16|De(h>>8&255,x>>8&255)<<8|De(h>>0&255,x>>0&255))>>>0};var Oh=L.PredictorAdd0;L.PredictorAdd1=_e,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var Bu=L.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Tc,ds=L.ColorIndexInverseTransform,Fi=L.MapARGB,co=L.VP8LColorIndexInverseTransformAlpha,Fu=L.MapAlpha,Ca=L.VP8LPredictorsAdd=[];Ca.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var ho,yr,Zi,fo,Mr,js,oa,Vs,ii,Us,vi,kr,il,la,zl,po,mo,go,rl,Hl,yo,La,sl,ri,es,Je,Ze,Fn,ui=l(511),ps=l(2041),vo=l(225),_o=l(767),Da=0,xc=ps,al=vo,qi=_o,ms=ui,ur=0,Gl=1,ua=2,qu=3,ol=4,Pa=5,Nc=6,zu=7,bo=8,Oa=9,Yl=10,Ic=[2,3,7],gs=[3,3,11],ns=[280,256,256,256,40],ll=[0,1,1,1,0],Ma=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ka=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ul=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rd=8,Hu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ri=null,si=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ca=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ja=[],vr=[],is=[],ad=1,Kl=2,ha=[],zi=[];jt("UpsampleRgbLinePair",K,3),jt("UpsampleBgrLinePair",yt,3),jt("UpsampleRgbaLinePair",Be,4),jt("UpsampleBgraLinePair",en,4),jt("UpsampleArgbLinePair",Ie,4),jt("UpsampleRgba4444LinePair",Xt,2),jt("UpsampleRgb565LinePair",Ct,2);var Va=L.UpsampleRgbLinePair,Ao=L.UpsampleBgrLinePair,fa=L.UpsampleRgbaLinePair,Rc=L.UpsampleBgraLinePair,Cc=L.UpsampleArgbLinePair,Ql=L.UpsampleRgba4444LinePair,Lc=L.UpsampleRgb565LinePair,da=16,Ci=1<<da-1,So=-227,Dc=482,S1=6,od=0,E1=l(256),Li=l(256),kh=l(256),Yu=l(256),Ku=l(Dc-So),jh=l(Dc-So);Rn("YuvToRgbRow",K,3),Rn("YuvToBgrRow",yt,3),Rn("YuvToRgbaRow",Be,4),Rn("YuvToBgraRow",en,4),Rn("YuvToArgbRow",Ie,4),Rn("YuvToRgba4444Row",Xt,2),Rn("YuvToRgb565Row",Ct,2);var hl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ua=[0,2,8],T1=[8,7,6,4,4,2,2,2,1,1,1,1],ld=1;this.WebPDecodeRGBA=function(h,g,w,x,M){var F=Gl,q=new Na,Y=new Ei;q.ba=Y,Y.S=F,Y.width=[Y.width],Y.height=[Y.height];var $=Y.width,tt=Y.height,ft=new Qi;if(ft==null||h==null)var Rt=2;else t(ft!=null),Rt=aa(h,g,w,ft.width,ft.height,ft.Pd,ft.Qd,ft.format,null);if(Rt!=0?$=0:($!=null&&($[0]=ft.width[0]),tt!=null&&(tt[0]=ft.height[0]),$=1),$){Y.width=Y.width[0],Y.height=Y.height[0],x!=null&&(x[0]=Y.width),M!=null&&(M[0]=Y.height);t:{if(x=new Rs,(M=new ao).data=h,M.w=g,M.ha=w,M.kd=1,g=[0],t(M!=null),((h=aa(M.data,M.w,M.ha,null,null,null,g,null,M))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(t(q!=null),x.data=M.data,x.w=M.w+M.offset,x.ha=M.ha-M.offset,x.put=Xi,x.ac=ei,x.bc=$r,x.ma=q,M.xa){if((h=Un())==null){q=1;break t}if(function(xt,_t){var zt=[0],Mt=[0],dt=[0];e:for(;;){if(xt==null)return 0;if(_t==null)return xt.a=2,0;if(xt.l=_t,xt.a=0,ut(xt.m,_t.data,_t.w,_t.ha),!le(xt.m,zt,Mt,dt)){xt.a=3;break e}if(xt.xb=Kl,_t.width=zt[0],_t.height=Mt[0],!vn(zt[0],Mt[0],1,xt,null))break e;return 1}return t(xt.a!=0),0}(h,x)){if(x=(g=tl(x.width,x.height,q.Oa,q.ba))==0){e:{x=h;n:for(;;){if(x==null){x=0;break e}if(t(x.s.yc!=null),t(x.s.Ya!=null),t(0<x.s.Wb),t((w=x.l)!=null),t((M=w.ma)!=null),x.xb!=0){if(x.ca=M.ba,x.tb=M.tb,t(x.ca!=null),!lo(M.Oa,w,qu)){x.a=2;break n}if(!xs(x,w.width)||w.da)break n;if((w.da||an(x.ca.S))&&vt(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&vt()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!we(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!mi(x,x.V,x.Ba,x.c,x.i,w.o,ba))break n;M.Dc=x.Ma,x=1;break e}t(x.a!=0),x=0}x=!x}x&&(g=h.a)}else g=h.a}else{if((h=new Ko)==null){q=1;break t}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,eo(h,x)){if((g=tl(x.width,x.height,q.Oa,q.ba))==0){if(h.Aa=0,w=q.Oa,t((M=h)!=null),w!=null){if(0<($=0>($=w.Md)?0:100<$?255:255*$/100)){for(tt=ft=0;4>tt;++tt)12>(Rt=M.pb[tt]).lc&&(Rt.ia=$*T1[0>Rt.lc?0:Rt.lc]>>3),ft|=Rt.ia;ft&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=w.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}Qo(h,x)||(g=h.a)}}else g=h.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=Fl(q.ba))}q=g}F=q!=0?null:11>F?Y.f.RGBA.eb:Y.f.kb.y}else F=null;return F};var ud=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function y(L,z){for(var Z="",I=0;I<4;I++)Z+=String.fromCharCode(L[z++]);return Z}function v(L,z){return(L[z+0]<<0|L[z+1]<<8|L[z+2]<<16)>>>0}function E(L,z){return(L[z+0]<<0|L[z+1]<<8|L[z+2]<<16|L[z+3]<<24)>>>0}new p;var T=[0],A=[0],R=[],V=new p,H=i,j=function(L,z){var Z={},I=0,C=!1,O=0,at=0;if(Z.frames=[],!function(U,J,rt,lt){for(var Et=0;Et<lt;Et++)if(U[J+Et]!=rt.charCodeAt(Et))return!0;return!1}(L,z,"RIFF",4)){for(E(L,z+=4),z+=8;z<L.length;){var Tt=y(L,z),et=E(L,z+=4);z+=4;var ht=et+(1&et);switch(Tt){case"VP8 ":case"VP8L":Z.frames[I]===void 0&&(Z.frames[I]={}),(B=Z.frames[I]).src_off=C?at:z-8,B.src_size=O+et+8,I++,C&&(C=!1,O=0,at=0);break;case"VP8X":(B=Z.header={}).feature_flags=L[z];var ut=z+4;B.canvas_width=1+v(L,ut),ut+=3,B.canvas_height=1+v(L,ut),ut+=3;break;case"ALPH":C=!0,O=ht+8,at=z-8;break;case"ANIM":(B=Z.header).bgcolor=E(L,z),ut=z+4,B.loop_count=(pt=L)[(P=ut)+0]<<0|pt[P+1]<<8,ut+=2;break;case"ANMF":var Nt,B;(B=Z.frames[I]={}).offset_x=2*v(L,z),z+=3,B.offset_y=2*v(L,z),z+=3,B.width=1+v(L,z),z+=3,B.height=1+v(L,z),z+=3,B.duration=v(L,z),z+=3,Nt=L[z++],B.dispose=1&Nt,B.blend=Nt>>1&1}Tt!="ANMF"&&(z+=ht)}var pt,P;return Z}}(H,0);j.response=H,j.rgbaoutput=!0,j.dataurl=!1;var X=j.header?j.header:null,nt=j.frames?j.frames:null;if(X){X.loop_counter=X.loop_count,T=[X.canvas_height],A=[X.canvas_width];for(var At=0;At<nt.length&&nt[At].blend!=0;At++);}var bt=nt[0],kt=V.WebPDecodeRGBA(H,bt.src_off,bt.src_size,A,T);bt.rgba=kt,bt.imgwidth=A[0],bt.imgheight=T[0];for(var W=0;W<A[0]*T[0]*4;W++)R[W]=kt[W];return this.width=A,this.height=T,this.data=R,this}(function(i){var t=function(){return typeof O0=="function"},e=function(T,A,R,V){var H=4,j=c;switch(V){case i.image_compression.FAST:H=1,j=l;break;case i.image_compression.MEDIUM:H=6,j=f;break;case i.image_compression.SLOW:H=9,j=p}T=r(T,A,R,j);var X=O0(T,{level:H});return i.__addimage__.arrayBufferToBinaryString(X)},r=function(T,A,R,V){for(var H,j,X,nt=T.length/A,At=new Uint8Array(T.length+nt),bt=v(),kt=0;kt<nt;kt+=1){if(X=kt*A,H=T.subarray(X,X+A),V)At.set(V(H,R,j),X+kt);else{for(var W,L=bt.length,z=[];W<L;W+=1)z[W]=bt[W](H,R,j);var Z=E(z.concat());At.set(z[Z],X+kt)}j=H}return At},a=function(T){var A=Array.apply([],T);return A.unshift(0),A},l=function(T,A){var R,V=[],H=T.length;V[0]=1;for(var j=0;j<H;j+=1)R=T[j-A]||0,V[j+1]=T[j]-R+256&255;return V},c=function(T,A,R){var V,H=[],j=T.length;H[0]=2;for(var X=0;X<j;X+=1)V=R&&R[X]||0,H[X+1]=T[X]-V+256&255;return H},f=function(T,A,R){var V,H,j=[],X=T.length;j[0]=3;for(var nt=0;nt<X;nt+=1)V=T[nt-A]||0,H=R&&R[nt]||0,j[nt+1]=T[nt]+256-(V+H>>>1)&255;return j},p=function(T,A,R){var V,H,j,X,nt=[],At=T.length;nt[0]=4;for(var bt=0;bt<At;bt+=1)V=T[bt-A]||0,H=R&&R[bt]||0,j=R&&R[bt-A]||0,X=y(V,H,j),nt[bt+1]=T[bt]-X+256&255;return nt},y=function(T,A,R){if(T===A&&A===R)return T;var V=Math.abs(A-R),H=Math.abs(T-R),j=Math.abs(T+A-R-R);return V<=H&&V<=j?T:H<=j?A:R},v=function(){return[a,l,c,f,p]},E=function(T){var A=T.map(function(R){return R.reduce(function(V,H){return V+Math.abs(H)},0)});return A.indexOf(Math.min.apply(null,A))};i.processPNG=function(T,A,R,V){var H,j,X,nt,At,bt,kt,W,L,z,Z,I,C,O,at,Tt=this.decode.FLATE_DECODE,et="";if(this.__addimage__.isArrayBuffer(T)&&(T=new Uint8Array(T)),this.__addimage__.isArrayBufferView(T)){if(T=(X=new SN(T)).imgData,j=X.bits,H=X.colorSpace,At=X.colors,[4,6].indexOf(X.colorType)!==-1){if(X.bits===8){L=(W=X.pixelBitlength==32?new Uint32Array(X.decodePixels().buffer):X.pixelBitlength==16?new Uint16Array(X.decodePixels().buffer):new Uint8Array(X.decodePixels().buffer)).length,Z=new Uint8Array(L*X.colors),z=new Uint8Array(L);var ht,ut=X.pixelBitlength-X.bits;for(O=0,at=0;O<L;O++){for(C=W[O],ht=0;ht<ut;)Z[at++]=C>>>ht&255,ht+=X.bits;z[O]=C>>>ht&255}}if(X.bits===16){L=(W=new Uint32Array(X.decodePixels().buffer)).length,Z=new Uint8Array(L*(32/X.pixelBitlength)*X.colors),z=new Uint8Array(L*(32/X.pixelBitlength)),I=X.colors>1,O=0,at=0;for(var Nt=0;O<L;)C=W[O++],Z[at++]=C>>>0&255,I&&(Z[at++]=C>>>16&255,C=W[O++],Z[at++]=C>>>0&255),z[Nt++]=C>>>16&255;j=8}V!==i.image_compression.NONE&&t()?(T=e(Z,X.width*X.colors,X.colors,V),kt=e(z,X.width,1,V)):(T=Z,kt=z,Tt=void 0)}if(X.colorType===3&&(H=this.color_spaces.INDEXED,bt=X.palette,X.transparency.indexed)){var B=X.transparency.indexed,pt=0;for(O=0,L=B.length;O<L;++O)pt+=B[O];if((pt/=255)===L-1&&B.indexOf(0)!==-1)nt=[B.indexOf(0)];else if(pt!==L){for(W=X.decodePixels(),z=new Uint8Array(W.length),O=0,L=W.length;O<L;O++)z[O]=B[W[O]];kt=e(z,X.width,1)}}var P=function(U){var J;switch(U){case i.image_compression.FAST:J=11;break;case i.image_compression.MEDIUM:J=13;break;case i.image_compression.SLOW:J=14;break;default:J=12}return J}(V);return Tt===this.decode.FLATE_DECODE&&(et="/Predictor "+P+" "),et+="/Colors "+At+" /BitsPerComponent "+j+" /Columns "+X.width,(this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),(kt&&this.__addimage__.isArrayBuffer(kt)||this.__addimage__.isArrayBufferView(kt))&&(kt=this.__addimage__.arrayBufferToBinaryString(kt)),{alias:R,data:T,index:A,filter:Tt,decodeParameters:et,transparency:nt,palette:bt,sMask:kt,predictor:P,width:X.width,height:X.height,bitsPerComponent:j,colorSpace:H}}}})(Ce.API),function(i){i.processGIF89A=function(t,e,r,a){var l=new EN(t),c=l.width,f=l.height,p=[];l.decodeAndBlitFrameRGBA(0,p);var y={data:p,width:c,height:f},v=new e0(100).encode(y,100);return i.processJPEG.call(this,v,e,r,a)},i.processGIF87A=i.processGIF89A}(Ce.API),Ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ka.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Yn.log("bit decode error:"+e)}},Ka.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<t;a++)for(var l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var p=this.palette[l>>7-f&1];this.data[c+4*f]=p.blue,this.data[c+4*f+1]=p.green,this.data[c+4*f+2]=p.red,this.data[c+4*f+3]=255}e!==0&&(this.pos+=4-e)}},Ka.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<i;a++){var l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,f=l>>4,p=15&l,y=this.palette[f];if(this.data[c]=y.blue,this.data[c+1]=y.green,this.data[c+2]=y.red,this.data[c+3]=255,2*a+1>=this.width)break;y=this.palette[p],this.data[c+4]=y.blue,this.data[c+4+1]=y.green,this.data[c+4+2]=y.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Ka.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}i!==0&&(this.pos+=4-i)}},Ka.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,f=(l>>5&t)/t*255|0,p=(l>>10&t)/t*255|0,y=l>>15?255:0,v=r*this.width*4+4*a;this.data[v]=p,this.data[v+1]=f,this.data[v+2]=c,this.data[v+3]=y}this.pos+=i}},Ka.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&t)/t*255|0,p=(c>>5&e)/e*255|0,y=(c>>11)/t*255|0,v=a*this.width*4+4*l;this.data[v]=y,this.data[v+1]=p,this.data[v+2]=f,this.data[v+3]=255}this.pos+=i}},Ka.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},Ka.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*e;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=r,this.data[f+3]=c}},Ka.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,r,a){var l=new Ka(t,!1),c=l.width,f=l.height,p={data:l.getData(),width:c,height:f},y=new e0(100).encode(p,100);return i.processJPEG.call(this,y,e,r,a)}}(Ce.API),Vv.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,r,a){var l=new Vv(t),c=l.width,f=l.height,p={data:l.getData(),width:c,height:f},y=new e0(100).encode(p,100);return i.processJPEG.call(this,y,e,r,a)}}(Ce.API),Ce.API.processRGBA=function(i,t,e){for(var r=i.data,a=r.length,l=new Uint8Array(a/4*3),c=new Uint8Array(a/4),f=0,p=0,y=0;y<a;y+=4){var v=r[y],E=r[y+1],T=r[y+2],A=r[y+3];l[f++]=v,l[f++]=E,l[f++]=T,c[p++]=A}var R=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:R,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ce.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eh=Ce.API,hp=eh.getCharWidthsArray=function(i,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),f=t.widths?t.widths:a.metadata.Unicode.widths,p=f.fof?f.fof:1,y=t.kerning?t.kerning:a.metadata.Unicode.kerning,v=y.fof?y.fof:1,E=t.doKerning!==!1,T=0,A=i.length,R=0,V=f[0]||p,H=[];for(e=0;e<A;e++)r=i.charCodeAt(e),typeof a.metadata.widthOfString=="function"?H.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/l)||0)/1e3):(T=E&&kn(y[r])==="object"&&!isNaN(parseInt(y[r][R],10))?y[r][R]/v:0,H.push((f[r]||V)/p+T)),R=r;return H},Ov=eh.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return eh.processArabic&&(i=eh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,e,a)/e:hp.apply(this,arguments).reduce(function(l,c){return l+c},0)},Mv=function(i,t,e,r){for(var a=[],l=0,c=i.length,f=0;l!==c&&f+t[l]<e;)f+=t[l],l++;a.push(i.slice(0,l));var p=l;for(f=0;l!==c;)f+t[l]>r&&(a.push(i.slice(p,l)),f=0,p=l),f+=t[l],l++;return p!==l&&a.push(i.slice(p,l)),a},kv=function(i,t,e){e||(e={});var r,a,l,c,f,p,y,v=[],E=[v],T=e.textIndent||0,A=0,R=0,V=i.split(" "),H=hp.apply(this,[" ",e])[0];if(p=e.lineIndent===-1?V[0].length+2:e.lineIndent||0){var j=Array(p).join(" "),X=[];V.map(function(At){(At=At.split(/\s*\n/)).length>1?X=X.concat(At.map(function(bt,kt){return(kt&&bt.length?`
`:"")+bt})):X.push(At[0])}),V=X,p=Ov.apply(this,[j,e])}for(l=0,c=V.length;l<c;l++){var nt=0;if(r=V[l],p&&r[0]==`
`&&(r=r.substr(1),nt=1),T+A+(R=(a=hp.apply(this,[r,e])).reduce(function(At,bt){return At+bt},0))>t||nt){if(R>t){for(f=Mv.apply(this,[r,a,t-(T+A),t]),v.push(f.shift()),v=[f.pop()];f.length;)E.push([f.shift()]);R=a.slice(r.length-(v[0]?v[0].length:0)).reduce(function(At,bt){return At+bt},0)}else v=[r];E.push(v),T=R+p,A=H}else v.push(r),T+=A+R,A=H}return y=p?function(At,bt){return(bt?j:"")+At.join(" ")}:function(At){return At.join(" ")},E.map(y)},eh.splitTextToSize=function(i,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),l=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var E=this.internal.getFont(v.fontName,v.fontStyle);return E.metadata.Unicode?{widths:E.metadata.Unicode.widths||{0:1},kerning:E.metadata.Unicode.kerning||{}}:{font:E.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;l.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=e.lineIndent;var f,p,y=[];for(f=0,p=r.length;f<p;f++)y=y.concat(kv.apply(this,[r[f],c,l]));return y},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var l=function(E){return"0x"+parseInt(E,10).toString(16)},c=i.__fontmetrics__.compress=function(E){var T,A,R,V,H=["{"];for(var j in E){if(T=E[j],isNaN(parseInt(j,10))?A="'"+j+"'":(j=parseInt(j,10),A=(A=l(j).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof T=="number")T<0?(R=l(T).slice(3),V="-"):(R=l(T).slice(2),V=""),R=V+R.slice(0,-1)+r[R.slice(-1)];else{if(kn(T)!=="object")throw new Error("Don't know what to do with value type "+kn(T)+".");R=c(T)}H.push(A+R)}return H.push("}"),H.join("")},f=i.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var T,A,R,V,H={},j=1,X=H,nt=[],At="",bt="",kt=E.length-1,W=1;W<kt;W+=1)(V=E[W])=="'"?T?(R=T.join(""),T=void 0):T=[]:T?T.push(V):V=="{"?(nt.push([X,R]),X={},R=void 0):V=="}"?((A=nt.pop())[0][A[1]]=X,R=void 0,X=A[0]):V=="-"?j=-1:R===void 0?e.hasOwnProperty(V)?(At+=e[V],R=parseInt(At,16)*j,j=1,At=""):At+=V:e.hasOwnProperty(V)?(bt+=e[V],X[R]=parseInt(bt,16)*j,j=1,R=void 0,bt=""):bt+=V;return H},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},v={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(E){var T=E.font,A=v.Unicode[T.postScriptName];A&&(T.metadata.Unicode={},T.metadata.Unicode.widths=A.widths,T.metadata.Unicode.kerning=A.kerning);var R=y.Unicode[T.postScriptName];R&&(T.metadata.Unicode.encoding=R,T.encoding=R.codePages[0])}])}(Ce.API),function(i){var t=function(e){for(var r=e.length,a=new Uint8Array(r),l=0;l<r;l++)a[l]=e.charCodeAt(l);return a};i.API.events.push(["addFont",function(e){var r=void 0,a=e.font,l=e.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?t(f):t(Pf(f)),c.metadata=i.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])}(Ce),function(i){function t(){return(Me.canvg?Promise.resolve(Me.canvg):R0(()=>import("./index.es-B00tfp-L.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ce.API.addSvgAsImage=function(e,r,a,l,c,f,p,y){if(isNaN(r)||isNaN(a))throw Yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(c))throw Yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=l,v.height=c;var E=v.getContext("2d");E.fillStyle="#fff",E.fillRect(0,0,v.width,v.height);var T={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return t().then(function(R){return R.fromString(E,e,T)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(T)}).then(function(){A.addImage(v.toDataURL("image/jpeg",1),r,a,l,c,p,y)})}}(),Ce.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Ce.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var r,a,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),p=[],y=0,v=0,E=0;function T(R,V){var H,j=!1;for(H=0;H<R.length;H+=1)R[H]===V&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var A=f.length;for(E=0;E<A;E+=1)e[f[E]].value=e[f[E]].defaultValue,e[f[E]].explicitSet=!1}if(kn(i)==="object"){for(a in i)if(l=i[a],T(f,a)&&l!==void 0){if(e[a].type==="boolean"&&typeof l=="boolean")e[a].value=l;else if(e[a].type==="name"&&T(e[a].valueSet,l))e[a].value=l;else if(e[a].type==="integer"&&Number.isInteger(l))e[a].value=l;else if(e[a].type==="array"){for(y=0;y<l.length;y+=1)if(r=!0,l[y].length===1&&typeof l[y][0]=="number")p.push(String(l[y]-1));else if(l[y].length>1){for(v=0;v<l[y].length;v+=1)typeof l[y][v]!="number"&&(r=!1);r===!0&&p.push([l[y][0]-1,l[y][1]-1].join(" "))}e[a].value="["+p.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,V=[];for(R in e)e[R].explicitSet===!0&&(e[R].type==="name"?V.push("/"+R+" /"+e[R].value):V.push("/"+R+" "+e[R].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),y=l.length+c.length+f.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+y+" >>"),this.internal.write("stream"),this.internal.write(a+l+c+f+p),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ce.API),function(i){var t=i.API,e=t.pdfEscape16=function(l,c){for(var f,p=c.metadata.Unicode.widths,y=["","0","00","000","0000"],v=[""],E=0,T=l.length;E<T;++E){if(f=c.metadata.characterToGlyph(l.charCodeAt(E)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=l.charCodeAt(E),p.indexOf(f)==-1&&(p.push(f),p.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return v.join("");f=f.toString(16),v.push(y[4-f.length],f)}return v.join("")},r=function(l){var c,f,p,y,v,E,T;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],E=0,T=(f=Object.keys(l).sort(function(A,R){return A-R})).length;E<T;E++)c=f[E],p.length>=100&&(v+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(y=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),p.push("<"+c+"><"+y+">"));return p.length&&(v+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(c){var f=c.font,p=c.out,y=c.newObject,v=c.putStream;if(f.metadata instanceof i.API.TTFFont&&f.encoding==="Identity-H"){for(var E=f.metadata.Unicode.widths,T=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),A="",R=0;R<T.length;R++)A+=String.fromCharCode(T[R]);var V=y();v({data:A,addLength1:!0,objectId:V}),p("endobj");var H=y();v({data:r(f.metadata.toUnicode),addLength1:!0,objectId:H}),p("endobj");var j=y();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+oh(f.fontName)),p("/FontFile2 "+V+" 0 R"),p("/FontBBox "+i.API.PDFObject.convert(f.metadata.bbox)),p("/Flags "+f.metadata.flags),p("/StemV "+f.metadata.stemV),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p(">>"),p("endobj");var X=y();p("<<"),p("/Type /Font"),p("/BaseFont /"+oh(f.fontName)),p("/FontDescriptor "+j+" 0 R"),p("/W "+i.API.PDFObject.convert(E)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+f.encoding+")"),p(">>"),p(">>"),p("endobj"),f.objectNumber=y(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+H+" 0 R"),p("/BaseFont /"+oh(f.fontName)),p("/Encoding /"+f.encoding),p("/DescendantFonts ["+X+" 0 R]"),p(">>"),p("endobj"),f.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(c){var f=c.font,p=c.out,y=c.newObject,v=c.putStream;if(f.metadata instanceof i.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var E=f.metadata.rawData,T="",A=0;A<E.length;A++)T+=String.fromCharCode(E[A]);var R=y();v({data:T,addLength1:!0,objectId:R}),p("endobj");var V=y();v({data:r(f.metadata.toUnicode),addLength1:!0,objectId:V}),p("endobj");var H=y();p("<<"),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p("/StemV "+f.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+R+" 0 R"),p("/Flags 96"),p("/FontBBox "+i.API.PDFObject.convert(f.metadata.bbox)),p("/FontName /"+oh(f.fontName)),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p(">>"),p("endobj"),f.objectNumber=y();for(var j=0;j<f.metadata.hmtx.widths.length;j++)f.metadata.hmtx.widths[j]=parseInt(f.metadata.hmtx.widths[j]*(1e3/f.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+oh(f.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),p("endobj"),f.isAlreadyPutted=!0}})(l)}]);var a=function(l){var c,f=l.text||"",p=l.x,y=l.y,v=l.options||{},E=l.mutex||{},T=E.pdfEscape,A=E.activeFontKey,R=E.fonts,V=A,H="",j=0,X="",nt=R[V].encoding;if(R[V].encoding!=="Identity-H")return{text:f,x:p,y,options:v,mutex:E};for(X=f,V=A,Array.isArray(f)&&(X=f[0]),j=0;j<X.length;j+=1)R[V].metadata.hasOwnProperty("cmap")&&(c=R[V].metadata.cmap.unicode.codeMap[X[j].charCodeAt(0)]),c||X[j].charCodeAt(0)<256&&R[V].metadata.hasOwnProperty("Unicode")?H+=X[j]:H+="";var At="";return parseInt(V.slice(1))<14||nt==="WinAnsiEncoding"?At=T(H,V).split("").map(function(bt){return bt.charCodeAt(0).toString(16)}).join(""):nt==="Identity-H"&&(At=e(H,R[V])),E.isHex=!0,{text:At,x:p,y,options:v,mutex:E}};t.events.push(["postProcessText",function(l){var c=l.text||"",f=[],p={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var y=0;for(y=0;y<c.length;y+=1)Array.isArray(c[y])&&c[y].length===3?f.push([a(Object.assign({},p,{text:c[y][0]})).text,c[y][1],c[y][2]]):f.push(a(Object.assign({},p,{text:c[y]})).text);l.text=f}else l.text=a(Object.assign({},p,{text:c})).text}])}(Ce),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ce.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,l,c,f,p,y,v,E=t,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),X=!1,nt=0;this.__bidiEngine__={};var At=function(I){var C=I.charCodeAt(),O=C>>8,at=V[O];return at!==void 0?E[256*at+(255&C)]:O===252||O===253?"AL":j.test(O)?"L":O===8?"R":"N"},bt=function(I){for(var C,O=0;O<I.length;O++){if((C=At(I.charAt(O)))==="L")return!1;if(C==="R")return!0}return!1},kt=function(I,C,O,at){var Tt,et,ht,ut,Nt=C[at];switch(Nt){case"L":case"R":X=!1;break;case"N":case"AN":break;case"EN":X&&(Nt="AN");break;case"AL":X=!0,Nt="R";break;case"WS":Nt="N";break;case"CS":at<1||at+1>=C.length||(Tt=O[at-1])!=="EN"&&Tt!=="AN"||(et=C[at+1])!=="EN"&&et!=="AN"?Nt="N":X&&(et="AN"),Nt=et===Tt?et:"N";break;case"ES":Nt=(Tt=at>0?O[at-1]:"B")==="EN"&&at+1<C.length&&C[at+1]==="EN"?"EN":"N";break;case"ET":if(at>0&&O[at-1]==="EN"){Nt="EN";break}if(X){Nt="N";break}for(ht=at+1,ut=C.length;ht<ut&&C[ht]==="ET";)ht++;Nt=ht<ut&&C[ht]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(ut=C.length,ht=at+1;ht<ut&&C[ht]==="NSM";)ht++;if(ht<ut){var B=I[at],pt=B>=1425&&B<=2303||B===64286;if(Tt=C[ht],pt&&(Tt==="R"||Tt==="AL")){Nt="R";break}}}Nt=at<1||(Tt=C[at-1])==="B"?"N":O[at-1];break;case"B":X=!1,a=!0,Nt=nt;break;case"S":l=!0,Nt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":X=!1;break;case"BN":Nt="N"}return Nt},W=function(I,C,O){var at=I.split("");return O&&L(at,O,{hiLevel:nt}),at.reverse(),C&&C.reverse(),at.join("")},L=function(I,C,O){var at,Tt,et,ht,ut,Nt=-1,B=I.length,pt=0,P=[],U=nt?A:T,J=[];for(X=!1,a=!1,l=!1,Tt=0;Tt<B;Tt++)J[Tt]=At(I[Tt]);for(et=0;et<B;et++){if(ut=pt,P[et]=kt(I,J,P,et),at=240&(pt=U[ut][R[P[et]]]),pt&=15,C[et]=ht=U[pt][5],at>0)if(at===16){for(Tt=Nt;Tt<et;Tt++)C[Tt]=1;Nt=-1}else Nt=-1;if(U[pt][6])Nt===-1&&(Nt=et);else if(Nt>-1){for(Tt=Nt;Tt<et;Tt++)C[Tt]=ht;Nt=-1}J[et]==="B"&&(C[et]=0),O.hiLevel|=ht}l&&function(rt,lt,Et){for(var St=0;St<Et;St++)if(rt[St]==="S"){lt[St]=nt;for(var Dt=St-1;Dt>=0&&rt[Dt]==="WS";Dt--)lt[Dt]=nt}}(J,C,B)},z=function(I,C,O,at,Tt){if(!(Tt.hiLevel<I)){if(I===1&&nt===1&&!a)return C.reverse(),void(O&&O.reverse());for(var et,ht,ut,Nt,B=C.length,pt=0;pt<B;){if(at[pt]>=I){for(ut=pt+1;ut<B&&at[ut]>=I;)ut++;for(Nt=pt,ht=ut-1;Nt<ht;Nt++,ht--)et=C[Nt],C[Nt]=C[ht],C[ht]=et,O&&(et=O[Nt],O[Nt]=O[ht],O[ht]=et);pt=ut}pt++}}},Z=function(I,C,O){var at=I.split(""),Tt={hiLevel:nt};return O||(O=[]),L(at,O,Tt),function(et,ht,ut){if(ut.hiLevel!==0&&v)for(var Nt,B=0;B<et.length;B++)ht[B]===1&&(Nt=H.indexOf(et[B]))>=0&&(et[B]=H[Nt+1])}(at,O,Tt),z(2,at,C,O,Tt),z(1,at,C,O,Tt),at.join("")};return this.__bidiEngine__.doBidiReorder=function(I,C,O){if(function(Tt,et){if(et)for(var ht=0;ht<Tt.length;ht++)et[ht]=ht;f===void 0&&(f=bt(Tt)),y===void 0&&(y=bt(Tt))}(I,C),c||!p||y)if(c&&p&&f^y)nt=f?1:0,I=W(I,C,O);else if(!c&&p&&y)nt=f?1:0,I=Z(I,C,O),I=W(I,C);else if(!c||f||p||y){if(c&&!p&&f^y)I=W(I,C),f?(nt=0,I=Z(I,C,O)):(nt=1,I=Z(I,C,O),I=W(I,C));else if(c&&f&&!p&&y)nt=1,I=Z(I,C,O),I=W(I,C);else if(!c&&!p&&f^y){var at=v;f?(nt=1,I=Z(I,C,O),nt=0,v=!1,I=Z(I,C,O),v=at):(nt=0,I=Z(I,C,O),I=W(I,C),nt=1,v=!1,I=Z(I,C,O),v=at,I=W(I,C))}}else nt=0,I=Z(I,C,O);else nt=f?1:0,I=Z(I,C,O);return I},this.__bidiEngine__.setOptions=function(I){I&&(c=I.isInputVisual,p=I.isOutputVisual,f=I.isInputRtl,y=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var l=r.options||{};r.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,e.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(c=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?c.push([e.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):c.push([e.doBidiReorder(a[f])]);r.text=c}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Ce),Ce.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new ju(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new UN(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new TN(this.contents),this.head=new NN(this),this.name=new DN(this),this.cmap=new I3(this),this.toUnicode={},this.hhea=new IN(this),this.maxp=new PN(this),this.hmtx=new ON(this),this.post=new CN(this),this.os2=new RN(this),this.loca=new VN(this),this.glyf=new MN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,r,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,p,y;for(y=[],c=0,f=(p=this.bbox).length;c<f;c++)t=p[c],y.push(Math.round(t*this.scaleFactor));return y}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),(32768&(e=a>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,r){var a,l,c,f;for(c=0,l=0,f=(t=""+t).length;0<=f?l<f:l>f;l=0<=f?++l:--l)a=t.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return c*(e/1e3)},i.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},i}();var Za,ju=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,r,a,l,c,f,p;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),f=this.readByte(),p=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^l)+65536*(255^c)+256*(255^f)+(255^p)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*l+65536*c+256*f+p},i.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},i.prototype.write=function(t){var e,r,a,l;for(l=[],r=0,a=t.length;r<a;r++)e=t[r],l.push(this.writeByte(e));return l},i}(),TN=function(){var i;function t(e){var r,a,l;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,l,c,f,p,y,v,E,T,A,R,V;for(V in A=Object.keys(e).length,p=Math.log(2),E=16*Math.floor(Math.log(A)/p),c=Math.floor(E/p),v=16*A-E,(a=new ju).writeInt(this.scalarType),a.writeShort(A),a.writeShort(E),a.writeShort(c),a.writeShort(v),l=16*A,y=a.pos+l,f=null,R=[],e)for(T=e[V],a.writeString(V),a.writeInt(i(T)),a.writeInt(y),a.writeInt(T.length),R=R.concat(T),V==="head"&&(f=y),y+=T.length;y%4;)R.push(0),y++;return a.write(R),r=2981146554-i(a.data),a.pos=f+8,a.writeUInt32(r),a.data},i=function(e){var r,a,l,c;for(e=R3.call(e);e.length%4;)e.push(0);for(l=new ju(e),a=0,r=0,c=e.length;r<c;r=r+=4)a+=l.readUInt32();return 4294967295&a},t}(),xN={}.hasOwnProperty,Go=function(i,t){for(var e in t)xN.call(t,e)&&(i[e]=t[e]);function r(){this.constructor=i}return r.prototype=t.prototype,i.prototype=new r,i.__super__=t.prototype,i};Za=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var NN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ju).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Uv=function(){function i(t,e){var r,a,l,c,f,p,y,v,E,T,A,R,V,H,j,X,nt;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),E=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=t.readByte();break;case 4:for(A=t.readUInt16(),T=A/2,t.pos+=6,l=function(){var At,bt;for(bt=[],p=At=0;0<=T?At<T:At>T;p=0<=T?++At:--At)bt.push(t.readUInt16());return bt}(),t.pos+=2,V=function(){var At,bt;for(bt=[],p=At=0;0<=T?At<T:At>T;p=0<=T?++At:--At)bt.push(t.readUInt16());return bt}(),y=function(){var At,bt;for(bt=[],p=At=0;0<=T?At<T:At>T;p=0<=T?++At:--At)bt.push(t.readUInt16());return bt}(),v=function(){var At,bt;for(bt=[],p=At=0;0<=T?At<T:At>T;p=0<=T?++At:--At)bt.push(t.readUInt16());return bt}(),a=(this.length-t.pos+this.offset)/2,f=function(){var At,bt;for(bt=[],p=At=0;0<=a?At<a:At>a;p=0<=a?++At:--At)bt.push(t.readUInt16());return bt}(),p=j=0,nt=l.length;j<nt;p=++j)for(H=l[p],r=X=R=V[p];R<=H?X<=H:X>=H;r=R<=H?++X:--X)v[p]===0?c=r+y[p]:(c=f[v[p]/2+(r-R)-(T-p)]||0)!==0&&(c+=y[p]),this.codeMap[r]=65535&c}t.pos=E}return i.encode=function(t,e){var r,a,l,c,f,p,y,v,E,T,A,R,V,H,j,X,nt,At,bt,kt,W,L,z,Z,I,C,O,at,Tt,et,ht,ut,Nt,B,pt,P,U,J,rt,lt,Et,St,Dt,Jt,Wt,ne;switch(at=new ju,c=Object.keys(t).sort(function(te,we){return te-we}),e){case"macroman":for(V=0,H=function(){var te=[];for(R=0;R<256;++R)te.push(0);return te}(),X={0:0},l={},Tt=0,Nt=c.length;Tt<Nt;Tt++)X[Dt=t[a=c[Tt]]]==null&&(X[Dt]=++V),l[a]={old:t[a],new:X[t[a]]},H[a]=X[t[a]];return at.writeUInt16(1),at.writeUInt16(0),at.writeUInt32(12),at.writeUInt16(0),at.writeUInt16(262),at.writeUInt16(0),at.write(H),{charMap:l,subtable:at.data,maxGlyphID:V+1};case"unicode":for(C=[],E=[],nt=0,X={},r={},j=y=null,et=0,B=c.length;et<B;et++)X[bt=t[a=c[et]]]==null&&(X[bt]=++nt),r[a]={old:bt,new:X[bt]},f=X[bt]-a,j!=null&&f===y||(j&&E.push(j),C.push(a),y=f),j=a;for(j&&E.push(j),E.push(65535),C.push(65535),Z=2*(z=C.length),L=2*Math.pow(Math.log(z)/Math.LN2,2),T=Math.log(L/2)/Math.LN2,W=2*z-L,p=[],kt=[],A=[],R=ht=0,pt=C.length;ht<pt;R=++ht){if(I=C[R],v=E[R],I===65535){p.push(0),kt.push(0);break}if(I-(O=r[I].new)>=32768)for(p.push(0),kt.push(2*(A.length+z-R)),a=ut=I;I<=v?ut<=v:ut>=v;a=I<=v?++ut:--ut)A.push(r[a].new);else p.push(O-I),kt.push(0)}for(at.writeUInt16(3),at.writeUInt16(1),at.writeUInt32(12),at.writeUInt16(4),at.writeUInt16(16+8*z+2*A.length),at.writeUInt16(0),at.writeUInt16(Z),at.writeUInt16(L),at.writeUInt16(T),at.writeUInt16(W),Et=0,P=E.length;Et<P;Et++)a=E[Et],at.writeUInt16(a);for(at.writeUInt16(0),St=0,U=C.length;St<U;St++)a=C[St],at.writeUInt16(a);for(Jt=0,J=p.length;Jt<J;Jt++)f=p[Jt],at.writeUInt16(f);for(Wt=0,rt=kt.length;Wt<rt;Wt++)At=kt[Wt],at.writeUInt16(At);for(ne=0,lt=A.length;ne<lt;ne++)V=A[ne],at.writeUInt16(V);return{charMap:r,subtable:at.data,maxGlyphID:nt+1}}},i}(),I3=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,a,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)r=new Uv(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var a,l;return r==null&&(r="macroman"),a=Uv.encode(e,r),(l=new ju).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},t}(),IN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),RN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(e.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),CN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="post",t.prototype.parse=function(e){var r,a,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(a=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)r=e.readByte(),l.push(this.names.push(e.readString(r)));return l;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var f,p,y;for(y=[],c=f=0,p=this.file.maxp.numGlyphs;0<=p?f<p:f>p;c=0<=p?++f:--f)y.push(e.readUInt32());return y}).call(this)}},t}(),LN=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},DN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="name",t.prototype.parse=function(e){var r,a,l,c,f,p,y,v,E,T,A;for(e.pos=this.offset,e.readShort(),r=e.readShort(),p=e.readShort(),a=[],c=0;0<=r?c<r:c>r;c=0<=r?++c:--c)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+p+e.readShort()});for(y={},c=E=0,T=a.length;E<T;c=++E)l=a[c],e.pos=l.offset,v=e.readString(l.length),f=new LN(v,l),y[A=l.nameID]==null&&(y[A]=[]),y[l.nameID].push(f);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},t}(),PN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ON=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,a,l,c,f,p,y;for(e.pos=this.offset,this.metrics=[],r=0,p=this.file.hhea.numberOfMetrics;0<=p?r<p:r>p;r=0<=p?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,E;for(E=[],r=v=0;0<=l?v<l:v>l;r=0<=l?++v:--v)E.push(e.readInt16());return E}(),this.widths=(function(){var v,E,T,A;for(A=[],v=0,E=(T=this.metrics).length;v<E;v++)c=T[v],A.push(c.advance);return A}).call(this),a=this.widths[this.widths.length-1],y=[],r=f=0;0<=l?f<l:f>l;r=0<=l?++f:--f)y.push(this.widths.push(a));return y},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),R3=[].slice,MN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,a,l,c,f,p,y,v,E,T;return e in this.cache?this.cache[e]:(c=this.file.loca,r=this.file.contents,a=c.indexOf(e),(l=c.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+a,f=(p=new ju(r.read(l))).readShort(),v=p.readShort(),T=p.readShort(),y=p.readShort(),E=p.readShort(),this.cache[e]=f===-1?new jN(p,v,T,y,E):new kN(p,f,v,T,y,E),this.cache[e]))},t.prototype.encode=function(e,r,a){var l,c,f,p,y;for(f=[],c=[],p=0,y=r.length;p<y;p++)l=e[r[p]],c.push(f.length),l&&(f=f.concat(l.encode(a)));return c.push(f.length),{table:f,offsets:c}},t}(),kN=function(){function i(t,e,r,a,l,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=l,this.yMax=c,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),jN=function(){function i(t,e,r,a,l){var c,f;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return i.prototype.encode=function(){var t,e,r;for(e=new ju(R3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),VN=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Za),t.prototype.tag="loca",t.prototype.parse=function(e){var r,a;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var l,c;for(c=[],a=0,l=this.length;a<l;a+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var l,c;for(c=[],a=0,l=this.length;a<l;a+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var a=new Uint32Array(this.offsets.length),l=0,c=0,f=0;f<a.length;++f)if(a[f]=l,c<r.length&&r[c]==f){++c,a[f]=l;var p=this.offsets[f],y=this.offsets[f+1]-p;y>0&&(l+=y)}for(var v=new Array(4*a.length),E=0;E<a.length;++E)v[4*E+3]=255&a[E],v[4*E+2]=(65280&a[E])>>8,v[4*E+1]=(16711680&a[E])>>16,v[4*E]=(4278190080&a[E])>>24;return v},t}(),UN=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,r,a,l;for(e in a=this.font.cmap.tables[0].codeMap,t={},l=this.subset)r=l[e],t[e]=a[r];return t},i.prototype.glyphsFor=function(t){var e,r,a,l,c,f,p;for(a={},c=0,f=t.length;c<f;c++)a[l=t[c]]=this.font.glyf.glyphFor(l);for(l in e=[],a)(r=a[l])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(l in p=this.glyphsFor(e))r=p[l],a[l]=r;return a},i.prototype.encode=function(t,e){var r,a,l,c,f,p,y,v,E,T,A,R,V,H,j;for(a in r=I3.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),A={0:0},j=r.charMap)A[(p=j[a]).old]=p.new;for(R in T=r.maxGlyphID,c)R in A||(A[R]=T++);return v=function(X){var nt,At;for(nt in At={},X)At[X[nt]]=nt;return At}(A),E=Object.keys(v).sort(function(X,nt){return X-nt}),V=function(){var X,nt,At;for(At=[],X=0,nt=E.length;X<nt;X++)f=E[X],At.push(v[f]);return At}(),l=this.font.glyf.encode(c,V,A),y=this.font.loca.encode(l.offsets,V),H={cmap:this.font.cmap.raw(),glyf:l.table,loca:y,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},i}();Ce.API.PDFObject=function(){var i;function t(){}return i=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,l,c;if(Array.isArray(e))return"["+function(){var f,p,y;for(y=[],f=0,p=e.length;f<p;f++)r=e[f],y.push(t.convert(r));return y}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in l=["<<"],e)c=e[a],l.push("/"+a+" "+t.convert(c));return l.push(">>"),l.join(`
`)}return""+e},t}();function oi(i){return Number(i||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function Gf(i){const[t,e,r]=i.split("-").map(Number);return new Date(t,e-1,r).getTime()}function C3(i,t){const e=[...i].sort((c,f)=>c.date-f.date),r=[...t].sort((c,f)=>c.date-f.date);let a=0,l=r[a]?.amount||0;for(const c of e){let f=0;for(;a<r.length&&f<c.amount;){const p=Math.min(l,c.amount-f);f+=p,l-=p,l===0&&(a+=1,l=r[a]?.amount||0)}c.abonado=f,c.pendiente=Math.max(0,c.amount-f),c.pagada=c.pendiente===0}return i}function BN(i,t){const e=[...i].sort((c,f)=>c.date-f.date),r=[...t].sort((c,f)=>c.date-f.date).map(c=>({...c}));let a=0,l=e[a]?.amount||0;for(const c of r){let f=c.amount;for(;a<e.length&&f>0;){c.saleId||(c.saleId=e[a].id,c.saleDescription=e[a].description);const p=Math.min(f,l);f-=p,l-=p,l===0&&(a+=1,l=e[a]?.amount||0)}}return r}function FN({clientId:i}){const[t,e]=me.useState(null),[r,a]=me.useState([]),[l,c]=me.useState([]);me.useEffect(()=>{(async()=>{const E=await E0(Tn(Le,"clients",i));if(!E.exists())return;e({id:E.id,...E.data()});const A=(await Yr(Si(Le,"clients",i,"sales"))).docs.map(j=>({id:j.id,...j.data()})),V=(await Yr(Si(Le,"clients",i,"payments"))).docs.map(j=>({id:j.id,...j.data()}));C3(A,V);const H=BN(A,V);a(A),c(H)})()},[i]);const f=()=>{const v=new Ce({format:"a5"}),E=v.internal.pageSize.getWidth(),T=v.internal.pageSize.getHeight(),A=10;let R=A;v.setFontSize(16),v.text("Vende Ms",E/2,R,{align:"center"}),R+=7,v.setFontSize(12),v.text("Estado de Cuenta",E/2,R,{align:"center"}),R+=3,v.line(A,R,E-A,R),R+=6,v.setFontSize(10),v.text(`Nombre: ${t.name}`,A,R),R+=4,v.text(`Telfono: ${t.phone}`,A,R),R+=4,v.text(`Fecha: ${new Date().toLocaleDateString()}`,A,R),R+=6,v.setFontSize(12),v.text("Resumen",A,R),R+=5,v.setFontSize(10);const V=[["Total comprado",oi(p)],["Total abonado",oi(y)],["Saldo pendiente",oi(p-y)]];v.setFont(void 0,"bold"),V.forEach(X=>{v.text(String(X[0]),A,R),v.text(`$${X[1]}`,E-A,R,{align:"right"}),R+=4}),v.setFont(void 0,"normal"),R+=4,v.setFontSize(12),v.text("Detalle de ventas",A,R),R+=4,v.setFontSize(10);const H=[A,A+30,E-55,E-35,E-A];v.setFont(void 0,"bold"),v.text("Fecha",H[0],R),v.text("Producto",H[1],R),v.text("Monto",H[2],R,{align:"right"}),v.text("Abonado",H[3],R,{align:"right"}),v.text("Saldo",H[4],R,{align:"right"}),v.setFont(void 0,"normal"),R+=2,v.line(A,R,E-A,R),R+=4,r.sort((X,nt)=>X.date-nt.date).forEach(X=>{v.text(String(new Date(X.date).toLocaleDateString()),H[0],R),v.text(String(X.description),H[1],R),v.text(`$${oi(X.amount)}`,H[2],R,{align:"right"}),v.text(`$${oi(X.abonado)}`,H[3],R,{align:"right"}),v.text(X.pagada?"":`$${oi(X.pendiente)}`,H[4],R,{align:"right"}),R+=4,R>T-A&&(v.addPage(),R=A)}),R+=6,v.setFontSize(12),v.text("Detalle de abonos",A,R),R+=4,v.setFontSize(10);const j=[A,A+30,E-A];v.setFont(void 0,"bold"),v.text("Fecha",j[0],R),v.text("Venta",j[1],R),v.text("Monto",j[2],R,{align:"right"}),v.setFont(void 0,"normal"),R+=2,v.line(A,R,E-A,R),R+=4,l.sort((X,nt)=>X.date-nt.date).forEach(X=>{v.text(String(new Date(X.date).toLocaleDateString()),j[0],R),X.saleDescription&&v.text(String(X.saleDescription),j[1],R),v.text(`$${oi(X.amount)}`,j[2],R,{align:"right"}),R+=4,R>T-A&&(v.addPage(),R=A)}),v.setFontSize(9),v.text("Gracias por su preferencia!",E/2,T-A,{align:"center"}),v.save(`estado-${t.name}.pdf`)};if(!t)return G.jsx("p",{children:"Cargando..."});const p=r.reduce((v,E)=>v+E.amount,0),y=l.reduce((v,E)=>v+E.amount,0);return G.jsxs("div",{className:"space-y-6 max-w-2xl",children:[G.jsxs("h2",{className:"text-xl font-bold flex items-center justify-center gap-2",children:[G.jsx("span",{role:"img","aria-hidden":"true",children:""}),"Estado de cuenta"]}),G.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid gap-x-4 gap-y-2 text-sm sm:grid-cols-2",children:[G.jsxs("p",{children:[G.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.name]}),G.jsxs("p",{children:[G.jsx("span",{className:"font-semibold",children:"Telfono:"})," ",t.phone]}),t.notes&&G.jsxs("p",{className:"sm:col-span-2",children:[G.jsx("span",{className:"font-semibold",children:"Notas:"})," ",t.notes]}),G.jsxs("p",{className:"sm:col-span-2",children:[G.jsx("span",{className:"font-semibold",children:"Saldo actual:"})," $",oi(t.balance)]})]}),G.jsx("hr",{className:"border-gray-300"}),G.jsxs("div",{className:"space-y-2",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Ventas"}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"min-w-full text-sm border border-gray-200",children:[G.jsx("thead",{className:"bg-gray-100 text-gray-700",children:G.jsxs("tr",{children:[G.jsx("th",{className:"p-2 text-left",children:"Fecha"}),G.jsx("th",{className:"p-2 text-left",children:"Descripcin"}),G.jsx("th",{className:"p-2 text-right",children:"Monto"}),G.jsx("th",{className:"p-2 text-center",children:"Estado"})]})}),G.jsx("tbody",{children:r.slice().sort((v,E)=>v.date-E.date).map(v=>G.jsxs("tr",{className:"border-t",children:[G.jsx("td",{className:"p-2",children:new Date(v.date).toLocaleDateString()}),G.jsx("td",{className:"p-2",children:v.description}),G.jsxs("td",{className:"p-2 text-right",children:["$",oi(v.amount)]}),G.jsx("td",{className:"p-2 text-center",children:v.pagada?G.jsx("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:" Pagada"}):G.jsx("span",{className:"inline-flex items-center gap-1 bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:" Pendiente"})})]},v.id))})]})})]}),G.jsx("hr",{className:"border-gray-300"}),G.jsxs("div",{className:"space-y-2",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Abonos"}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"min-w-full text-sm border border-gray-200",children:[G.jsx("thead",{className:"bg-gray-100 text-gray-700",children:G.jsxs("tr",{children:[G.jsx("th",{className:"p-2 text-left",children:"Fecha"}),G.jsx("th",{className:"p-2 text-left",children:"Venta"}),G.jsx("th",{className:"p-2 text-right",children:"Monto"})]})}),G.jsx("tbody",{children:l.slice().sort((v,E)=>v.date-E.date).map(v=>G.jsxs("tr",{className:"border-t",children:[G.jsx("td",{className:"p-2",children:new Date(v.date).toLocaleDateString()}),G.jsx("td",{className:"p-2",children:v.saleDescription||""}),G.jsxs("td",{className:"p-2 text-right",children:["$",oi(v.amount)]})]},v.id))})]})})]}),G.jsx("hr",{className:"border-gray-300"}),G.jsxs("div",{className:"space-y-1 text-right",children:[G.jsxs("p",{className:"font-semibold",children:["Total compras: $",oi(p)]}),G.jsxs("p",{className:"font-semibold",children:["Total abonos: $",oi(y)]})]}),G.jsx("div",{className:"text-center",children:G.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded",children:[G.jsx("span",{role:"img","aria-hidden":"true",children:""}),"Generar PDF"]})})]})}function L3({clientId:i,onDone:t}){const[e,r]=me.useState(""),[a,l]=me.useState(new Date().toISOString().split("T")[0]),c=async f=>{f.preventDefault();const p=parseFloat(e);isNaN(p)||!a||(await m1(Si(Le,"clients",i,"payments"),{amount:p,date:Gf(a)}),await Kr(Tn(Le,"clients",i),{balance:ws(-p)}),t&&t())};return G.jsxs("form",{onSubmit:c,className:"bg-white p-4 rounded shadow max-w-md mx-auto space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold text-center",children:"Registrar abono"}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:e,onChange:f=>r(f.target.value),placeholder:"Monto del abono",type:"number",step:"0.01",required:!0}),G.jsx("input",{className:"w-full border rounded px-3 py-2",type:"date",value:a,onChange:f=>l(f.target.value),required:!0}),G.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Guardar"})]})}const qN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20d='M12%2015a3%203%200%20100-6%203%203%200%20000%206z'/%3e%3cpath%20fill-rule='evenodd'%20d='M1.323%2011.447C2.811%206.976%207.028%203.75%2012.001%203.75c4.97%200%209.185%203.223%2010.675%207.69.12.362.12.752%200%201.113-1.487%204.471-5.705%207.697-10.677%207.697-4.97%200-9.186-3.223-10.675-7.69a1.762%201.762%200%20010-1.113zM17.25%2012a5.25%205.25%200%2011-10.5%200%205.25%205.25%200%200110.5%200z'%20clip-rule='evenodd'/%3e%3c/svg%3e",zN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20fill-rule='evenodd'%20d='M5.625%201.5c-1.036%200-1.875.84-1.875%201.875v17.25c0%201.035.84%201.875%201.875%201.875h12.75c1.035%200%201.875-.84%201.875-1.875V12.75A3.75%203.75%200%200016.5%209h-1.875a1.875%201.875%200%2001-1.875-1.875V5.25A3.75%203.75%200%20009%201.5H5.625zM7.5%2015a.75.75%200%2001.75-.75h7.5a.75.75%200%20010%201.5h-7.5A.75.75%200%20017.5%2015zm.75%202.25a.75.75%200%20000%201.5H12a.75.75%200%20000-1.5H8.25z'%20clip-rule='evenodd'/%3e%3cpath%20d='M12.971%201.816A5.23%205.23%200%200114.25%205.25v1.875c0%20.207.168.375.375.375H16.5a5.23%205.23%200%20013.434%201.279%209.768%209.768%200%2000-6.963-6.963z'/%3e%3c/svg%3e",D3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20d='M4.913%202.658c2.075-.27%204.19-.408%206.337-.408%202.147%200%204.262.139%206.337.408%201.922.25%203.291%201.861%203.405%203.727a4.403%204.403%200%2000-1.032-.211%2050.89%2050.89%200%2000-8.42%200c-2.358.196-4.04%202.19-4.04%204.434v4.286a4.47%204.47%200%20002.433%203.984L7.28%2021.53A.75.75%200%20016%2021v-4.03a48.527%2048.527%200%2001-1.087-.128C2.905%2016.58%201.5%2014.833%201.5%2012.862V6.638c0-1.97%201.405-3.718%203.413-3.979z'/%3e%3cpath%20d='M15.75%207.5c-1.376%200-2.739.057-4.086.169C10.124%207.797%209%209.103%209%2010.609v4.285c0%201.507%201.128%202.814%202.67%202.94%201.243.102%202.5.157%203.768.165l2.782%202.781a.75.75%200%20001.28-.53v-2.39l.33-.026c1.542-.125%202.67-1.433%202.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392%2049.392%200%200015.75%207.5z'/%3e%3c/svg%3e",vh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20d='M21.731%202.269a2.625%202.625%200%2000-3.712%200l-1.157%201.157%203.712%203.712%201.157-1.157a2.625%202.625%200%20000-3.712zM19.513%208.199l-3.712-3.712-8.4%208.4a5.25%205.25%200%2000-1.32%202.214l-.8%202.685a.75.75%200%2000.933.933l2.685-.8a5.25%205.25%200%20002.214-1.32l8.4-8.4z'/%3e%3cpath%20d='M5.25%205.25a3%203%200%2000-3%203v10.5a3%203%200%20003%203h10.5a3%203%200%20003-3V13.5a.75.75%200%2000-1.5%200v5.25a1.5%201.5%200%2001-1.5%201.5H5.25a1.5%201.5%200%2001-1.5-1.5V8.25a1.5%201.5%200%20011.5-1.5h5.25a.75.75%200%20000-1.5H5.25z'/%3e%3c/svg%3e",Of="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20fill-rule='evenodd'%20d='M16.5%204.478v.227a48.816%2048.816%200%20013.878.512.75.75%200%2011-.256%201.478l-.209-.035-1.005%2013.07a3%203%200%2001-2.991%202.77H8.084a3%203%200%2001-2.991-2.77L4.087%206.66l-.209.035a.75.75%200%2001-.256-1.478A48.567%2048.567%200%20017.5%204.705v-.227c0-1.564%201.213-2.9%202.816-2.951a52.662%2052.662%200%20013.369%200c1.603.051%202.815%201.387%202.815%202.951zm-6.136-1.452a51.196%2051.196%200%20013.273%200C14.39%203.05%2015%203.684%2015%204.478v.113a49.488%2049.488%200%2000-6%200v-.113c0-.794.609-1.428%201.364-1.452zm-.355%205.945a.75.75%200%2010-1.5.058l.347%209a.75.75%200%20101.499-.058l-.346-9zm5.48.058a.75.75%200%2010-1.498-.058l-.347%209a.75.75%200%20001.5.058l.345-9z'%20clip-rule='evenodd'/%3e%3c/svg%3e",Bm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20fill-rule='evenodd'%20d='M12%203.75a.75.75%200%2001.75.75v6.75h6.75a.75.75%200%20010%201.5h-6.75v6.75a.75.75%200%2001-1.5%200v-6.75H4.5a.75.75%200%20010-1.5h6.75V4.5a.75.75%200%2001.75-.75z'%20clip-rule='evenodd'/%3e%3c/svg%3e",xp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20d='M10.464%208.746c.227-.18.497-.311.786-.394v2.795a2.252%202.252%200%2001-.786-.393c-.394-.313-.546-.681-.546-1.004%200-.323.152-.691.546-1.004zM12.75%2015.662v-2.824c.347.085.664.228.921.421.427.32.579.686.579.991%200%20.305-.152.671-.579.991a2.534%202.534%200%2001-.921.42z'/%3e%3cpath%20fill-rule='evenodd'%20d='M12%202.25c-5.385%200-9.75%204.365-9.75%209.75s4.365%209.75%209.75%209.75%209.75-4.365%209.75-9.75S17.385%202.25%2012%202.25zM12.75%206a.75.75%200%2000-1.5%200v.816a3.836%203.836%200%2000-1.72.756c-.712.566-1.112%201.35-1.112%202.178%200%20.829.4%201.612%201.113%202.178.502.4%201.102.647%201.719.756v2.978a2.536%202.536%200%2001-.921-.421l-.879-.66a.75.75%200%2000-.9%201.2l.879.66c.533.4%201.169.645%201.821.75V18a.75.75%200%20001.5%200v-.81a4.124%204.124%200%20001.821-.749c.745-.559%201.179-1.344%201.179-2.191%200-.847-.434-1.632-1.179-2.191a4.122%204.122%200%2000-1.821-.75V8.354c.29.082.559.213.786.393l.415.33a.75.75%200%2000.933-1.175l-.415-.33a3.836%203.836%200%2000-1.719-.755V6z'%20clip-rule='evenodd'/%3e%3c/svg%3e";function Bv({go:i}){const[t,e]=me.useState([]),[r,a]=me.useState(""),[l,c]=me.useState(!1),[f,p]=me.useState(null),[y,v]=me.useState(null),[E,T]=me.useState(null),{role:A}=id(),R=async()=>{const j=await Yr(Si(Le,"clients"));e(j.docs.map(X=>({id:X.id,...X.data()})))};me.useEffect(()=>{R()},[]);const V=t.filter(j=>j.name.toLowerCase().includes(r.toLowerCase())),H=async j=>{window.confirm("Eliminar este cliente?")&&(await ch(Tn(Le,"clients",j.id)),R())};return G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[G.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded w-full sm:w-auto",children:[G.jsx("img",{src:Bm,alt:"",className:"w-5 h-5"}),"Nuevo cliente"]}),G.jsxs("div",{className:"relative w-full sm:w-auto",children:[G.jsx("input",{className:"border rounded px-3 py-2 pr-8 w-full",placeholder:"Buscar cliente",value:r,onChange:j=>a(j.target.value)}),r&&G.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-700",children:""})]})]}),G.jsx("ul",{className:"grid gap-3",children:V.map(j=>{const X=(j.phone||"").replace(/\D/g,"");return G.jsxs("li",{className:"card border-l-4 border-blue-500",children:[G.jsxs("div",{className:"flex-1",children:[G.jsx("p",{className:"font-semibold",children:j.name}),G.jsxs("p",{className:"text-sm text-gray-800",children:["Deuda: ",`$${oi(j.balance)}`]})]}),G.jsxs("span",{className:"actions",children:[G.jsx("button",{onClick:()=>i("client",j.id),title:"Ver",children:G.jsx("img",{src:qN,alt:"ver",className:"icon"})}),G.jsx("button",{onClick:()=>v(j.id),title:"Estado",children:G.jsx("img",{src:zN,alt:"estado",className:"icon"})}),G.jsx("button",{onClick:()=>T(j.id),title:"Abono",children:G.jsx("img",{src:xp,alt:"abono",className:"icon"})}),X&&G.jsx("a",{href:`https://wa.me/${X}`,target:"_blank",rel:"noopener noreferrer",title:"Mensaje",children:G.jsx("img",{src:D3,alt:"mensaje",className:"icon"})}),A==="Administrador"&&G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:()=>p(j),title:"Editar",children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:()=>H(j),title:"Eliminar",children:G.jsx("img",{src:Of,alt:"eliminar",className:"icon"})})]})]})]},j.id)})}),l&&G.jsx(Oo,{onClose:()=>c(!1),children:G.jsx(I0,{onDone:()=>{c(!1),R()}})}),f&&G.jsx(Oo,{onClose:()=>p(null),children:G.jsx(I0,{client:f,onDone:()=>{p(null),R()}})}),y&&G.jsx(Oo,{onClose:()=>v(null),children:G.jsx(FN,{clientId:y})}),E&&G.jsx(Oo,{onClose:()=>T(null),children:G.jsx(L3,{clientId:E,onDone:()=>{T(null),R()}})})]})}function HN({id:i,go:t}){const[e,r]=me.useState(null),[a,l]=me.useState([]),[c,f]=me.useState([]),[p,y]=me.useState(""),[v,E]=me.useState(!1),[T,A]=me.useState(null),[R,V]=me.useState(""),[H,j]=me.useState(""),[X,nt]=me.useState(null),[At,bt]=me.useState(""),[kt,W]=me.useState(""),{role:L}=id();me.useEffect(()=>{const B=H2(Tn(Le,"clients",i),U=>{r({id:U.id,...U.data()})}),pt=H2(Si(Le,"clients",i,"payments"),U=>{l(U.docs.map(J=>({id:J.id,...J.data()})).sort((J,rt)=>J.date-rt.date))}),P=H2(Si(Le,"clients",i,"sales"),U=>{f(U.docs.map(J=>({id:J.id,...J.data()})).sort((J,rt)=>J.date-rt.date))});return()=>{B(),pt(),P()}},[i]);const z=async B=>{if(B.preventDefault(),!p)return;const pt=parseFloat(p);await m1(Si(Le,"clients",i,"payments"),{amount:pt,date:Date.now()}),await Kr(Tn(Le,"clients",i),{balance:ws(-pt)}),y("")},Z=B=>{A(B.id),V(B.amount),j(new Date(B.date).toISOString().split("T")[0])},I=()=>{A(null),V(""),j("")},C=async B=>{const pt=parseFloat(R);if(isNaN(pt)||!H)return;await Kr(Tn(Le,"clients",i,"payments",B.id),{amount:pt,date:Gf(H)});const P=pt-B.amount;P!==0&&await Kr(Tn(Le,"clients",i),{balance:ws(-P)}),I()},O=async B=>{window.confirm("Eliminar este abono?")&&(await ch(Tn(Le,"clients",i,"payments",B.id)),await Kr(Tn(Le,"clients",i),{balance:ws(B.amount)}))},at=B=>{nt(B.id),bt(B.amount),W(new Date(B.date).toISOString().split("T")[0])},Tt=()=>{nt(null),bt(""),W("")},et=async B=>{const pt=parseFloat(At);if(isNaN(pt)||!kt)return;await Kr(Tn(Le,"clients",i,"sales",B.id),{amount:pt,date:Gf(kt)});const P=pt-B.amount;P!==0&&await Kr(Tn(Le,"clients",i),{balance:ws(P),total:ws(P)}),Tt()},ht=async B=>{window.confirm("Eliminar esta venta?")&&(await ch(Tn(Le,"clients",i,"sales",B.id)),await Kr(Tn(Le,"clients",i),{balance:ws(-B.amount),total:ws(-B.amount)}))},ut=async()=>{window.confirm("Eliminar este cliente?")&&(await ch(Tn(Le,"clients",i)),t("clients"))},Nt=C3(c.map(B=>({...B})),a);return e?G.jsxs("div",{className:"space-y-4",children:[G.jsx("button",{onClick:()=>t("list"),className:"bg-blue-500 text-white px-3 py-2 rounded",children:"Regresar"}),G.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.name,L==="Administrador"&&G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:()=>E(!0),children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:ut,children:G.jsx("img",{src:Of,alt:"eliminar",className:"icon"})})]})]}),G.jsxs("p",{className:"text-gray-800",children:["Telfono: ",e.phone]}),e.notes&&G.jsxs("p",{className:"text-gray-800",children:["Observaciones: ",e.notes]}),G.jsxs("p",{className:"text-gray-800",children:["Deuda actual: $",oi(e.balance)]}),G.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[G.jsx("input",{className:"border rounded px-3 py-2 flex-1",value:p,onChange:B=>y(B.target.value),placeholder:"Monto del abono",type:"number",step:"0.01"}),G.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-3 py-2 rounded",children:"Registrar abono"})]}),G.jsxs("div",{className:"section",children:[G.jsx("h3",{className:"text-lg font-semibold flex items-center gap-2",children:" Ventas"}),G.jsx("ul",{className:"grid gap-2",children:Nt.map(B=>G.jsx("li",{className:"card",children:L==="Administrador"&&X===B.id?G.jsxs(G.Fragment,{children:[G.jsx("input",{className:"border rounded px-2 py-1 mr-2",type:"number",step:"0.01",value:At,onChange:pt=>bt(pt.target.value)}),G.jsx("input",{className:"border rounded px-2 py-1 mr-2",type:"date",value:kt,onChange:pt=>W(pt.target.value)}),G.jsx("button",{onClick:()=>et(B),className:"bg-blue-500 text-white px-2 py-1 rounded mr-1",children:"Guardar"}),G.jsx("button",{onClick:Tt,className:"px-2 py-1 rounded border",children:"Cancelar"})]}):G.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 w-full",children:[G.jsxs("div",{className:"flex-1 space-y-1",children:[G.jsxs("p",{className:"text-sm flex items-center gap-1",children:[G.jsx("span",{children:""}),new Date(B.date).toLocaleDateString()]}),G.jsxs("p",{className:"text-sm flex items-center gap-1",children:[G.jsx("span",{children:""}),B.description]}),G.jsxs("p",{className:"text-sm flex items-center gap-1 font-medium",children:[G.jsx("span",{children:""}),"$",oi(B.amount)]})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:`inline-flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full ${B.pagada?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:B.pagada?" Pagada":" Pendiente"}),L==="Administrador"&&G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:()=>at(B),title:"Editar",children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:()=>ht(B),title:"Eliminar",children:G.jsx("img",{src:Of,alt:"eliminar",className:"icon"})})]})]})]})},B.id))})]}),G.jsxs("div",{className:"section",children:[G.jsx("h3",{className:"text-lg font-semibold flex items-center gap-2",children:" Abonos"}),G.jsx("ul",{className:"grid gap-2",children:a.map(B=>G.jsx("li",{className:"card",children:T===B.id?G.jsxs(G.Fragment,{children:[G.jsx("input",{className:"border rounded px-2 py-1 mr-2",type:"number",step:"0.01",value:R,onChange:pt=>V(pt.target.value)}),G.jsx("input",{className:"border rounded px-2 py-1 mr-2",type:"date",value:H,onChange:pt=>j(pt.target.value)}),G.jsx("button",{onClick:()=>C(B),className:"bg-blue-500 text-white px-2 py-1 rounded mr-1",children:"Guardar"}),G.jsx("button",{onClick:I,className:"px-2 py-1 rounded border",children:"Cancelar"})]}):G.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 w-full",children:[G.jsxs("div",{className:"flex-1 space-y-1",children:[G.jsxs("p",{className:"text-sm flex items-center gap-1",children:[G.jsx("span",{children:""}),new Date(B.date).toLocaleDateString()]}),G.jsxs("p",{className:"text-sm flex items-center gap-1 font-medium",children:[G.jsx("span",{children:""}),"$",oi(B.amount)]})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("button",{onClick:()=>Z(B),title:"Editar",children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:()=>O(B),title:"Eliminar",children:G.jsx("img",{src:Of,alt:"eliminar",className:"icon"})})]})]})},B.id))})]}),L==="Administrador"&&v&&G.jsx(Oo,{onClose:()=>E(!1),children:G.jsx(I0,{client:e,onDone:()=>E(!1)})})]}):G.jsx("p",{children:"Cargando..."})}const GN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20d='M2.25%202.25a.75.75%200%20000%201.5h1.386c.17%200%20.318.114.362.278l2.558%209.592a3.752%203.752%200%2000-2.806%203.63c0%20.414.336.75.75.75h15.75a.75.75%200%20000-1.5H5.378A2.25%202.25%200%20017.5%2015h11.218a.75.75%200%2000.674-.421%2060.358%2060.358%200%20002.96-7.228.75.75%200%2000-.525-.965A60.864%2060.864%200%20005.68%204.509l-.232-.867A1.875%201.875%200%20003.636%202.25H2.25zM3.75%2020.25a1.5%201.5%200%20113%200%201.5%201.5%200%2001-3%200zM16.5%2020.25a1.5%201.5%200%20113%200%201.5%201.5%200%2001-3%200z'/%3e%3c/svg%3e",YN="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='currentColor'%20aria-hidden='true'%3e%3cpath%20fill-rule='evenodd'%20d='M8.25%206.75a3.75%203.75%200%20117.5%200%203.75%203.75%200%2001-7.5%200zM15.75%209.75a3%203%200%20116%200%203%203%200%2001-6%200zM2.25%209.75a3%203%200%20116%200%203%203%200%2001-6%200zM6.31%2015.117A6.745%206.745%200%200112%2012a6.745%206.745%200%20016.709%207.498.75.75%200%2001-.372.568A12.696%2012.696%200%200112%2021.75c-2.305%200-4.47-.612-6.337-1.684a.75.75%200%2001-.372-.568%206.787%206.787%200%20011.019-4.38z'%20clip-rule='evenodd'/%3e%3cpath%20d='M5.082%2014.254a8.287%208.287%200%2000-1.308%205.135%209.687%209.687%200%2001-1.764-.44l-.115-.04a.563.563%200%2001-.373-.487l-.01-.121a3.75%203.75%200%20013.57-4.047zM20.226%2019.389a8.287%208.287%200%2000-1.308-5.135%203.75%203.75%200%20013.57%204.047l-.01.121a.563.563%200%2001-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z'/%3e%3c/svg%3e";function KN(){const[i,t]=me.useState({outstanding:0,monthlyPayments:0,totalSales:0,recoveryRate:0,avgPayDays:0,topDebtor:null,dueBalance:0,overdueBalance:0,monthlySales:[]}),[e,r]=me.useState([]),[a,l]=me.useState(null),c=me.useRef(null),f=async()=>{const v=await Yr(Si(Le,"clients")),E=Date.now(),T=720*60*60*1e3,A=new Date(new Date().getFullYear(),new Date().getMonth(),1).getTime(),R={};let V=0,H=0,j=0,X=0,nt=0,At={balance:0},bt=0,kt=0;const W=[];for(const O of v.docs){const at=O.data(),Tt=O.id,et=at.balance||0,ht=at.name;V+=et,et>At.balance&&(At={id:Tt,name:ht,balance:et});const ut=await Yr(Si(Le,"clients",Tt,"sales")),Nt=await Yr(Si(Le,"clients",Tt,"payments")),B=ut.docs.map(U=>({id:U.id,...U.data()})).sort((U,J)=>U.date-J.date),pt=Nt.docs.map(U=>({id:U.id,...U.data()})).sort((U,J)=>U.date-J.date);if(B.forEach(U=>{H+=U.amount;const J=new Date(U.date),rt=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`;R[rt]=(R[rt]||0)+1}),pt.forEach(U=>{U.date>=A&&(j+=U.amount)}),et>0){let U=0;pt.forEach(J=>{J.date>U&&(U=J.date)}),!U&&B.length&&(U=B[B.length-1].date),E-U>=T?(kt+=et,W.push({id:Tt,name:ht,phone:at.phone,balance:et,lastPayment:U})):bt+=et}const P=B.map(U=>({date:U.date,remaining:U.amount}));for(const U of pt){let J=U.amount;for(;J>0&&P.length;){const rt=P[0],lt=Math.min(rt.remaining,J);if(X+=(U.date-rt.date)/(1e3*60*60*24),nt++,rt.remaining-=lt,J-=lt,rt.remaining<=0)P.shift();else break}}}const L=6;let Z=Object.keys(R).sort().slice(-L).map(O=>({month:O,count:R[O]}));if(Z.length===0){const O=new Date;Z=[];for(let at=L-1;at>=0;at--){const Tt=new Date(O.getFullYear(),O.getMonth()-at,1),et=`${Tt.getFullYear()}-${String(Tt.getMonth()+1).padStart(2,"0")}`;Z.push({month:et,count:R[et]||0})}}const I=H?j/H*100:0,C=nt?X/nt:0;t({outstanding:V,monthlyPayments:j,totalSales:H,recoveryRate:I,avgPayDays:C,topDebtor:At,dueBalance:bt,overdueBalance:kt,monthlySales:Z}),r(W)};me.useEffect(()=>{f()},[]);const p=async()=>{const v={},E=await Yr(Si(Le,"clients")),T=[];for(const X of E.docs){const nt=await Yr(Si(Le,"clients",X.id,"sales")),At=await Yr(Si(Le,"clients",X.id,"payments"));T.push({id:X.id,...X.data(),sales:nt.docs.map(bt=>({id:bt.id,...bt.data()})),payments:At.docs.map(bt=>({id:bt.id,...bt.data()}))})}v.clients=T;const A=await Yr(Si(Le,"usuarios"));v.usuarios=A.docs.map(X=>({id:X.id,...X.data()}));const R=await Yr(Si(Le,"users"));v.users=R.docs.map(X=>({id:X.id,...X.data()}));const V=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),H=URL.createObjectURL(V),j=document.createElement("a");j.href=H,j.download="database.json",j.click(),URL.revokeObjectURL(H)},y=async v=>{const E=v.target.files[0];if(!E)return;const T=await E.text(),A=JSON.parse(T);if(A.clients)for(const R of A.clients){if(await _u(Tn(Le,"clients",R.id),{name:R.name,phone:R.phone,notes:R.notes,balance:R.balance,total:R.total}),R.sales)for(const V of R.sales)await _u(Tn(Le,"clients",R.id,"sales",V.id),{amount:V.amount,date:V.date});if(R.payments)for(const V of R.payments)await _u(Tn(Le,"clients",R.id,"payments",V.id),{amount:V.amount,date:V.date})}if(A.usuarios)for(const R of A.usuarios)await _u(Tn(Le,"usuarios",R.id),R);if(A.users)for(const R of A.users)await _u(Tn(Le,"users",R.id),R);alert("Importacin completada")};return G.jsxs("div",{className:"space-y-6",children:[G.jsx("h2",{className:"text-xl font-semibold",children:"Panel de Finanzas"}),G.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("img",{src:xp,alt:"",className:"w-6 h-6 text-blue-600"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Saldo por cobrar"}),G.jsx("p",{className:"text-lg font-bold",children:`$${oi(i.outstanding)}`})]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("img",{src:xp,alt:"",className:"w-6 h-6 text-green-600"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Abonos del mes"}),G.jsx("p",{className:"text-lg font-bold",children:`$${oi(i.monthlyPayments)}`})]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("img",{src:GN,alt:"",className:"w-6 h-6 text-blue-600"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Total ventas a crdito"}),G.jsx("p",{className:"text-lg font-bold",children:`$${oi(i.totalSales)}`})]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:G.jsx("path",{d:"M2.25 13.5A8.25 8.25 0 0110.5 5.25V3a.75.75 0 011.5 0v2.25A8.25 8.25 0 0120.25 13.5h2.25a.75.75 0 010 1.5H20.25A8.25 8.25 0 0111.25 23.25v2.25a.75.75 0 01-1.5 0v-2.25A8.25 8.25 0 012.25 15H0a.75.75 0 010-1.5h2.25z"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Recuperacin"}),G.jsxs("p",{className:"text-lg font-bold",children:[i.recoveryRate.toFixed(1),"%"]})]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:G.jsx("path",{fillRule:"evenodd",d:"M12 1.5a10.5 10.5 0 100 21 10.5 10.5 0 000-21zM12 3a9 9 0 110 18A9 9 0 0112 3zm-.75 4.5a.75.75 0 011.5 0v4.336l3.404 1.967a.75.75 0 01-.758 1.288l-3.75-2.167A.75.75 0 0111.25 12V7.5z",clipRule:"evenodd"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Promedio de pago (das)"}),G.jsx("p",{className:"text-lg font-bold",children:i.avgPayDays.toFixed(1)})]})]}),i.topDebtor&&G.jsxs("div",{className:"bg-white p-4 rounded shadow flex items-center gap-3",children:[G.jsx("img",{src:YN,alt:"",className:"w-6 h-6 text-red-600"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Mayor saldo"}),G.jsx("p",{className:"text-lg font-bold",children:`${i.topDebtor.name} - $${oi(i.topDebtor.balance)}`})]})]})]}),G.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[G.jsx("h3",{className:"font-medium mb-2",children:"Ventas a crdito por mes"}),G.jsxs("table",{className:"w-full text-sm text-left",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"px-2 py-1 border-b text-center",children:"Mes"}),G.jsx("th",{className:"px-2 py-1 border-b text-center",children:"Cantidad"})]})}),G.jsx("tbody",{children:i.monthlySales.map(v=>G.jsxs("tr",{className:"odd:bg-gray-50",children:[G.jsx("td",{className:"px-2 py-1 border-b",children:v.month}),G.jsx("td",{className:"px-2 py-1 border-b text-center",children:v.count})]},v.month))})]})]}),e.length>0&&G.jsxs("div",{className:"space-y-2",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Clientes Morosos"}),G.jsx("ul",{className:"grid gap-3",children:e.map(v=>{const E=(v.phone||"").replace(/\D/g,"");return G.jsxs("li",{className:"card border-l-4 border-red-500",children:[G.jsxs("div",{className:"flex-1",children:[G.jsx("p",{className:"font-semibold",children:`${v.name} - $${oi(v.balance)}`}),G.jsxs("p",{className:"text-sm text-gray-700",children:["ltimo abono: ",new Date(v.lastPayment).toLocaleDateString()]})]}),G.jsxs("span",{className:"actions",children:[G.jsx("button",{onClick:()=>l(v.id),title:"Abono",children:G.jsx("img",{src:xp,alt:"abono",className:"icon"})}),E&&G.jsx("a",{href:`https://wa.me/${E}`,target:"_blank",rel:"noopener noreferrer",title:"Mensaje",children:G.jsx("img",{src:D3,alt:"mensaje",className:"icon"})})]})]},v.id)})})]}),a&&G.jsx(Oo,{onClose:()=>l(null),children:G.jsx(L3,{clientId:a,onDone:()=>{l(null),f()}})}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Exportar DB"}),G.jsx("button",{onClick:()=>c.current.click(),className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Importar DB"})]}),G.jsx("input",{type:"file",accept:"application/json",ref:c,style:{display:"none"},onChange:y})]})}function Fv({go:i,onDone:t,sale:e}){const[r,a]=me.useState([]),[l,c]=me.useState(e?.clientId||""),[f,p]=me.useState(e?.amount||""),[y,v]=me.useState((e?.description||"").toUpperCase()),[E,T]=me.useState(()=>e?.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]);me.useEffect(()=>{(async()=>{const V=await Yr(Si(Le,"clients"));a(V.docs.map(H=>({id:H.id,...H.data()})))})()},[]),me.useEffect(()=>{e&&(c(e.clientId),p(e.amount),v(e.description.toUpperCase()),T(new Date(e.date).toISOString().split("T")[0]))},[e]);const A=async R=>{if(R.preventDefault(),!l||!f||!y||!E)return;const V=parseFloat(f),H=Tn(Le,"clients",l);if(e){const j=V-e.amount;await Kr(Tn(H,"sales",e.id),{amount:V,description:y.toUpperCase(),date:Gf(E)}),j!==0&&await Kr(H,{balance:ws(j),total:ws(j)})}else{const j=Gf(E);await m1(Si(H,"sales"),{amount:V,description:y.toUpperCase(),date:j}),await Kr(H,{balance:ws(V),total:ws(V)});const X=r.find(nt=>nt.id===l);if(X){const nt=new Ce({unit:"mm",format:[58,100]});nt.setFont("helvetica","bold"),nt.setFontSize(16),nt.text("Vende Ms",29,8,{align:"center"}),nt.setLineWidth(.1),nt.line(5,11,53,11),nt.setFont("helvetica","normal"),nt.setFontSize(10),nt.text(`Cliente: ${X.name}`,5,17),nt.text(`Fecha: ${new Date(j).toLocaleString()}`,5,23),nt.line(5,26,53,26),nt.setFont("helvetica","bold"),nt.text("Descripcin",5,32),nt.text("Monto",53,32,{align:"right"}),nt.setFont("helvetica","normal"),nt.text(String(y),5,38),nt.text(`$${oi(V)}`,53,38,{align:"right"}),nt.line(5,44,53,44),nt.setFont("helvetica","bold"),nt.text("TOTAL:",40,50,{align:"right"}),nt.setFontSize(14),nt.text(`$${oi(V)}`,53,50,{align:"right"}),nt.setFont("helvetica","normal"),nt.setFontSize(9),nt.text("Gracias por tu compra!",29,96,{align:"center"}),nt.save("ticket.pdf")}}t?t(l):i("client",l)};return G.jsxs("form",{onSubmit:A,className:"bg-white p-4 rounded shadow max-w-md mx-auto space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold text-center",children:e?"Editar Venta":"Nueva Venta"}),e?G.jsxs("p",{className:"font-medium",children:["Cliente: ",e.clientName]}):G.jsxs("select",{className:"w-full border rounded px-3 py-2",value:l,onChange:R=>c(R.target.value),required:!0,children:[G.jsx("option",{value:"",disabled:!0,children:"Selecciona un cliente"}),r.map(R=>G.jsx("option",{value:R.id,children:R.name},R.id))]}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:y,onChange:R=>v(R.target.value.toUpperCase()),placeholder:"Descripcin",required:!0}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:f,onChange:R=>p(R.target.value),placeholder:"Monto",type:"number",step:"0.01",required:!0}),G.jsx("input",{className:"w-full border rounded px-3 py-2",type:"date",value:E,onChange:R=>T(R.target.value),required:!0}),G.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:e?"Guardar cambios":"Registrar venta"})]})}function QN(){const[i,t]=me.useState([]),[e,r]=me.useState(""),[a,l]=me.useState(!1),[c,f]=me.useState(null),{role:p}=id(),y=async()=>{const T=await Yr(Si(Le,"clients")),A=[];for(const R of T.docs)(await Yr(Si(Le,"clients",R.id,"sales"))).forEach(H=>{A.push({id:H.id,clientId:R.id,clientName:R.data().name,...H.data()})});t(A)};me.useEffect(()=>{y()},[]);const v=async T=>{window.confirm("Eliminar esta venta?")&&(await ch(Tn(Le,"clients",T.clientId,"sales",T.id)),await Kr(Tn(Le,"clients",T.clientId),{balance:ws(-T.amount),total:ws(-T.amount)}),y())},E=i.filter(T=>T.clientName.toLowerCase().includes(e.toLowerCase()));return G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[G.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded w-full sm:w-auto",children:[G.jsx("img",{src:Bm,alt:"",className:"w-5 h-5"}),"Nueva venta"]}),G.jsxs("div",{className:"relative w-full sm:w-auto",children:[G.jsx("input",{className:"border rounded px-3 py-2 pr-8 w-full",placeholder:"Buscar por cliente",value:e,onChange:T=>r(T.target.value)}),e&&G.jsx("button",{type:"button",onClick:()=>r(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-700",children:""})]})]}),G.jsx("ul",{className:"grid gap-3",children:E.map(T=>G.jsxs("li",{className:"card border-l-4 border-blue-500",children:[G.jsxs("div",{className:"flex-1",children:[G.jsx("p",{className:"font-semibold",children:T.clientName}),G.jsxs("p",{className:"text-sm text-gray-800",children:[new Date(T.date).toLocaleDateString()," - ",T.description," - $",oi(T.amount)]})]}),G.jsx("span",{className:"actions",children:p==="Administrador"&&G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:()=>f(T),title:"Editar",children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:()=>v(T),title:"Eliminar",children:G.jsx("img",{src:Of,alt:"eliminar",className:"icon"})})]})})]},`${T.clientId}-${T.id}`))}),a&&G.jsx(Oo,{onClose:()=>l(!1),children:G.jsx(Fv,{onDone:()=>{l(!1),y()}})}),p==="Administrador"&&c&&G.jsx(Oo,{onClose:()=>f(null),children:G.jsx(Fv,{sale:c,onDone:()=>{f(null),y()}})})]})}function XN({onDone:i}){const[t,e]=me.useState(""),[r,a]=me.useState(""),[l,c]=me.useState("Vendedor"),f=async p=>{p.preventDefault(),r&&(await _u(Tn(Le,"usuarios",r),{createdAt:Date.now(),name:t,role:l}),i&&i())};return G.jsxs("form",{onSubmit:f,className:"bg-white p-4 rounded shadow max-w-md mx-auto space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold text-center",children:"Nuevo Usuario"}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:t,onChange:p=>e(p.target.value),placeholder:"Nombre",required:!0}),G.jsx("input",{className:"w-full border rounded px-3 py-2",type:"email",value:r,onChange:p=>a(p.target.value),placeholder:"Correo",required:!0}),G.jsxs("select",{className:"w-full border rounded px-3 py-2",value:l,onChange:p=>c(p.target.value),children:[G.jsx("option",{value:"Vendedor",children:"Vendedor"}),G.jsx("option",{value:"Administrador",children:"Administrador"})]}),G.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Guardar"})]})}function WN({user:i,onDone:t}){const[e,r]=me.useState("");me.useEffect(()=>{r(i.displayName||"")},[i]);const a=async l=>{l.preventDefault(),e&&(await Kr(Tn(Le,"users",i.id),{displayName:e}),t&&t())};return G.jsxs("form",{onSubmit:a,className:"bg-white p-4 rounded shadow max-w-md mx-auto space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold text-center",children:"Editar nombre"}),G.jsx("input",{className:"w-full border rounded px-3 py-2",value:e,onChange:l=>r(l.target.value),placeholder:"Nombre",required:!0}),G.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Guardar"})]})}function $N(){const[i,t]=me.useState([]),[e,r]=me.useState([]),[a,l]=me.useState(!1),[c,f]=me.useState(null),p=async()=>{const T=await Yr(Si(Le,"usuarios"));t(T.docs.map(R=>({id:R.id,...R.data()})));const A=await Yr(Si(Le,"users"));r(A.docs.map(R=>({id:R.id,...R.data()})))};me.useEffect(()=>{p()},[]);const y=async T=>{await ch(Tn(Le,"usuarios",T)),p()},v=async(T,A,R)=>{T&&await Kr(Tn(Le,"users",T),{role:R}),await Kr(Tn(Le,"usuarios",A),{role:R}),p()},E=i.map(T=>{const A=e.find(R=>R.email===T.id);return{email:T.id,name:A?.displayName||T.name,photoURL:A?.photoURL,role:A?.role||T.role||"Vendedor",userId:A?.id}});return G.jsxs("div",{className:"space-y-6",children:[G.jsx("div",{className:"flex justify-start",children:G.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded w-full sm:w-auto",children:[G.jsx("img",{src:Bm,alt:"",className:"w-5 h-5"}),"Nuevo usuario"]})}),G.jsxs("div",{className:"space-y-2",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Usuarios Registrados"}),G.jsx("ul",{className:"grid gap-2",children:E.map(T=>G.jsxs("li",{className:"card sm:flex-row sm:items-center",children:[G.jsx("img",{src:T.photoURL||"/vite.svg",alt:"avatar",className:"w-12 h-12 rounded-full"}),G.jsxs("div",{className:"flex-1",children:[G.jsx("p",{className:"font-semibold",children:T.name||T.email}),G.jsx("p",{className:"text-sm text-gray-600",children:T.email})]}),G.jsxs("select",{value:T.role,onChange:A=>v(T.userId,T.email,A.target.value),className:"border rounded px-2 py-1",children:[G.jsx("option",{value:"Vendedor",children:"Vendedor"}),G.jsx("option",{value:"Administrador",children:"Administrador"})]}),T.userId&&G.jsx("button",{onClick:()=>f(e.find(A=>A.id===T.userId)),title:"Editar nombre",children:G.jsx("img",{src:vh,alt:"editar",className:"icon"})}),G.jsx("button",{onClick:()=>y(T.email),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Eliminar"})]},T.email))})]}),a&&G.jsx(Oo,{onClose:()=>l(!1),children:G.jsx(XN,{onDone:()=>{l(!1),p()}})}),c&&G.jsx(Oo,{onClose:()=>f(null),children:G.jsx(WN,{user:c,onDone:()=>{f(null),p()}})})]})}function JN(){const{login:i}=id();return G.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:G.jsxs("div",{className:"bg-white p-6 rounded shadow text-center space-y-4",children:[G.jsx("img",{src:"/assets/logo.png",alt:"Claus Vende",className:"h-12 mx-auto"}),G.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Ingresa"}),G.jsx("button",{onClick:i,className:"bg-blue-900 text-white px-4 py-2 rounded",children:"Iniciar sesin con Google"})]})})}function ZN({page:i,setPage:t}){const{user:e,role:r,logout:a}=id(),[l,c]=me.useState(!1);if(!e)return G.jsx(JN,{});const f=T=>{const A=T?T.trim().split(/\s+/):[];return A.length<=2?{nombres:A[0]||"",apellidos:A.slice(1).join(" ")}:{nombres:A.slice(0,A.length-2).join(" "),apellidos:A.slice(A.length-2).join(" ")}},{nombres:p,apellidos:y}=f(e.displayName),v=(T,A=null)=>{(T==="finance"||T==="users")&&r!=="Administrador"||(t({name:T,clientId:A}),c(!1))};let E;switch(i.name){case"clients":E=G.jsx(Bv,{go:v});break;case"sales":E=G.jsx(QN,{});break;case"finance":E=r==="Administrador"?G.jsx(KN,{}):G.jsx("p",{className:"text-center",children:"Acceso restringido"});break;case"users":E=r==="Administrador"?G.jsx($N,{}):G.jsx("p",{className:"text-center",children:"Acceso restringido"});break;case"client":E=G.jsx(HN,{id:i.clientId,go:v});break;default:E=G.jsx(Bv,{go:v})}return G.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[l&&G.jsx("div",{className:"fixed inset-0 bg-black/50 md:hidden z-10",onClick:()=>c(!1)}),G.jsxs("aside",{className:`bg-blue-900 text-white w-60 p-4 space-y-2 fixed inset-y-0 left-0 transform ${l?"translate-x-0":"-translate-x-full"} transition-transform md:relative md:translate-x-0 z-20`,children:[G.jsx("button",{className:"md:hidden absolute top-2 right-2 text-2xl",onClick:()=>c(!1),children:""}),G.jsx("h1",{className:"text-lg font-semibold mb-4 text-center",children:"Men"}),G.jsxs("nav",{className:"flex flex-col gap-2",children:[G.jsxs("button",{onClick:()=>v("sales"),className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-blue-500 text-left group",children:[G.jsx("svg",{className:"w-5 h-5 text-current group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:G.jsx("path",{d:"M2.25 2.25a.75.75 0 000 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 00-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 000-1.5H5.378A2.25 2.25 0 017.5 15h11.218a.75.75 0 00.674-.421 60.358 60.358 0 002.96-7.228.75.75 0 00-.525-.965A60.864 60.864 0 005.68 4.509l-.232-.867A1.875 1.875 0 003.636 2.25H2.25zM3.75 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM16.5 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"})}),"Ventas"]}),G.jsxs("button",{onClick:()=>v("clients"),className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-blue-500 text-left group",children:[G.jsxs("svg",{className:"w-5 h-5 text-current group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[G.jsx("path",{"fill-rule":"evenodd",d:"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.787 0 011.019-4.38z","clip-rule":"evenodd"}),G.jsx("path",{d:"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z"})]}),"Clientes"]}),r==="Administrador"&&G.jsxs(G.Fragment,{children:[G.jsxs("button",{onClick:()=>v("finance"),className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-blue-500 text-left group",children:[G.jsxs("svg",{className:"w-5 h-5 text-current group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[G.jsx("path",{d:"M10.464 8.746c.227-.18.497-.311.786-.394v2.795a2.252 2.252 0 01-.786-.393c-.394-.313-.546-.681-.546-1.004 0-.323.152-.691.546-1.004zM12.75 15.662v-2.824c.347.085.664.228.921.421.427.32.579.686.579.991 0 .305-.152.671-.579.991a2.534 2.534 0 01-.921.42z"}),G.jsx("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v.816a3.836 3.836 0 00-1.72.756c-.712.566-1.112 1.35-1.112 2.178 0 .829.4 1.612 1.113 2.178.502.4 1.102.647 1.719.756v2.978a2.536 2.536 0 01-.921-.421l-.879-.66a.75.75 0 00-.9 1.2l.879.66c.533.4 1.169.645 1.821.75V18a.75.75 0 001.5 0v-.81a4.124 4.124 0 001.821-.749c.745-.559 1.179-1.344 1.179-2.191 0-.847-.434-1.632-1.179-2.191a4.122 4.122 0 00-1.821-.75V8.354c.29.082.559.213.786.393l.415.33a.75.75 0 00.933-1.175l-.415-.33a3.836 3.836 0 00-1.719-.755V6z","clip-rule":"evenodd"})]}),"Finanzas"]}),G.jsxs("button",{onClick:()=>v("users"),className:"flex items-center gap-2 px-3 py-2 rounded hover:bg-blue-500 text-left group",children:[G.jsx("svg",{className:"w-5 h-5 text-current group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:G.jsx("path",{d:"M15.75 9A3.75 3.75 0 1112 5.25 3.75 3.75 0 0115.75 9zm-7.5 0A3.75 3.75 0 115 5.25 3.75 3.75 0 018.25 9zM3 20.25a8.25 8.25 0 1118 0v1.5H3v-1.5z"})}),"Usuarios"]})]})]})]}),G.jsxs("div",{className:"flex-1 flex flex-col",children:[G.jsxs("header",{className:"fixed top-0 left-0 right-0 md:left-60 md:right-4 bg-white shadow",children:[G.jsx("div",{className:"px-4 py-2 text-center",children:G.jsx("img",{src:"/assets/logo.png",alt:"Claus Vende",className:"h-8 mx-auto"})}),G.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("button",{className:"md:hidden text-2xl mr-2",onClick:()=>c(!l),children:""}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("img",{src:e.photoURL,alt:"avatar",className:"w-8 h-8 rounded-full"}),G.jsxs("div",{className:"leading-tight",children:[G.jsx("p",{className:"font-semibold leading-tight md:hidden",children:p}),G.jsx("p",{className:"font-semibold leading-tight md:hidden",children:y}),G.jsx("p",{className:"font-semibold leading-none hidden md:block",children:e.displayName}),G.jsx("p",{className:"text-xs text-gray-700",children:r})]})]})]}),G.jsx("button",{onClick:a,className:"bg-red-500 text-white px-3 py-1 rounded",children:"Cerrar sesin"})]})]}),G.jsx("main",{className:"p-4 pt-36 md:pt-36 flex-1",children:E})]})]})}function t7(){const[i,t]=me.useState({name:"clients"});return G.jsx(Bx,{children:G.jsx(ZN,{page:i,setPage:t})})}H4.createRoot(document.getElementById("root")).render(G.jsx(me.StrictMode,{children:G.jsx(t7,{})}));export{kn as _};
